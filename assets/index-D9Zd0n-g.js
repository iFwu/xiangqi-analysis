var po=Object.defineProperty;var ue=i=>{throw TypeError(i)};var wo=(i,e,o)=>e in i?po(i,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[e]=o;var fe=(i,e,o)=>wo(i,typeof e!="symbol"?e+"":e,o),Gt=(i,e,o)=>e.has(i)||ue("Cannot "+o);var st=(i,e,o)=>(Gt(i,e,"read from private field"),o?o.call(i):e.get(i)),Ot=(i,e,o)=>e.has(i)?ue("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,o),Rt=(i,e,o,t)=>(Gt(i,e,"write to private field"),t?t.call(i,o):e.set(i,o),o),Bt=(i,e,o)=>(Gt(i,e,"access private method"),o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();var Jt,O,Qe,ct,me,Je,Pt,ee,Xt,Zt,Et={},Ae=[],Eo=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,oe=Array.isArray;function ht(i,e){for(var o in e)i[o]=e[o];return i}function We(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function _o(i,e,o){var t,n,s,l={};for(s in e)s=="key"?t=e[s]:s=="ref"?n=e[s]:l[s]=e[s];if(arguments.length>2&&(l.children=arguments.length>3?Jt.call(arguments,2):o),typeof i=="function"&&i.defaultProps!=null)for(s in i.defaultProps)l[s]===void 0&&(l[s]=i.defaultProps[s]);return It(i,l,t,n,null)}function It(i,e,o,t,n){var s={type:i,props:e,key:o,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:n??++Qe,__i:-1,__u:0};return n==null&&O.vnode!=null&&O.vnode(s),s}function qt(i){return i.children}function Mt(i,e){this.props=i,this.context=e}function dt(i,e){if(e==null)return i.__?dt(i.__,i.__i+1):null;for(var o;e<i.__k.length;e++)if((o=i.__k[e])!=null&&o.__e!=null)return o.__e;return typeof i.type=="function"?dt(i):null}function je(i){var e,o;if((i=i.__)!=null&&i.__c!=null){for(i.__e=i.__c.base=null,e=0;e<i.__k.length;e++)if((o=i.__k[e])!=null&&o.__e!=null){i.__e=i.__c.base=o.__e;break}return je(i)}}function ge(i){(!i.__d&&(i.__d=!0)&&ct.push(i)&&!Tt.__r++||me!==O.debounceRendering)&&((me=O.debounceRendering)||Je)(Tt)}function Tt(){var i,e,o,t,n,s,l,r;for(ct.sort(Pt);i=ct.shift();)i.__d&&(e=ct.length,t=void 0,s=(n=(o=i).__v).__e,l=[],r=[],o.__P&&((t=ht({},n)).__v=n.__v+1,O.vnode&&O.vnode(t),ne(o.__P,t,n,o.__n,o.__P.namespaceURI,32&n.__u?[s]:null,l,s??dt(n),!!(32&n.__u),r),t.__v=n.__v,t.__.__k[t.__i]=t,Ge(l,t,r),t.__e!=s&&je(t)),ct.length>e&&ct.sort(Pt));Tt.__r=0}function Ye(i,e,o,t,n,s,l,r,h,c,f){var u,g,d,p,E,q=t&&t.__k||Ae,a=e.length;for(o.__d=h,yo(o,e,q),h=o.__d,u=0;u<a;u++)(d=o.__k[u])!=null&&(g=d.__i===-1?Et:q[d.__i]||Et,d.__i=u,ne(i,d,g,n,s,l,r,h,c,f),p=d.__e,d.ref&&g.ref!=d.ref&&(g.ref&&se(g.ref,null,d),f.push(d.ref,d.__c||p,d)),E==null&&p!=null&&(E=p),65536&d.__u||g.__k===d.__k?h=Le(d,h,i):typeof d.type=="function"&&d.__d!==void 0?h=d.__d:p&&(h=p.nextSibling),d.__d=void 0,d.__u&=-196609);o.__d=h,o.__e=E}function yo(i,e,o){var t,n,s,l,r,h=e.length,c=o.length,f=c,u=0;for(i.__k=[],t=0;t<h;t++)(n=e[t])!=null&&typeof n!="boolean"&&typeof n!="function"?(l=t+u,(n=i.__k[t]=typeof n=="string"||typeof n=="number"||typeof n=="bigint"||n.constructor==String?It(null,n,null,null,null):oe(n)?It(qt,{children:n},null,null,null):n.constructor===void 0&&n.__b>0?It(n.type,n.props,n.key,n.ref?n.ref:null,n.__v):n).__=i,n.__b=i.__b+1,s=null,(r=n.__i=So(n,o,l,f))!==-1&&(f--,(s=o[r])&&(s.__u|=131072)),s==null||s.__v===null?(r==-1&&u--,typeof n.type!="function"&&(n.__u|=65536)):r!==l&&(r==l-1?u--:r==l+1?u++:(r>l?u--:u++,n.__u|=65536))):n=i.__k[t]=null;if(f)for(t=0;t<c;t++)(s=o[t])!=null&&!(131072&s.__u)&&(s.__e==i.__d&&(i.__d=dt(s)),Oe(s,s))}function Le(i,e,o){var t,n;if(typeof i.type=="function"){for(t=i.__k,n=0;t&&n<t.length;n++)t[n]&&(t[n].__=i,e=Le(t[n],e,o));return e}i.__e!=e&&(e&&i.type&&!o.contains(e)&&(e=dt(i)),o.insertBefore(i.__e,e||null),e=i.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function So(i,e,o,t){var n=i.key,s=i.type,l=o-1,r=o+1,h=e[o];if(h===null||h&&n==h.key&&s===h.type&&!(131072&h.__u))return o;if(t>(h!=null&&!(131072&h.__u)?1:0))for(;l>=0||r<e.length;){if(l>=0){if((h=e[l])&&!(131072&h.__u)&&n==h.key&&s===h.type)return l;l--}if(r<e.length){if((h=e[r])&&!(131072&h.__u)&&n==h.key&&s===h.type)return r;r++}}return-1}function pe(i,e,o){e[0]==="-"?i.setProperty(e,o??""):i[e]=o==null?"":typeof o!="number"||Eo.test(e)?o:o+"px"}function Vt(i,e,o,t,n){var s;t:if(e==="style")if(typeof o=="string")i.style.cssText=o;else{if(typeof t=="string"&&(i.style.cssText=t=""),t)for(e in t)o&&e in o||pe(i.style,e,"");if(o)for(e in o)t&&o[e]===t[e]||pe(i.style,e,o[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in i||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),i.l||(i.l={}),i.l[e+s]=o,o?t?o.u=t.u:(o.u=ee,i.addEventListener(e,s?Zt:Xt,s)):i.removeEventListener(e,s?Zt:Xt,s);else{if(n=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in i)try{i[e]=o??"";break t}catch{}typeof o=="function"||(o==null||o===!1&&e[4]!=="-"?i.removeAttribute(e):i.setAttribute(e,e=="popover"&&o==1?"":o))}}function de(i){return function(e){if(this.l){var o=this.l[e.type+i];if(e.t==null)e.t=ee++;else if(e.t<o.u)return;return o(O.event?O.event(e):e)}}}function ne(i,e,o,t,n,s,l,r,h,c){var f,u,g,d,p,E,q,a,_,U,w,R,F,b,k,V,m=e.type;if(e.constructor!==void 0)return null;128&o.__u&&(h=!!(32&o.__u),s=[r=e.__e=o.__e]),(f=O.__b)&&f(e);t:if(typeof m=="function")try{if(a=e.props,_="prototype"in m&&m.prototype.render,U=(f=m.contextType)&&t[f.__c],w=f?U?U.props.value:f.__:t,o.__c?q=(u=e.__c=o.__c).__=u.__E:(_?e.__c=u=new m(a,w):(e.__c=u=new Mt(a,w),u.constructor=m,u.render=qo),U&&U.sub(u),u.props=a,u.state||(u.state={}),u.context=w,u.__n=t,g=u.__d=!0,u.__h=[],u._sb=[]),_&&u.__s==null&&(u.__s=u.state),_&&m.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=ht({},u.__s)),ht(u.__s,m.getDerivedStateFromProps(a,u.__s))),d=u.props,p=u.state,u.__v=e,g)_&&m.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),_&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(_&&m.getDerivedStateFromProps==null&&a!==d&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(a,w),!u.__e&&(u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(a,u.__s,w)===!1||e.__v===o.__v)){for(e.__v!==o.__v&&(u.props=a,u.state=u.__s,u.__d=!1),e.__e=o.__e,e.__k=o.__k,e.__k.some(function(S){S&&(S.__=e)}),R=0;R<u._sb.length;R++)u.__h.push(u._sb[R]);u._sb=[],u.__h.length&&l.push(u);break t}u.componentWillUpdate!=null&&u.componentWillUpdate(a,u.__s,w),_&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(d,p,E)})}if(u.context=w,u.props=a,u.__P=i,u.__e=!1,F=O.__r,b=0,_){for(u.state=u.__s,u.__d=!1,F&&F(e),f=u.render(u.props,u.state,u.context),k=0;k<u._sb.length;k++)u.__h.push(u._sb[k]);u._sb=[]}else do u.__d=!1,F&&F(e),f=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++b<25);u.state=u.__s,u.getChildContext!=null&&(t=ht(ht({},t),u.getChildContext())),_&&!g&&u.getSnapshotBeforeUpdate!=null&&(E=u.getSnapshotBeforeUpdate(d,p)),Ye(i,oe(V=f!=null&&f.type===qt&&f.key==null?f.props.children:f)?V:[V],e,o,t,n,s,l,r,h,c),u.base=e.__e,e.__u&=-161,u.__h.length&&l.push(u),q&&(u.__E=u.__=null)}catch(S){if(e.__v=null,h||s!=null){for(e.__u|=h?160:32;r&&r.nodeType===8&&r.nextSibling;)r=r.nextSibling;s[s.indexOf(r)]=null,e.__e=r}else e.__e=o.__e,e.__k=o.__k;O.__e(S,e,o)}else s==null&&e.__v===o.__v?(e.__k=o.__k,e.__e=o.__e):e.__e=Uo(o.__e,e,o,t,n,s,l,h,c);(f=O.diffed)&&f(e)}function Ge(i,e,o){e.__d=void 0;for(var t=0;t<o.length;t++)se(o[t],o[++t],o[++t]);O.__c&&O.__c(e,i),i.some(function(n){try{i=n.__h,n.__h=[],i.some(function(s){s.call(n)})}catch(s){O.__e(s,n.__v)}})}function Uo(i,e,o,t,n,s,l,r,h){var c,f,u,g,d,p,E,q=o.props,a=e.props,_=e.type;if(_==="svg"?n="http://www.w3.org/2000/svg":_==="math"?n="http://www.w3.org/1998/Math/MathML":n||(n="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((d=s[c])&&"setAttribute"in d==!!_&&(_?d.localName===_:d.nodeType===3)){i=d,s[c]=null;break}}if(i==null){if(_===null)return document.createTextNode(a);i=document.createElementNS(n,_,a.is&&a),r&&(O.__m&&O.__m(e,s),r=!1),s=null}if(_===null)q===a||r&&i.data===a||(i.data=a);else{if(s=s&&Jt.call(i.childNodes),q=o.props||Et,!r&&s!=null)for(q={},c=0;c<i.attributes.length;c++)q[(d=i.attributes[c]).name]=d.value;for(c in q)if(d=q[c],c!="children"){if(c=="dangerouslySetInnerHTML")u=d;else if(!(c in a)){if(c=="value"&&"defaultValue"in a||c=="checked"&&"defaultChecked"in a)continue;Vt(i,c,null,d,n)}}for(c in a)d=a[c],c=="children"?g=d:c=="dangerouslySetInnerHTML"?f=d:c=="value"?p=d:c=="checked"?E=d:r&&typeof d!="function"||q[c]===d||Vt(i,c,d,q[c],n);if(f)r||u&&(f.__html===u.__html||f.__html===i.innerHTML)||(i.innerHTML=f.__html),e.__k=[];else if(u&&(i.innerHTML=""),Ye(i,oe(g)?g:[g],e,o,t,_==="foreignObject"?"http://www.w3.org/1999/xhtml":n,s,l,s?s[0]:o.__k&&dt(o,0),r,h),s!=null)for(c=s.length;c--;)We(s[c]);r||(c="value",_==="progress"&&p==null?i.removeAttribute("value"):p!==void 0&&(p!==i[c]||_==="progress"&&!p||_==="option"&&p!==q[c])&&Vt(i,c,p,q[c],n),c="checked",E!==void 0&&E!==i[c]&&Vt(i,c,E,q[c],n))}return i}function se(i,e,o){try{if(typeof i=="function"){var t=typeof i.__u=="function";t&&i.__u(),t&&e==null||(i.__u=i(e))}else i.current=e}catch(n){O.__e(n,o)}}function Oe(i,e,o){var t,n;if(O.unmount&&O.unmount(i),(t=i.ref)&&(t.current&&t.current!==i.__e||se(t,null,e)),(t=i.__c)!=null){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(s){O.__e(s,e)}t.base=t.__P=null}if(t=i.__k)for(n=0;n<t.length;n++)t[n]&&Oe(t[n],e,o||typeof i.type!="function");o||We(i.__e),i.__c=i.__=i.__e=i.__d=void 0}function qo(i,e,o){return this.constructor(i,o)}function vo(i,e,o){var t,n,s,l;O.__&&O.__(i,e),n=(t=typeof o=="function")?null:e.__k,s=[],l=[],ne(e,i=(!t&&o||e).__k=_o(qt,null,[i]),n||Et,Et,e.namespaceURI,!t&&o?[o]:n?null:e.firstChild?Jt.call(e.childNodes):null,s,!t&&o?o:n?n.__e:e.firstChild,t,l),Ge(s,i,l)}Jt=Ae.slice,O={__e:function(i,e,o,t){for(var n,s,l;e=e.__;)if((n=e.__c)&&!n.__)try{if((s=n.constructor)&&s.getDerivedStateFromError!=null&&(n.setState(s.getDerivedStateFromError(i)),l=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(i,t||{}),l=n.__d),l)return n.__E=n}catch(r){i=r}throw i}},Qe=0,Mt.prototype.setState=function(i,e){var o;o=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ht({},this.state),typeof i=="function"&&(i=i(ht({},o),this.props)),i&&ht(o,i),i!=null&&this.__v&&(e&&this._sb.push(e),ge(this))},Mt.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),ge(this))},Mt.prototype.render=qt,ct=[],Je=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Pt=function(i,e){return i.__v.__b-e.__v.__b},Tt.__r=0,ee=0,Xt=de(!1),Zt=de(!0);var Ro=0;function N(i,e,o,t,n,s){e||(e={});var l,r,h=e;if("ref"in h)for(r in h={},e)r=="ref"?l=e[r]:h[r]=e[r];var c={type:i,props:h,key:o,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Ro,__i:-1,__u:0,__source:n,__self:s};if(typeof i=="function"&&(l=i.defaultProps))for(r in l)h[r]===void 0&&(h[r]=l[r]);return O.vnode&&O.vnode(c),c}var _t,P,Dt,we,yt=0,Be=[],X=O,Ee=X.__b,_e=X.__r,ye=X.diffed,Se=X.__c,Ue=X.unmount,qe=X.__;function ie(i,e){X.__h&&X.__h(P,i,yt||e),yt=0;var o=P.__H||(P.__H={__:[],__h:[]});return i>=o.__.length&&o.__.push({}),o.__[i]}function Z(i){return yt=1,Vo(Xe,i)}function Vo(i,e,o){var t=ie(_t++,2);if(t.t=i,!t.__c&&(t.__=[Xe(void 0,e),function(r){var h=t.__N?t.__N[0]:t.__[0],c=t.t(h,r);h!==c&&(t.__N=[c,t.__[1]],t.__c.setState({}))}],t.__c=P,!P.u)){var n=function(r,h,c){if(!t.__c.__H)return!0;var f=t.__c.__H.__.filter(function(g){return!!g.__c});if(f.every(function(g){return!g.__N}))return!s||s.call(this,r,h,c);var u=!1;return f.forEach(function(g){if(g.__N){var d=g.__[0];g.__=g.__N,g.__N=void 0,d!==g.__[0]&&(u=!0)}}),!(!u&&t.__c.props===r)&&(!s||s.call(this,r,h,c))};P.u=!0;var s=P.shouldComponentUpdate,l=P.componentWillUpdate;P.componentWillUpdate=function(r,h,c){if(this.__e){var f=s;s=void 0,n(r,h,c),s=f}l&&l.call(this,r,h,c)},P.shouldComponentUpdate=n}return t.__N||t.__}function it(i,e){var o=ie(_t++,3);!X.__s&&Pe(o.__H,e)&&(o.__=i,o.i=e,P.__H.__h.push(o))}function De(i){return yt=5,ze(function(){return{current:i}},[])}function ze(i,e){var o=ie(_t++,7);return Pe(o.__H,e)&&(o.__=i(),o.__H=e,o.__h=i),o.__}function bo(i,e){return yt=8,ze(function(){return i},e)}function Fo(){for(var i;i=Be.shift();)if(i.__P&&i.__H)try{i.__H.__h.forEach(Nt),i.__H.__h.forEach(Ht),i.__H.__h=[]}catch(e){i.__H.__h=[],X.__e(e,i.__v)}}X.__b=function(i){P=null,Ee&&Ee(i)},X.__=function(i,e){i&&e.__k&&e.__k.__m&&(i.__m=e.__k.__m),qe&&qe(i,e)},X.__r=function(i){_e&&_e(i),_t=0;var e=(P=i.__c).__H;e&&(Dt===P?(e.__h=[],P.__h=[],e.__.forEach(function(o){o.__N&&(o.__=o.__N),o.i=o.__N=void 0})):(e.__h.forEach(Nt),e.__h.forEach(Ht),e.__h=[],_t=0)),Dt=P},X.diffed=function(i){ye&&ye(i);var e=i.__c;e&&e.__H&&(e.__H.__h.length&&(Be.push(e)!==1&&we===X.requestAnimationFrame||((we=X.requestAnimationFrame)||ko)(Fo)),e.__H.__.forEach(function(o){o.i&&(o.__H=o.i),o.i=void 0})),Dt=P=null},X.__c=function(i,e){e.some(function(o){try{o.__h.forEach(Nt),o.__h=o.__h.filter(function(t){return!t.__||Ht(t)})}catch(t){e.some(function(n){n.__h&&(n.__h=[])}),e=[],X.__e(t,o.__v)}}),Se&&Se(i,e)},X.unmount=function(i){Ue&&Ue(i);var e,o=i.__c;o&&o.__H&&(o.__H.__.forEach(function(t){try{Nt(t)}catch(n){e=n}}),o.__H=void 0,e&&X.__e(e,o.__v))};var ve=typeof requestAnimationFrame=="function";function ko(i){var e,o=function(){clearTimeout(t),ve&&cancelAnimationFrame(e),setTimeout(i)},t=setTimeout(o,100);ve&&(e=requestAnimationFrame(o))}function Nt(i){var e=P,o=i.__c;typeof o=="function"&&(i.__c=void 0,o()),P=e}function Ht(i){var e=P;i.__c=i.__(),P=e}function Pe(i,e){return!i||i.length!==e.length||e.some(function(o,t){return o!==i[t]})}function Xe(i,e){return typeof e=="function"?e(i):e}function At(i,e){let o=0;for(let t=0;t<i.length;t++)o+=(i[t]-e[t])*(i[t]-e[t]);return o}const zt={distanceFunction:At};function Io(i,e,o=zt){const t=o.distanceFunction||zt.distanceFunction,n=o.similarityFunction||zt.similarityFunction;let s=-1;if(typeof n=="function"){let l=Number.MIN_VALUE;for(let r=0;r<i.length;r++){const h=n(e,i[r]);h>l&&(l=h,s=r)}}else if(typeof t=="function"){let l=Number.MAX_VALUE;for(let r=0;r<i.length;r++){const h=t(e,i[r]);h<l&&(l=h,s=r)}}else throw new Error("A similarity or distance function it's required");return s}function Mo(i,e){let o=new Array(i.length);for(let t=0;t<i.length;++t)for(let n=t;n<i.length;++n){o[t]||(o[t]=new Array(i.length)),o[n]||(o[n]=new Array(i.length));const s=e(i[t],i[n]);o[t][n]=s,o[n][t]=s}return o}function Ze(i,e,o,t){for(let n=0;n<i.length;n++)o[n]=Io(e,i[n],{distanceFunction:t});return o}function No(i,e,o,t){const n=e[0].length;let s=new Array(t),l=new Array(t);for(let r=0;r<t;r++){s[r]=new Array(n),l[r]=0;for(let h=0;h<n;h++)s[r][h]=0}for(let r=0;r<e.length;r++){l[o[r]]++;for(let h=0;h<n;h++)s[o[r]][h]+=e[r][h]}for(let r=0;r<t;r++)for(let h=0;h<n;h++)l[r]?s[r][h]/=l[r]:s[r][h]=i[r][h];return s}function Co(i,e,o,t){for(let n=0;n<i.length;n++)if(o(i[n],e[n])>t)return!1;return!0}class Ko{constructor(e,o,t,n,s){this.clusters=e,this.centroids=o,this.converged=t,this.iterations=n,this.distance=s}nearest(e){const o=new Array(e.length);return Ze(e,this.centroids,o,this.distance)}computeInformation(e){let o=this.centroids.map(t=>({centroid:t,error:0,size:0}));for(let t=0;t<e.length;t++)o[this.clusters[t]].error+=this.distance(e[t],this.centroids[this.clusters[t]]),o[this.clusters[t]].size++;for(let t=0;t<this.centroids.length;t++){let n=o[t].error;o[t].size&&n!==-1?n/=o[t].size:o[t].error=-1}return o}}function To(i,e){throw new Error(`${e}: "${String(i)}"`)}function xo(i,e){if(e<=0||e>i.length||!Number.isInteger(e))throw new Error("K should be a positive integer smaller than the number of points")}function He(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var o=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};o.prototype=e.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(i).forEach(function(t){var n=Object.getOwnPropertyDescriptor(i,t);Object.defineProperty(o,t,n.get?n:{enumerable:!0,get:function(){return i[t]}})}),o}var J={};const Qo=Object.prototype.toString;function St(i){const e=Qo.call(i);return e.endsWith("Array]")&&!e.includes("Big")}const Jo=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:St},Symbol.toStringTag,{value:"Module"})),Ao=He(Jo);function Wo(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!St(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var o=e.fromIndex,t=o===void 0?0:o,n=e.toIndex,s=n===void 0?i.length:n;if(t<0||t>=i.length||!Number.isInteger(t))throw new Error("fromIndex must be a positive integer smaller than length");if(s<=t||s>i.length||!Number.isInteger(s))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=i[t],r=t+1;r<s;r++)i[r]>l&&(l=i[r]);return l}function jo(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!St(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var o=e.fromIndex,t=o===void 0?0:o,n=e.toIndex,s=n===void 0?i.length:n;if(t<0||t>=i.length||!Number.isInteger(t))throw new Error("fromIndex must be a positive integer smaller than length");if(s<=t||s>i.length||!Number.isInteger(s))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=i[t],r=t+1;r<s;r++)i[r]<l&&(l=i[r]);return l}function Yo(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(St(i)){if(i.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var o;if(e.output!==void 0){if(!St(e.output))throw new TypeError("output option must be an array if specified");o=e.output}else o=new Array(i.length);var t=jo(i),n=Wo(i);if(t===n)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var s=e.min,l=s===void 0?e.autoMinMax?t:0:s,r=e.max,h=r===void 0?e.autoMinMax?n:1:r;if(l>=h)throw new RangeError("min option must be smaller than max option");for(var c=(h-l)/(n-t),f=0;f<i.length;f++)o[f]=(i[f]-t)*c+l;return o}const Lo=Object.freeze(Object.defineProperty({__proto__:null,default:Yo},Symbol.toStringTag,{value:"Module"})),Go=He(Lo);Object.defineProperty(J,"__esModule",{value:!0});var tt=Ao,Re=Go;const bt=" ".repeat(2),$e=" ".repeat(4);function Oo(){return to(this)}function to(i,e={}){const{maxRows:o=15,maxColumns:t=10,maxNumSize:n=8,padMinus:s="auto"}=e;return`${i.constructor.name} {
${bt}[
${$e}${Bo(i,o,t,n,s)}
${bt}]
${bt}rows: ${i.rows}
${bt}columns: ${i.columns}
}`}function Bo(i,e,o,t,n){const{rows:s,columns:l}=i,r=Math.min(s,e),h=Math.min(l,o),c=[];if(n==="auto"){n=!1;t:for(let f=0;f<r;f++)for(let u=0;u<h;u++)if(i.get(f,u)<0){n=!0;break t}}for(let f=0;f<r;f++){let u=[];for(let g=0;g<h;g++)u.push(Do(i.get(f,g),t,n));c.push(`${u.join(" ")}`)}return h!==l&&(c[c.length-1]+=` ... ${l-o} more columns`),r!==s&&c.push(`... ${s-e} more rows`),c.join(`
${$e}`)}function Do(i,e,o){return(i>=0&&o?` ${Ve(i,e-1)}`:Ve(i,e)).padEnd(e)}function Ve(i,e){let o=i.toString();if(o.length<=e)return o;let t=i.toFixed(e);if(t.length>e&&(t=i.toFixed(Math.max(0,e-(t.length-e)))),t.length<=e&&!t.startsWith("0.000")&&!t.startsWith("-0.000"))return t;let n=i.toExponential(e);return n.length>e&&(n=i.toExponential(Math.max(0,e-(n.length-e)))),n.slice(0)}function zo(i,e){i.prototype.add=function(t){return typeof t=="number"?this.addS(t):this.addM(t)},i.prototype.addS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)+t);return this},i.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)+t.get(n,s));return this},i.add=function(t,n){return new e(t).add(n)},i.prototype.sub=function(t){return typeof t=="number"?this.subS(t):this.subM(t)},i.prototype.subS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)-t);return this},i.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)-t.get(n,s));return this},i.sub=function(t,n){return new e(t).sub(n)},i.prototype.subtract=i.prototype.sub,i.prototype.subtractS=i.prototype.subS,i.prototype.subtractM=i.prototype.subM,i.subtract=i.sub,i.prototype.mul=function(t){return typeof t=="number"?this.mulS(t):this.mulM(t)},i.prototype.mulS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)*t);return this},i.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)*t.get(n,s));return this},i.mul=function(t,n){return new e(t).mul(n)},i.prototype.multiply=i.prototype.mul,i.prototype.multiplyS=i.prototype.mulS,i.prototype.multiplyM=i.prototype.mulM,i.multiply=i.mul,i.prototype.div=function(t){return typeof t=="number"?this.divS(t):this.divM(t)},i.prototype.divS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)/t);return this},i.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)/t.get(n,s));return this},i.div=function(t,n){return new e(t).div(n)},i.prototype.divide=i.prototype.div,i.prototype.divideS=i.prototype.divS,i.prototype.divideM=i.prototype.divM,i.divide=i.div,i.prototype.mod=function(t){return typeof t=="number"?this.modS(t):this.modM(t)},i.prototype.modS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)%t);return this},i.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)%t.get(n,s));return this},i.mod=function(t,n){return new e(t).mod(n)},i.prototype.modulus=i.prototype.mod,i.prototype.modulusS=i.prototype.modS,i.prototype.modulusM=i.prototype.modM,i.modulus=i.mod,i.prototype.and=function(t){return typeof t=="number"?this.andS(t):this.andM(t)},i.prototype.andS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)&t);return this},i.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)&t.get(n,s));return this},i.and=function(t,n){return new e(t).and(n)},i.prototype.or=function(t){return typeof t=="number"?this.orS(t):this.orM(t)},i.prototype.orS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)|t);return this},i.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)|t.get(n,s));return this},i.or=function(t,n){return new e(t).or(n)},i.prototype.xor=function(t){return typeof t=="number"?this.xorS(t):this.xorM(t)},i.prototype.xorS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)^t);return this},i.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)^t.get(n,s));return this},i.xor=function(t,n){return new e(t).xor(n)},i.prototype.leftShift=function(t){return typeof t=="number"?this.leftShiftS(t):this.leftShiftM(t)},i.prototype.leftShiftS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)<<t);return this},i.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)<<t.get(n,s));return this},i.leftShift=function(t,n){return new e(t).leftShift(n)},i.prototype.signPropagatingRightShift=function(t){return typeof t=="number"?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},i.prototype.signPropagatingRightShiftS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)>>t);return this},i.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)>>t.get(n,s));return this},i.signPropagatingRightShift=function(t,n){return new e(t).signPropagatingRightShift(n)},i.prototype.rightShift=function(t){return typeof t=="number"?this.rightShiftS(t):this.rightShiftM(t)},i.prototype.rightShiftS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)>>>t);return this},i.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)>>>t.get(n,s));return this},i.rightShift=function(t,n){return new e(t).rightShift(n)},i.prototype.zeroFillRightShift=i.prototype.rightShift,i.prototype.zeroFillRightShiftS=i.prototype.rightShiftS,i.prototype.zeroFillRightShiftM=i.prototype.rightShiftM,i.zeroFillRightShift=i.rightShift,i.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,~this.get(t,n));return this},i.not=function(t){return new e(t).not()},i.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.abs(this.get(t,n)));return this},i.abs=function(t){return new e(t).abs()},i.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.acos(this.get(t,n)));return this},i.acos=function(t){return new e(t).acos()},i.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.acosh(this.get(t,n)));return this},i.acosh=function(t){return new e(t).acosh()},i.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.asin(this.get(t,n)));return this},i.asin=function(t){return new e(t).asin()},i.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.asinh(this.get(t,n)));return this},i.asinh=function(t){return new e(t).asinh()},i.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.atan(this.get(t,n)));return this},i.atan=function(t){return new e(t).atan()},i.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.atanh(this.get(t,n)));return this},i.atanh=function(t){return new e(t).atanh()},i.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.cbrt(this.get(t,n)));return this},i.cbrt=function(t){return new e(t).cbrt()},i.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.ceil(this.get(t,n)));return this},i.ceil=function(t){return new e(t).ceil()},i.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.clz32(this.get(t,n)));return this},i.clz32=function(t){return new e(t).clz32()},i.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.cos(this.get(t,n)));return this},i.cos=function(t){return new e(t).cos()},i.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.cosh(this.get(t,n)));return this},i.cosh=function(t){return new e(t).cosh()},i.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.exp(this.get(t,n)));return this},i.exp=function(t){return new e(t).exp()},i.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.expm1(this.get(t,n)));return this},i.expm1=function(t){return new e(t).expm1()},i.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.floor(this.get(t,n)));return this},i.floor=function(t){return new e(t).floor()},i.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.fround(this.get(t,n)));return this},i.fround=function(t){return new e(t).fround()},i.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.log(this.get(t,n)));return this},i.log=function(t){return new e(t).log()},i.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.log1p(this.get(t,n)));return this},i.log1p=function(t){return new e(t).log1p()},i.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.log10(this.get(t,n)));return this},i.log10=function(t){return new e(t).log10()},i.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.log2(this.get(t,n)));return this},i.log2=function(t){return new e(t).log2()},i.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.round(this.get(t,n)));return this},i.round=function(t){return new e(t).round()},i.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.sign(this.get(t,n)));return this},i.sign=function(t){return new e(t).sign()},i.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.sin(this.get(t,n)));return this},i.sin=function(t){return new e(t).sin()},i.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.sinh(this.get(t,n)));return this},i.sinh=function(t){return new e(t).sinh()},i.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.sqrt(this.get(t,n)));return this},i.sqrt=function(t){return new e(t).sqrt()},i.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.tan(this.get(t,n)));return this},i.tan=function(t){return new e(t).tan()},i.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.tanh(this.get(t,n)));return this},i.tanh=function(t){return new e(t).tanh()},i.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.trunc(this.get(t,n)));return this},i.trunc=function(t){return new e(t).trunc()},i.pow=function(t,n){return new e(t).pow(n)},i.prototype.pow=function(t){return typeof t=="number"?this.powS(t):this.powM(t)},i.prototype.powS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)**t);return this},i.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)**t.get(n,s));return this}}function ot(i,e,o){let t=o?i.rows:i.rows-1;if(e<0||e>t)throw new RangeError("Row index out of range")}function nt(i,e,o){let t=o?i.columns:i.columns-1;if(e<0||e>t)throw new RangeError("Column index out of range")}function mt(i,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==i.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function gt(i,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==i.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function re(i,e){if(!tt.isAnyArray(e))throw new TypeError("row indices must be an array");for(let o=0;o<e.length;o++)if(e[o]<0||e[o]>=i.rows)throw new RangeError("row indices are out of range")}function le(i,e){if(!tt.isAnyArray(e))throw new TypeError("column indices must be an array");for(let o=0;o<e.length;o++)if(e[o]<0||e[o]>=i.columns)throw new RangeError("column indices are out of range")}function $t(i,e,o,t,n){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(Ft("startRow",e),Ft("endRow",o),Ft("startColumn",t),Ft("endColumn",n),e>o||t>n||e<0||e>=i.rows||o<0||o>=i.rows||t<0||t>=i.columns||n<0||n>=i.columns)throw new RangeError("Submatrix indices are out of range")}function Wt(i,e=0){let o=[];for(let t=0;t<i;t++)o.push(e);return o}function Ft(i,e){if(typeof e!="number")throw new TypeError(`${i} must be a number`)}function ft(i){if(i.isEmpty())throw new Error("Empty matrix has no elements to index")}function Po(i){let e=Wt(i.rows);for(let o=0;o<i.rows;++o)for(let t=0;t<i.columns;++t)e[o]+=i.get(o,t);return e}function Xo(i){let e=Wt(i.columns);for(let o=0;o<i.rows;++o)for(let t=0;t<i.columns;++t)e[t]+=i.get(o,t);return e}function Zo(i){let e=0;for(let o=0;o<i.rows;o++)for(let t=0;t<i.columns;t++)e+=i.get(o,t);return e}function Ho(i){let e=Wt(i.rows,1);for(let o=0;o<i.rows;++o)for(let t=0;t<i.columns;++t)e[o]*=i.get(o,t);return e}function $o(i){let e=Wt(i.columns,1);for(let o=0;o<i.rows;++o)for(let t=0;t<i.columns;++t)e[t]*=i.get(o,t);return e}function tn(i){let e=1;for(let o=0;o<i.rows;o++)for(let t=0;t<i.columns;t++)e*=i.get(o,t);return e}function en(i,e,o){const t=i.rows,n=i.columns,s=[];for(let l=0;l<t;l++){let r=0,h=0,c=0;for(let f=0;f<n;f++)c=i.get(l,f)-o[l],r+=c,h+=c*c;e?s.push((h-r*r/n)/(n-1)):s.push((h-r*r/n)/n)}return s}function on(i,e,o){const t=i.rows,n=i.columns,s=[];for(let l=0;l<n;l++){let r=0,h=0,c=0;for(let f=0;f<t;f++)c=i.get(f,l)-o[l],r+=c,h+=c*c;e?s.push((h-r*r/t)/(t-1)):s.push((h-r*r/t)/t)}return s}function nn(i,e,o){const t=i.rows,n=i.columns,s=t*n;let l=0,r=0,h=0;for(let c=0;c<t;c++)for(let f=0;f<n;f++)h=i.get(c,f)-o,l+=h,r+=h*h;return e?(r-l*l/s)/(s-1):(r-l*l/s)/s}function sn(i,e){for(let o=0;o<i.rows;o++)for(let t=0;t<i.columns;t++)i.set(o,t,i.get(o,t)-e[o])}function rn(i,e){for(let o=0;o<i.rows;o++)for(let t=0;t<i.columns;t++)i.set(o,t,i.get(o,t)-e[t])}function ln(i,e){for(let o=0;o<i.rows;o++)for(let t=0;t<i.columns;t++)i.set(o,t,i.get(o,t)-e)}function hn(i){const e=[];for(let o=0;o<i.rows;o++){let t=0;for(let n=0;n<i.columns;n++)t+=i.get(o,n)**2/(i.columns-1);e.push(Math.sqrt(t))}return e}function cn(i,e){for(let o=0;o<i.rows;o++)for(let t=0;t<i.columns;t++)i.set(o,t,i.get(o,t)/e[o])}function an(i){const e=[];for(let o=0;o<i.columns;o++){let t=0;for(let n=0;n<i.rows;n++)t+=i.get(n,o)**2/(i.rows-1);e.push(Math.sqrt(t))}return e}function un(i,e){for(let o=0;o<i.rows;o++)for(let t=0;t<i.columns;t++)i.set(o,t,i.get(o,t)/e[t])}function fn(i){const e=i.size-1;let o=0;for(let t=0;t<i.columns;t++)for(let n=0;n<i.rows;n++)o+=i.get(n,t)**2/e;return Math.sqrt(o)}function mn(i,e){for(let o=0;o<i.rows;o++)for(let t=0;t<i.columns;t++)i.set(o,t,i.get(o,t)/e)}class Q{static from1DArray(e,o,t){if(e*o!==t.length)throw new RangeError("data length does not match given dimensions");let s=new I(e,o);for(let l=0;l<e;l++)for(let r=0;r<o;r++)s.set(l,r,t[l*o+r]);return s}static rowVector(e){let o=new I(1,e.length);for(let t=0;t<e.length;t++)o.set(0,t,e[t]);return o}static columnVector(e){let o=new I(e.length,1);for(let t=0;t<e.length;t++)o.set(t,0,e[t]);return o}static zeros(e,o){return new I(e,o)}static ones(e,o){return new I(e,o).fill(1)}static rand(e,o,t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{random:n=Math.random}=t;let s=new I(e,o);for(let l=0;l<e;l++)for(let r=0;r<o;r++)s.set(l,r,n());return s}static randInt(e,o,t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{min:n=0,max:s=1e3,random:l=Math.random}=t;if(!Number.isInteger(n))throw new TypeError("min must be an integer");if(!Number.isInteger(s))throw new TypeError("max must be an integer");if(n>=s)throw new RangeError("min must be smaller than max");let r=s-n,h=new I(e,o);for(let c=0;c<e;c++)for(let f=0;f<o;f++){let u=n+Math.round(l()*r);h.set(c,f,u)}return h}static eye(e,o,t){o===void 0&&(o=e),t===void 0&&(t=1);let n=Math.min(e,o),s=this.zeros(e,o);for(let l=0;l<n;l++)s.set(l,l,t);return s}static diag(e,o,t){let n=e.length;o===void 0&&(o=n),t===void 0&&(t=o);let s=Math.min(n,o,t),l=this.zeros(o,t);for(let r=0;r<s;r++)l.set(r,r,e[r]);return l}static min(e,o){e=this.checkMatrix(e),o=this.checkMatrix(o);let t=e.rows,n=e.columns,s=new I(t,n);for(let l=0;l<t;l++)for(let r=0;r<n;r++)s.set(l,r,Math.min(e.get(l,r),o.get(l,r)));return s}static max(e,o){e=this.checkMatrix(e),o=this.checkMatrix(o);let t=e.rows,n=e.columns,s=new this(t,n);for(let l=0;l<t;l++)for(let r=0;r<n;r++)s.set(l,r,Math.max(e.get(l,r),o.get(l,r)));return s}static checkMatrix(e){return Q.isMatrix(e)?e:new I(e)}static isMatrix(e){return e!=null&&e.klass==="Matrix"}get size(){return this.rows*this.columns}apply(e){if(typeof e!="function")throw new TypeError("callback must be a function");for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)e.call(this,o,t);return this}to1DArray(){let e=[];for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)e.push(this.get(o,t));return e}to2DArray(){let e=[];for(let o=0;o<this.rows;o++){e.push([]);for(let t=0;t<this.columns;t++)e[o].push(this.get(o,t))}return e}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let e=0;e<this.rows;e++)for(let o=0;o<=e;o++)if(this.get(e,o)!==this.get(o,e))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let e=0;e<this.rows;e++)if(this.get(e,e)!==0)return!1;return!0}isEchelonForm(){let e=0,o=0,t=-1,n=!0,s=!1;for(;e<this.rows&&n;){for(o=0,s=!1;o<this.columns&&s===!1;)this.get(e,o)===0?o++:this.get(e,o)===1&&o>t?(s=!0,t=o):(n=!1,s=!0);e++}return n}isReducedEchelonForm(){let e=0,o=0,t=-1,n=!0,s=!1;for(;e<this.rows&&n;){for(o=0,s=!1;o<this.columns&&s===!1;)this.get(e,o)===0?o++:this.get(e,o)===1&&o>t?(s=!0,t=o):(n=!1,s=!0);for(let l=o+1;l<this.rows;l++)this.get(e,l)!==0&&(n=!1);e++}return n}echelonForm(){let e=this.clone(),o=0,t=0;for(;o<e.rows&&t<e.columns;){let n=o;for(let s=o;s<e.rows;s++)e.get(s,t)>e.get(n,t)&&(n=s);if(e.get(n,t)===0)t++;else{e.swapRows(o,n);let s=e.get(o,t);for(let l=t;l<e.columns;l++)e.set(o,l,e.get(o,l)/s);for(let l=o+1;l<e.rows;l++){let r=e.get(l,t)/e.get(o,t);e.set(l,t,0);for(let h=t+1;h<e.columns;h++)e.set(l,h,e.get(l,h)-e.get(o,h)*r)}o++,t++}}return e}reducedEchelonForm(){let e=this.echelonForm(),o=e.columns,t=e.rows,n=t-1;for(;n>=0;)if(e.maxRow(n)===0)n--;else{let s=0,l=!1;for(;s<t&&l===!1;)e.get(n,s)===1?l=!0:s++;for(let r=0;r<n;r++){let h=e.get(r,s);for(let c=s;c<o;c++){let f=e.get(r,c)-h*e.get(n,c);e.set(r,c,f)}}n--}return e}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{rows:o=1,columns:t=1}=e;if(!Number.isInteger(o)||o<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(t)||t<=0)throw new TypeError("columns must be a positive integer");let n=new I(this.rows*o,this.columns*t);for(let s=0;s<o;s++)for(let l=0;l<t;l++)n.setSubMatrix(this,this.rows*s,this.columns*l);return n}fill(e){for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)this.set(o,t,e);return this}neg(){return this.mulS(-1)}getRow(e){ot(this,e);let o=[];for(let t=0;t<this.columns;t++)o.push(this.get(e,t));return o}getRowVector(e){return I.rowVector(this.getRow(e))}setRow(e,o){ot(this,e),o=mt(this,o);for(let t=0;t<this.columns;t++)this.set(e,t,o[t]);return this}swapRows(e,o){ot(this,e),ot(this,o);for(let t=0;t<this.columns;t++){let n=this.get(e,t);this.set(e,t,this.get(o,t)),this.set(o,t,n)}return this}getColumn(e){nt(this,e);let o=[];for(let t=0;t<this.rows;t++)o.push(this.get(t,e));return o}getColumnVector(e){return I.columnVector(this.getColumn(e))}setColumn(e,o){nt(this,e),o=gt(this,o);for(let t=0;t<this.rows;t++)this.set(t,e,o[t]);return this}swapColumns(e,o){nt(this,e),nt(this,o);for(let t=0;t<this.rows;t++){let n=this.get(t,e);this.set(t,e,this.get(t,o)),this.set(t,o,n)}return this}addRowVector(e){e=mt(this,e);for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)this.set(o,t,this.get(o,t)+e[t]);return this}subRowVector(e){e=mt(this,e);for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)this.set(o,t,this.get(o,t)-e[t]);return this}mulRowVector(e){e=mt(this,e);for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)this.set(o,t,this.get(o,t)*e[t]);return this}divRowVector(e){e=mt(this,e);for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)this.set(o,t,this.get(o,t)/e[t]);return this}addColumnVector(e){e=gt(this,e);for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)this.set(o,t,this.get(o,t)+e[o]);return this}subColumnVector(e){e=gt(this,e);for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)this.set(o,t,this.get(o,t)-e[o]);return this}mulColumnVector(e){e=gt(this,e);for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)this.set(o,t,this.get(o,t)*e[o]);return this}divColumnVector(e){e=gt(this,e);for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)this.set(o,t,this.get(o,t)/e[o]);return this}mulRow(e,o){ot(this,e);for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)*o);return this}mulColumn(e,o){nt(this,e);for(let t=0;t<this.rows;t++)this.set(t,e,this.get(t,e)*o);return this}max(e){if(this.isEmpty())return NaN;switch(e){case"row":{const o=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)>o[t]&&(o[t]=this.get(t,n));return o}case"column":{const o=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)>o[n]&&(o[n]=this.get(t,n));return o}case void 0:{let o=this.get(0,0);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)>o&&(o=this.get(t,n));return o}default:throw new Error(`invalid option: ${e}`)}}maxIndex(){ft(this);let e=this.get(0,0),o=[0,0];for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n),o[0]=t,o[1]=n);return o}min(e){if(this.isEmpty())return NaN;switch(e){case"row":{const o=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)<o[t]&&(o[t]=this.get(t,n));return o}case"column":{const o=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)<o[n]&&(o[n]=this.get(t,n));return o}case void 0:{let o=this.get(0,0);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)<o&&(o=this.get(t,n));return o}default:throw new Error(`invalid option: ${e}`)}}minIndex(){ft(this);let e=this.get(0,0),o=[0,0];for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n),o[0]=t,o[1]=n);return o}maxRow(e){if(ot(this,e),this.isEmpty())return NaN;let o=this.get(e,0);for(let t=1;t<this.columns;t++)this.get(e,t)>o&&(o=this.get(e,t));return o}maxRowIndex(e){ot(this,e),ft(this);let o=this.get(e,0),t=[e,0];for(let n=1;n<this.columns;n++)this.get(e,n)>o&&(o=this.get(e,n),t[1]=n);return t}minRow(e){if(ot(this,e),this.isEmpty())return NaN;let o=this.get(e,0);for(let t=1;t<this.columns;t++)this.get(e,t)<o&&(o=this.get(e,t));return o}minRowIndex(e){ot(this,e),ft(this);let o=this.get(e,0),t=[e,0];for(let n=1;n<this.columns;n++)this.get(e,n)<o&&(o=this.get(e,n),t[1]=n);return t}maxColumn(e){if(nt(this,e),this.isEmpty())return NaN;let o=this.get(0,e);for(let t=1;t<this.rows;t++)this.get(t,e)>o&&(o=this.get(t,e));return o}maxColumnIndex(e){nt(this,e),ft(this);let o=this.get(0,e),t=[0,e];for(let n=1;n<this.rows;n++)this.get(n,e)>o&&(o=this.get(n,e),t[0]=n);return t}minColumn(e){if(nt(this,e),this.isEmpty())return NaN;let o=this.get(0,e);for(let t=1;t<this.rows;t++)this.get(t,e)<o&&(o=this.get(t,e));return o}minColumnIndex(e){nt(this,e),ft(this);let o=this.get(0,e),t=[0,e];for(let n=1;n<this.rows;n++)this.get(n,e)<o&&(o=this.get(n,e),t[0]=n);return t}diag(){let e=Math.min(this.rows,this.columns),o=[];for(let t=0;t<e;t++)o.push(this.get(t,t));return o}norm(e="frobenius"){switch(e){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${e}`)}}cumulativeSum(){let e=0;for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)e+=this.get(o,t),this.set(o,t,e);return this}dot(e){Q.isMatrix(e)&&(e=e.to1DArray());let o=this.to1DArray();if(o.length!==e.length)throw new RangeError("vectors do not have the same size");let t=0;for(let n=0;n<o.length;n++)t+=o[n]*e[n];return t}mmul(e){e=I.checkMatrix(e);let o=this.rows,t=this.columns,n=e.columns,s=new I(o,n),l=new Float64Array(t);for(let r=0;r<n;r++){for(let h=0;h<t;h++)l[h]=e.get(h,r);for(let h=0;h<o;h++){let c=0;for(let f=0;f<t;f++)c+=this.get(h,f)*l[f];s.set(h,r,c)}}return s}strassen2x2(e){e=I.checkMatrix(e);let o=new I(2,2);const t=this.get(0,0),n=e.get(0,0),s=this.get(0,1),l=e.get(0,1),r=this.get(1,0),h=e.get(1,0),c=this.get(1,1),f=e.get(1,1),u=(t+c)*(n+f),g=(r+c)*n,d=t*(l-f),p=c*(h-n),E=(t+s)*f,q=(r-t)*(n+l),a=(s-c)*(h+f),_=u+p-E+a,U=d+E,w=g+p,R=u-g+d+q;return o.set(0,0,_),o.set(0,1,U),o.set(1,0,w),o.set(1,1,R),o}strassen3x3(e){e=I.checkMatrix(e);let o=new I(3,3);const t=this.get(0,0),n=this.get(0,1),s=this.get(0,2),l=this.get(1,0),r=this.get(1,1),h=this.get(1,2),c=this.get(2,0),f=this.get(2,1),u=this.get(2,2),g=e.get(0,0),d=e.get(0,1),p=e.get(0,2),E=e.get(1,0),q=e.get(1,1),a=e.get(1,2),_=e.get(2,0),U=e.get(2,1),w=e.get(2,2),R=(t+n+s-l-r-f-u)*q,F=(t-l)*(-d+q),b=r*(-g+d+E-q-a-_+w),k=(-t+l+r)*(g-d+q),V=(l+r)*(-g+d),m=t*g,S=(-t+c+f)*(g-p+a),v=(-t+c)*(p-a),y=(c+f)*(-g+p),M=(t+n+s-r-h-c-f)*a,K=f*(-g+p+E-q-a-_+U),A=(-s+f+u)*(q+_-U),W=(s-u)*(q-U),T=s*_,Y=(f+u)*(-_+U),j=(-s+r+h)*(a+_-w),L=(s-h)*(a-w),B=(r+h)*(-_+w),x=n*E,G=h*U,D=l*p,H=c*d,z=u*w,Lt=m+T+x,vt=R+k+V+m+A+T+Y,ho=m+S+y+M+T+j+B,co=F+b+k+m+T+j+L,ao=F+k+V+m+G,uo=T+j+L+B+D,fo=m+S+v+K+A+W+T,mo=A+W+T+Y+H,go=m+S+v+y+z;return o.set(0,0,Lt),o.set(0,1,vt),o.set(0,2,ho),o.set(1,0,co),o.set(1,1,ao),o.set(1,2,uo),o.set(2,0,fo),o.set(2,1,mo),o.set(2,2,go),o}mmulStrassen(e){e=I.checkMatrix(e);let o=this.clone(),t=o.rows,n=o.columns,s=e.rows,l=e.columns;n!==s&&console.warn(`Multiplying ${t} x ${n} and ${s} x ${l} matrix: dimensions do not match.`);function r(u,g,d){let p=u.rows,E=u.columns;if(p===g&&E===d)return u;{let q=Q.zeros(g,d);return q=q.setSubMatrix(u,0,0),q}}let h=Math.max(t,s),c=Math.max(n,l);o=r(o,h,c),e=r(e,h,c);function f(u,g,d,p){if(d<=512||p<=512)return u.mmul(g);d%2===1&&p%2===1?(u=r(u,d+1,p+1),g=r(g,d+1,p+1)):d%2===1?(u=r(u,d+1,p),g=r(g,d+1,p)):p%2===1&&(u=r(u,d,p+1),g=r(g,d,p+1));let E=parseInt(u.rows/2,10),q=parseInt(u.columns/2,10),a=u.subMatrix(0,E-1,0,q-1),_=g.subMatrix(0,E-1,0,q-1),U=u.subMatrix(0,E-1,q,u.columns-1),w=g.subMatrix(0,E-1,q,g.columns-1),R=u.subMatrix(E,u.rows-1,0,q-1),F=g.subMatrix(E,g.rows-1,0,q-1),b=u.subMatrix(E,u.rows-1,q,u.columns-1),k=g.subMatrix(E,g.rows-1,q,g.columns-1),V=f(Q.add(a,b),Q.add(_,k),E,q),m=f(Q.add(R,b),_,E,q),S=f(a,Q.sub(w,k),E,q),v=f(b,Q.sub(F,_),E,q),y=f(Q.add(a,U),k,E,q),M=f(Q.sub(R,a),Q.add(_,w),E,q),K=f(Q.sub(U,b),Q.add(F,k),E,q),A=Q.add(V,v);A.sub(y),A.add(K);let W=Q.add(S,y),T=Q.add(m,v),Y=Q.sub(V,m);Y.add(S),Y.add(M);let j=Q.zeros(2*A.rows,2*A.columns);return j=j.setSubMatrix(A,0,0),j=j.setSubMatrix(W,A.rows,0),j=j.setSubMatrix(T,0,A.columns),j=j.setSubMatrix(Y,A.rows,A.columns),j.subMatrix(0,d-1,0,p-1)}return f(o,e,h,c)}scaleRows(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{min:o=0,max:t=1}=e;if(!Number.isFinite(o))throw new TypeError("min must be a number");if(!Number.isFinite(t))throw new TypeError("max must be a number");if(o>=t)throw new RangeError("min must be smaller than max");let n=new I(this.rows,this.columns);for(let s=0;s<this.rows;s++){const l=this.getRow(s);l.length>0&&Re(l,{min:o,max:t,output:l}),n.setRow(s,l)}return n}scaleColumns(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{min:o=0,max:t=1}=e;if(!Number.isFinite(o))throw new TypeError("min must be a number");if(!Number.isFinite(t))throw new TypeError("max must be a number");if(o>=t)throw new RangeError("min must be smaller than max");let n=new I(this.rows,this.columns);for(let s=0;s<this.columns;s++){const l=this.getColumn(s);l.length&&Re(l,{min:o,max:t,output:l}),n.setColumn(s,l)}return n}flipRows(){const e=Math.ceil(this.columns/2);for(let o=0;o<this.rows;o++)for(let t=0;t<e;t++){let n=this.get(o,t),s=this.get(o,this.columns-1-t);this.set(o,t,s),this.set(o,this.columns-1-t,n)}return this}flipColumns(){const e=Math.ceil(this.rows/2);for(let o=0;o<this.columns;o++)for(let t=0;t<e;t++){let n=this.get(t,o),s=this.get(this.rows-1-t,o);this.set(t,o,s),this.set(this.rows-1-t,o,n)}return this}kroneckerProduct(e){e=I.checkMatrix(e);let o=this.rows,t=this.columns,n=e.rows,s=e.columns,l=new I(o*n,t*s);for(let r=0;r<o;r++)for(let h=0;h<t;h++)for(let c=0;c<n;c++)for(let f=0;f<s;f++)l.set(n*r+c,s*h+f,this.get(r,h)*e.get(c,f));return l}kroneckerSum(e){if(e=I.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let o=this.rows,t=e.rows,n=this.kroneckerProduct(I.eye(t,t)),s=I.eye(o,o).kroneckerProduct(e);return n.add(s)}transpose(){let e=new I(this.columns,this.rows);for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)e.set(t,o,this.get(o,t));return e}sortRows(e=be){for(let o=0;o<this.rows;o++)this.setRow(o,this.getRow(o).sort(e));return this}sortColumns(e=be){for(let o=0;o<this.columns;o++)this.setColumn(o,this.getColumn(o).sort(e));return this}subMatrix(e,o,t,n){$t(this,e,o,t,n);let s=new I(o-e+1,n-t+1);for(let l=e;l<=o;l++)for(let r=t;r<=n;r++)s.set(l-e,r-t,this.get(l,r));return s}subMatrixRow(e,o,t){if(o===void 0&&(o=0),t===void 0&&(t=this.columns-1),o>t||o<0||o>=this.columns||t<0||t>=this.columns)throw new RangeError("Argument out of range");let n=new I(e.length,t-o+1);for(let s=0;s<e.length;s++)for(let l=o;l<=t;l++){if(e[s]<0||e[s]>=this.rows)throw new RangeError(`Row index out of range: ${e[s]}`);n.set(s,l-o,this.get(e[s],l))}return n}subMatrixColumn(e,o,t){if(o===void 0&&(o=0),t===void 0&&(t=this.rows-1),o>t||o<0||o>=this.rows||t<0||t>=this.rows)throw new RangeError("Argument out of range");let n=new I(t-o+1,e.length);for(let s=0;s<e.length;s++)for(let l=o;l<=t;l++){if(e[s]<0||e[s]>=this.columns)throw new RangeError(`Column index out of range: ${e[s]}`);n.set(l-o,s,this.get(l,e[s]))}return n}setSubMatrix(e,o,t){if(e=I.checkMatrix(e),e.isEmpty())return this;let n=o+e.rows-1,s=t+e.columns-1;$t(this,o,n,t,s);for(let l=0;l<e.rows;l++)for(let r=0;r<e.columns;r++)this.set(o+l,t+r,e.get(l,r));return this}selection(e,o){re(this,e),le(this,o);let t=new I(e.length,o.length);for(let n=0;n<e.length;n++){let s=e[n];for(let l=0;l<o.length;l++){let r=o[l];t.set(n,l,this.get(s,r))}}return t}trace(){let e=Math.min(this.rows,this.columns),o=0;for(let t=0;t<e;t++)o+=this.get(t,t);return o}clone(){return this.constructor.copy(this,new I(this.rows,this.columns))}static copy(e,o){for(const[t,n,s]of e.entries())o.set(t,n,s);return o}sum(e){switch(e){case"row":return Po(this);case"column":return Xo(this);case void 0:return Zo(this);default:throw new Error(`invalid option: ${e}`)}}product(e){switch(e){case"row":return Ho(this);case"column":return $o(this);case void 0:return tn(this);default:throw new Error(`invalid option: ${e}`)}}mean(e){const o=this.sum(e);switch(e){case"row":{for(let t=0;t<this.rows;t++)o[t]/=this.columns;return o}case"column":{for(let t=0;t<this.columns;t++)o[t]/=this.rows;return o}case void 0:return o/this.size;default:throw new Error(`invalid option: ${e}`)}}variance(e,o={}){if(typeof e=="object"&&(o=e,e=void 0),typeof o!="object")throw new TypeError("options must be an object");const{unbiased:t=!0,mean:n=this.mean(e)}=o;if(typeof t!="boolean")throw new TypeError("unbiased must be a boolean");switch(e){case"row":{if(!tt.isAnyArray(n))throw new TypeError("mean must be an array");return en(this,t,n)}case"column":{if(!tt.isAnyArray(n))throw new TypeError("mean must be an array");return on(this,t,n)}case void 0:{if(typeof n!="number")throw new TypeError("mean must be a number");return nn(this,t,n)}default:throw new Error(`invalid option: ${e}`)}}standardDeviation(e,o){typeof e=="object"&&(o=e,e=void 0);const t=this.variance(e,o);if(e===void 0)return Math.sqrt(t);for(let n=0;n<t.length;n++)t[n]=Math.sqrt(t[n]);return t}center(e,o={}){if(typeof e=="object"&&(o=e,e=void 0),typeof o!="object")throw new TypeError("options must be an object");const{center:t=this.mean(e)}=o;switch(e){case"row":{if(!tt.isAnyArray(t))throw new TypeError("center must be an array");return sn(this,t),this}case"column":{if(!tt.isAnyArray(t))throw new TypeError("center must be an array");return rn(this,t),this}case void 0:{if(typeof t!="number")throw new TypeError("center must be a number");return ln(this,t),this}default:throw new Error(`invalid option: ${e}`)}}scale(e,o={}){if(typeof e=="object"&&(o=e,e=void 0),typeof o!="object")throw new TypeError("options must be an object");let t=o.scale;switch(e){case"row":{if(t===void 0)t=hn(this);else if(!tt.isAnyArray(t))throw new TypeError("scale must be an array");return cn(this,t),this}case"column":{if(t===void 0)t=an(this);else if(!tt.isAnyArray(t))throw new TypeError("scale must be an array");return un(this,t),this}case void 0:{if(t===void 0)t=fn(this);else if(typeof t!="number")throw new TypeError("scale must be a number");return mn(this,t),this}default:throw new Error(`invalid option: ${e}`)}}toString(e){return to(this,e)}[Symbol.iterator](){return this.entries()}*entries(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)yield[e,o,this.get(e,o)]}*values(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)yield this.get(e,o)}}Q.prototype.klass="Matrix";typeof Symbol<"u"&&(Q.prototype[Symbol.for("nodejs.util.inspect.custom")]=Oo);function be(i,e){return i-e}function gn(i){return i.every(e=>typeof e=="number")}Q.random=Q.rand;Q.randomInt=Q.randInt;Q.diagonal=Q.diag;Q.prototype.diagonal=Q.prototype.diag;Q.identity=Q.eye;Q.prototype.negate=Q.prototype.neg;Q.prototype.tensorProduct=Q.prototype.kroneckerProduct;var Ut,te,ut;let I=(ut=class extends Q{constructor(o,t){super();Ot(this,Ut);fe(this,"data");if(ut.isMatrix(o))Bt(this,Ut,te).call(this,o.rows,o.columns),ut.copy(o,this);else if(Number.isInteger(o)&&o>=0)Bt(this,Ut,te).call(this,o,t);else if(tt.isAnyArray(o)){const n=o;if(o=n.length,t=o?n[0].length:0,typeof t!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let s=0;s<o;s++){if(n[s].length!==t)throw new RangeError("Inconsistent array dimensions");if(!gn(n[s]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(n[s]))}this.rows=o,this.columns=t}else throw new TypeError("First argument must be a positive number or an array")}set(o,t,n){return this.data[o][t]=n,this}get(o,t){return this.data[o][t]}removeRow(o){return ot(this,o),this.data.splice(o,1),this.rows-=1,this}addRow(o,t){return t===void 0&&(t=o,o=this.rows),ot(this,o,!0),t=Float64Array.from(mt(this,t)),this.data.splice(o,0,t),this.rows+=1,this}removeColumn(o){nt(this,o);for(let t=0;t<this.rows;t++){const n=new Float64Array(this.columns-1);for(let s=0;s<o;s++)n[s]=this.data[t][s];for(let s=o+1;s<this.columns;s++)n[s-1]=this.data[t][s];this.data[t]=n}return this.columns-=1,this}addColumn(o,t){typeof t>"u"&&(t=o,o=this.columns),nt(this,o,!0),t=gt(this,t);for(let n=0;n<this.rows;n++){const s=new Float64Array(this.columns+1);let l=0;for(;l<o;l++)s[l]=this.data[n][l];for(s[l++]=t[n];l<this.columns+1;l++)s[l]=this.data[n][l-1];this.data[n]=s}return this.columns+=1,this}},Ut=new WeakSet,te=function(o,t){if(this.data=[],Number.isInteger(t)&&t>=0)for(let n=0;n<o;n++)this.data.push(new Float64Array(t));else throw new TypeError("nColumns must be a positive integer");this.rows=o,this.columns=t},ut);zo(Q,I);var $;const Qt=class Qt extends Q{constructor(o){super();Ot(this,$);if(I.isMatrix(o)){if(!o.isSymmetric())throw new TypeError("not symmetric data");Rt(this,$,I.copy(o,new I(o.rows,o.rows)))}else if(Number.isInteger(o)&&o>=0)Rt(this,$,new I(o,o));else if(Rt(this,$,new I(o)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return st(this,$).size}get rows(){return st(this,$).rows}get columns(){return st(this,$).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(o){return I.isMatrix(o)&&o.klassType==="SymmetricMatrix"}static zeros(o){return new this(o)}static ones(o){return new this(o).fill(1)}clone(){const o=new Qt(this.diagonalSize);for(const[t,n,s]of this.upperRightEntries())o.set(t,n,s);return o}toMatrix(){return new I(this)}get(o,t){return st(this,$).get(o,t)}set(o,t,n){return st(this,$).set(o,t,n),st(this,$).set(t,o,n),this}removeCross(o){return st(this,$).removeRow(o),st(this,$).removeColumn(o),this}addCross(o,t){t===void 0&&(t=o,o=this.diagonalSize);const n=t.slice();return n.splice(o,1),st(this,$).addRow(o,n),st(this,$).addColumn(o,t),this}applyMask(o){if(o.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const t=[];for(const[n,s]of o.entries())s||t.push(n);t.reverse();for(const n of t)this.removeCross(n);return this}toCompact(){const{diagonalSize:o}=this,t=new Array(o*(o+1)/2);for(let n=0,s=0,l=0;l<t.length;l++)t[l]=this.get(s,n),++n>=o&&(n=++s);return t}static fromCompact(o){const t=o.length,n=(Math.sqrt(8*t+1)-1)/2;if(!Number.isInteger(n))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(o)}`);const s=new Qt(n);for(let l=0,r=0,h=0;h<t;h++)s.set(l,r,o[h]),++l>=n&&(l=++r);return s}*upperRightEntries(){for(let o=0,t=0;o<this.diagonalSize;void 0){const n=this.get(o,t);yield[o,t,n],++t>=this.diagonalSize&&(t=++o)}}*upperRightValues(){for(let o=0,t=0;o<this.diagonalSize;void 0)yield this.get(o,t),++t>=this.diagonalSize&&(t=++o)}};$=new WeakMap;let at=Qt;at.prototype.klassType="SymmetricMatrix";class jt extends at{static isDistanceMatrix(e){return at.isSymmetricMatrix(e)&&e.klassSubType==="DistanceMatrix"}constructor(e){if(super(e),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(e,o,t){return e===o&&(t=0),super.set(e,o,t)}addCross(e,o){return o===void 0&&(o=e,e=this.diagonalSize),o=o.slice(),o[e]=0,super.addCross(e,o)}toSymmetricMatrix(){return new at(this)}clone(){const e=new jt(this.diagonalSize);for(const[o,t,n]of this.upperRightEntries())o!==t&&e.set(o,t,n);return e}toCompact(){const{diagonalSize:e}=this,o=(e-1)*e/2,t=new Array(o);for(let n=1,s=0,l=0;l<t.length;l++)t[l]=this.get(s,n),++n>=e&&(n=++s+1);return t}static fromCompact(e){const o=e.length;if(o===0)return new this(0);const t=(Math.sqrt(8*o+1)+1)/2;if(!Number.isInteger(t))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(e)}`);const n=new this(t);for(let s=1,l=0,r=0;r<o;r++)n.set(s,l,e[r]),++s>=t&&(s=++l+1);return n}}jt.prototype.klassSubType="DistanceMatrix";class lt extends Q{constructor(e,o,t){super(),this.matrix=e,this.rows=o,this.columns=t}}class pn extends lt{constructor(e,o){nt(e,o),super(e,e.rows,1),this.column=o}set(e,o,t){return this.matrix.set(e,this.column,t),this}get(e){return this.matrix.get(e,this.column)}}class dn extends lt{constructor(e,o){le(e,o),super(e,e.rows,o.length),this.columnIndices=o}set(e,o,t){return this.matrix.set(e,this.columnIndices[o],t),this}get(e,o){return this.matrix.get(e,this.columnIndices[o])}}class wn extends lt{constructor(e){super(e,e.rows,e.columns)}set(e,o,t){return this.matrix.set(e,this.columns-o-1,t),this}get(e,o){return this.matrix.get(e,this.columns-o-1)}}class En extends lt{constructor(e){super(e,e.rows,e.columns)}set(e,o,t){return this.matrix.set(this.rows-e-1,o,t),this}get(e,o){return this.matrix.get(this.rows-e-1,o)}}class _n extends lt{constructor(e,o){ot(e,o),super(e,1,e.columns),this.row=o}set(e,o,t){return this.matrix.set(this.row,o,t),this}get(e,o){return this.matrix.get(this.row,o)}}class yn extends lt{constructor(e,o){re(e,o),super(e,o.length,e.columns),this.rowIndices=o}set(e,o,t){return this.matrix.set(this.rowIndices[e],o,t),this}get(e,o){return this.matrix.get(this.rowIndices[e],o)}}class Ct extends lt{constructor(e,o,t){re(e,o),le(e,t),super(e,o.length,t.length),this.rowIndices=o,this.columnIndices=t}set(e,o,t){return this.matrix.set(this.rowIndices[e],this.columnIndices[o],t),this}get(e,o){return this.matrix.get(this.rowIndices[e],this.columnIndices[o])}}class Sn extends lt{constructor(e,o,t,n,s){$t(e,o,t,n,s),super(e,t-o+1,s-n+1),this.startRow=o,this.startColumn=n}set(e,o,t){return this.matrix.set(this.startRow+e,this.startColumn+o,t),this}get(e,o){return this.matrix.get(this.startRow+e,this.startColumn+o)}}class Un extends lt{constructor(e){super(e,e.columns,e.rows)}set(e,o,t){return this.matrix.set(o,e,t),this}get(e,o){return this.matrix.get(o,e)}}class eo extends Q{constructor(e,o={}){const{rows:t=1}=o;if(e.length%t!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=t,this.columns=e.length/t,this.data=e}set(e,o,t){let n=this._calculateIndex(e,o);return this.data[n]=t,this}get(e,o){let t=this._calculateIndex(e,o);return this.data[t]}_calculateIndex(e,o){return e*this.columns+o}}class et extends Q{constructor(e){super(),this.data=e,this.rows=e.length,this.columns=e[0].length}set(e,o,t){return this.data[e][o]=t,this}get(e,o){return this.data[e][o]}}function qn(i,e){if(tt.isAnyArray(i))return i[0]&&tt.isAnyArray(i[0])?new et(i):new eo(i,e);throw new Error("the argument is not an array")}class Yt{constructor(e){e=et.checkMatrix(e);let o=e.clone(),t=o.rows,n=o.columns,s=new Float64Array(t),l=1,r,h,c,f,u,g,d,p,E;for(r=0;r<t;r++)s[r]=r;for(p=new Float64Array(t),h=0;h<n;h++){for(r=0;r<t;r++)p[r]=o.get(r,h);for(r=0;r<t;r++){for(E=Math.min(r,h),u=0,c=0;c<E;c++)u+=o.get(r,c)*p[c];p[r]-=u,o.set(r,h,p[r])}for(f=h,r=h+1;r<t;r++)Math.abs(p[r])>Math.abs(p[f])&&(f=r);if(f!==h){for(c=0;c<n;c++)g=o.get(f,c),o.set(f,c,o.get(h,c)),o.set(h,c,g);d=s[f],s[f]=s[h],s[h]=d,l=-l}if(h<t&&o.get(h,h)!==0)for(r=h+1;r<t;r++)o.set(r,h,o.get(r,h)/o.get(h,h))}this.LU=o,this.pivotVector=s,this.pivotSign=l}isSingular(){let e=this.LU,o=e.columns;for(let t=0;t<o;t++)if(e.get(t,t)===0)return!0;return!1}solve(e){e=I.checkMatrix(e);let o=this.LU;if(o.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let n=e.columns,s=e.subMatrixRow(this.pivotVector,0,n-1),l=o.columns,r,h,c;for(c=0;c<l;c++)for(r=c+1;r<l;r++)for(h=0;h<n;h++)s.set(r,h,s.get(r,h)-s.get(c,h)*o.get(r,c));for(c=l-1;c>=0;c--){for(h=0;h<n;h++)s.set(c,h,s.get(c,h)/o.get(c,c));for(r=0;r<c;r++)for(h=0;h<n;h++)s.set(r,h,s.get(r,h)-s.get(c,h)*o.get(r,c))}return s}get determinant(){let e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");let o=this.pivotSign,t=e.columns;for(let n=0;n<t;n++)o*=e.get(n,n);return o}get lowerTriangularMatrix(){let e=this.LU,o=e.rows,t=e.columns,n=new I(o,t);for(let s=0;s<o;s++)for(let l=0;l<t;l++)s>l?n.set(s,l,e.get(s,l)):s===l?n.set(s,l,1):n.set(s,l,0);return n}get upperTriangularMatrix(){let e=this.LU,o=e.rows,t=e.columns,n=new I(o,t);for(let s=0;s<o;s++)for(let l=0;l<t;l++)s<=l?n.set(s,l,e.get(s,l)):n.set(s,l,0);return n}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function rt(i,e){let o=0;return Math.abs(i)>Math.abs(e)?(o=e/i,Math.abs(i)*Math.sqrt(1+o*o)):e!==0?(o=i/e,Math.abs(e)*Math.sqrt(1+o*o)):0}class he{constructor(e){e=et.checkMatrix(e);let o=e.clone(),t=e.rows,n=e.columns,s=new Float64Array(n),l,r,h,c;for(h=0;h<n;h++){let f=0;for(l=h;l<t;l++)f=rt(f,o.get(l,h));if(f!==0){for(o.get(h,h)<0&&(f=-f),l=h;l<t;l++)o.set(l,h,o.get(l,h)/f);for(o.set(h,h,o.get(h,h)+1),r=h+1;r<n;r++){for(c=0,l=h;l<t;l++)c+=o.get(l,h)*o.get(l,r);for(c=-c/o.get(h,h),l=h;l<t;l++)o.set(l,r,o.get(l,r)+c*o.get(l,h))}}s[h]=-f}this.QR=o,this.Rdiag=s}solve(e){e=I.checkMatrix(e);let o=this.QR,t=o.rows;if(e.rows!==t)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let n=e.columns,s=e.clone(),l=o.columns,r,h,c,f;for(c=0;c<l;c++)for(h=0;h<n;h++){for(f=0,r=c;r<t;r++)f+=o.get(r,c)*s.get(r,h);for(f=-f/o.get(c,c),r=c;r<t;r++)s.set(r,h,s.get(r,h)+f*o.get(r,c))}for(c=l-1;c>=0;c--){for(h=0;h<n;h++)s.set(c,h,s.get(c,h)/this.Rdiag[c]);for(r=0;r<c;r++)for(h=0;h<n;h++)s.set(r,h,s.get(r,h)-s.get(c,h)*o.get(r,c))}return s.subMatrix(0,l-1,0,n-1)}isFullRank(){let e=this.QR.columns;for(let o=0;o<e;o++)if(this.Rdiag[o]===0)return!1;return!0}get upperTriangularMatrix(){let e=this.QR,o=e.columns,t=new I(o,o),n,s;for(n=0;n<o;n++)for(s=0;s<o;s++)n<s?t.set(n,s,e.get(n,s)):n===s?t.set(n,s,this.Rdiag[n]):t.set(n,s,0);return t}get orthogonalMatrix(){let e=this.QR,o=e.rows,t=e.columns,n=new I(o,t),s,l,r,h;for(r=t-1;r>=0;r--){for(s=0;s<o;s++)n.set(s,r,0);for(n.set(r,r,1),l=r;l<t;l++)if(e.get(r,r)!==0){for(h=0,s=r;s<o;s++)h+=e.get(s,r)*n.get(s,l);for(h=-h/e.get(r,r),s=r;s<o;s++)n.set(s,l,n.get(s,l)+h*e.get(s,r))}}return n}}class wt{constructor(e,o={}){if(e=et.checkMatrix(e),e.isEmpty())throw new Error("Matrix must be non-empty");let t=e.rows,n=e.columns;const{computeLeftSingularVectors:s=!0,computeRightSingularVectors:l=!0,autoTranspose:r=!1}=o;let h=!!s,c=!!l,f=!1,u;if(t<n)if(!r)u=e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{u=e.transpose(),t=u.rows,n=u.columns,f=!0;let m=h;h=c,c=m}else u=e.clone();let g=Math.min(t,n),d=Math.min(t+1,n),p=new Float64Array(d),E=new I(t,g),q=new I(n,n),a=new Float64Array(n),_=new Float64Array(t),U=new Float64Array(d);for(let m=0;m<d;m++)U[m]=m;let w=Math.min(t-1,n),R=Math.max(0,Math.min(n-2,t)),F=Math.max(w,R);for(let m=0;m<F;m++){if(m<w){p[m]=0;for(let S=m;S<t;S++)p[m]=rt(p[m],u.get(S,m));if(p[m]!==0){u.get(m,m)<0&&(p[m]=-p[m]);for(let S=m;S<t;S++)u.set(S,m,u.get(S,m)/p[m]);u.set(m,m,u.get(m,m)+1)}p[m]=-p[m]}for(let S=m+1;S<n;S++){if(m<w&&p[m]!==0){let v=0;for(let y=m;y<t;y++)v+=u.get(y,m)*u.get(y,S);v=-v/u.get(m,m);for(let y=m;y<t;y++)u.set(y,S,u.get(y,S)+v*u.get(y,m))}a[S]=u.get(m,S)}if(h&&m<w)for(let S=m;S<t;S++)E.set(S,m,u.get(S,m));if(m<R){a[m]=0;for(let S=m+1;S<n;S++)a[m]=rt(a[m],a[S]);if(a[m]!==0){a[m+1]<0&&(a[m]=0-a[m]);for(let S=m+1;S<n;S++)a[S]/=a[m];a[m+1]+=1}if(a[m]=-a[m],m+1<t&&a[m]!==0){for(let S=m+1;S<t;S++)_[S]=0;for(let S=m+1;S<t;S++)for(let v=m+1;v<n;v++)_[S]+=a[v]*u.get(S,v);for(let S=m+1;S<n;S++){let v=-a[S]/a[m+1];for(let y=m+1;y<t;y++)u.set(y,S,u.get(y,S)+v*_[y])}}if(c)for(let S=m+1;S<n;S++)q.set(S,m,a[S])}}let b=Math.min(n,t+1);if(w<n&&(p[w]=u.get(w,w)),t<b&&(p[b-1]=0),R+1<b&&(a[R]=u.get(R,b-1)),a[b-1]=0,h){for(let m=w;m<g;m++){for(let S=0;S<t;S++)E.set(S,m,0);E.set(m,m,1)}for(let m=w-1;m>=0;m--)if(p[m]!==0){for(let S=m+1;S<g;S++){let v=0;for(let y=m;y<t;y++)v+=E.get(y,m)*E.get(y,S);v=-v/E.get(m,m);for(let y=m;y<t;y++)E.set(y,S,E.get(y,S)+v*E.get(y,m))}for(let S=m;S<t;S++)E.set(S,m,-E.get(S,m));E.set(m,m,1+E.get(m,m));for(let S=0;S<m-1;S++)E.set(S,m,0)}else{for(let S=0;S<t;S++)E.set(S,m,0);E.set(m,m,1)}}if(c)for(let m=n-1;m>=0;m--){if(m<R&&a[m]!==0)for(let S=m+1;S<n;S++){let v=0;for(let y=m+1;y<n;y++)v+=q.get(y,m)*q.get(y,S);v=-v/q.get(m+1,m);for(let y=m+1;y<n;y++)q.set(y,S,q.get(y,S)+v*q.get(y,m))}for(let S=0;S<n;S++)q.set(S,m,0);q.set(m,m,1)}let k=b-1,V=Number.EPSILON;for(;b>0;){let m,S;for(m=b-2;m>=-1&&m!==-1;m--){const v=Number.MIN_VALUE+V*Math.abs(p[m]+Math.abs(p[m+1]));if(Math.abs(a[m])<=v||Number.isNaN(a[m])){a[m]=0;break}}if(m===b-2)S=4;else{let v;for(v=b-1;v>=m&&v!==m;v--){let y=(v!==b?Math.abs(a[v]):0)+(v!==m+1?Math.abs(a[v-1]):0);if(Math.abs(p[v])<=V*y){p[v]=0;break}}v===m?S=3:v===b-1?S=1:(S=2,m=v)}switch(m++,S){case 1:{let v=a[b-2];a[b-2]=0;for(let y=b-2;y>=m;y--){let M=rt(p[y],v),K=p[y]/M,A=v/M;if(p[y]=M,y!==m&&(v=-A*a[y-1],a[y-1]=K*a[y-1]),c)for(let W=0;W<n;W++)M=K*q.get(W,y)+A*q.get(W,b-1),q.set(W,b-1,-A*q.get(W,y)+K*q.get(W,b-1)),q.set(W,y,M)}break}case 2:{let v=a[m-1];a[m-1]=0;for(let y=m;y<b;y++){let M=rt(p[y],v),K=p[y]/M,A=v/M;if(p[y]=M,v=-A*a[y],a[y]=K*a[y],h)for(let W=0;W<t;W++)M=K*E.get(W,y)+A*E.get(W,m-1),E.set(W,m-1,-A*E.get(W,y)+K*E.get(W,m-1)),E.set(W,y,M)}break}case 3:{const v=Math.max(Math.abs(p[b-1]),Math.abs(p[b-2]),Math.abs(a[b-2]),Math.abs(p[m]),Math.abs(a[m])),y=p[b-1]/v,M=p[b-2]/v,K=a[b-2]/v,A=p[m]/v,W=a[m]/v,T=((M+y)*(M-y)+K*K)/2,Y=y*K*(y*K);let j=0;(T!==0||Y!==0)&&(T<0?j=0-Math.sqrt(T*T+Y):j=Math.sqrt(T*T+Y),j=Y/(T+j));let L=(A+y)*(A-y)+j,B=A*W;for(let x=m;x<b-1;x++){let G=rt(L,B);G===0&&(G=Number.MIN_VALUE);let D=L/G,H=B/G;if(x!==m&&(a[x-1]=G),L=D*p[x]+H*a[x],a[x]=D*a[x]-H*p[x],B=H*p[x+1],p[x+1]=D*p[x+1],c)for(let z=0;z<n;z++)G=D*q.get(z,x)+H*q.get(z,x+1),q.set(z,x+1,-H*q.get(z,x)+D*q.get(z,x+1)),q.set(z,x,G);if(G=rt(L,B),G===0&&(G=Number.MIN_VALUE),D=L/G,H=B/G,p[x]=G,L=D*a[x]+H*p[x+1],p[x+1]=-H*a[x]+D*p[x+1],B=H*a[x+1],a[x+1]=D*a[x+1],h&&x<t-1)for(let z=0;z<t;z++)G=D*E.get(z,x)+H*E.get(z,x+1),E.set(z,x+1,-H*E.get(z,x)+D*E.get(z,x+1)),E.set(z,x,G)}a[b-2]=L;break}case 4:{if(p[m]<=0&&(p[m]=p[m]<0?-p[m]:0,c))for(let v=0;v<=k;v++)q.set(v,m,-q.get(v,m));for(;m<k&&!(p[m]>=p[m+1]);){let v=p[m];if(p[m]=p[m+1],p[m+1]=v,c&&m<n-1)for(let y=0;y<n;y++)v=q.get(y,m+1),q.set(y,m+1,q.get(y,m)),q.set(y,m,v);if(h&&m<t-1)for(let y=0;y<t;y++)v=E.get(y,m+1),E.set(y,m+1,E.get(y,m)),E.set(y,m,v);m++}b--;break}}}if(f){let m=q;q=E,E=m}this.m=t,this.n=n,this.s=p,this.U=E,this.V=q}solve(e){let o=e,t=this.threshold,n=this.s.length,s=I.zeros(n,n);for(let g=0;g<n;g++)Math.abs(this.s[g])<=t?s.set(g,g,0):s.set(g,g,1/this.s[g]);let l=this.U,r=this.rightSingularVectors,h=r.mmul(s),c=r.rows,f=l.rows,u=I.zeros(c,f);for(let g=0;g<c;g++)for(let d=0;d<f;d++){let p=0;for(let E=0;E<n;E++)p+=h.get(g,E)*l.get(d,E);u.set(g,d,p)}return u.mmul(o)}solveForDiagonal(e){return this.solve(I.diag(e))}inverse(){let e=this.V,o=this.threshold,t=e.rows,n=e.columns,s=new I(t,this.s.length);for(let f=0;f<t;f++)for(let u=0;u<n;u++)Math.abs(this.s[u])>o&&s.set(f,u,e.get(f,u)/this.s[u]);let l=this.U,r=l.rows,h=l.columns,c=new I(t,r);for(let f=0;f<t;f++)for(let u=0;u<r;u++){let g=0;for(let d=0;d<h;d++)g+=s.get(f,d)*l.get(u,d);c.set(f,u,g)}return c}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,o=0,t=this.s;for(let n=0,s=t.length;n<s;n++)t[n]>e&&o++;return o}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return I.diag(this.s)}}function vn(i,e=!1){return i=et.checkMatrix(i),e?new wt(i).inverse():oo(i,I.eye(i.rows))}function oo(i,e,o=!1){return i=et.checkMatrix(i),e=et.checkMatrix(e),o?new wt(i).solve(e):i.isSquare()?new Yt(i).solve(e):new he(i).solve(e)}function Kt(i){if(i=I.checkMatrix(i),i.isSquare()){if(i.columns===0)return 1;let e,o,t,n;if(i.columns===2)return e=i.get(0,0),o=i.get(0,1),t=i.get(1,0),n=i.get(1,1),e*n-o*t;if(i.columns===3){let s,l,r;return s=new Ct(i,[1,2],[1,2]),l=new Ct(i,[1,2],[0,2]),r=new Ct(i,[1,2],[0,1]),e=i.get(0,0),o=i.get(0,1),t=i.get(0,2),e*Kt(s)-o*Kt(l)+t*Kt(r)}else return new Yt(i).determinant}else throw Error("determinant can only be calculated for a square matrix")}function Rn(i,e){let o=[];for(let t=0;t<i;t++)t!==e&&o.push(t);return o}function Vn(i,e,o,t=1e-9,n=1e-9){if(i>n)return new Array(e.rows+1).fill(0);{let s=e.addRow(o,[0]);for(let l=0;l<s.rows;l++)Math.abs(s.get(l,0))<t&&s.set(l,0,0);return s.to1DArray()}}function bn(i,e={}){const{thresholdValue:o=1e-9,thresholdError:t=1e-9}=e;i=I.checkMatrix(i);let n=i.rows,s=new I(n,n);for(let l=0;l<n;l++){let r=I.columnVector(i.getRow(l)),h=i.subMatrixRow(Rn(n,l)).transpose(),f=new wt(h).solve(r),u=I.sub(r,h.mmul(f)).abs().max();s.setRow(l,Vn(u,f,l,o,t))}return s}function Fn(i,e=Number.EPSILON){if(i=I.checkMatrix(i),i.isEmpty())return i.transpose();let o=new wt(i,{autoTranspose:!0}),t=o.leftSingularVectors,n=o.rightSingularVectors,s=o.diagonal;for(let l=0;l<s.length;l++)Math.abs(s[l])>e?s[l]=1/s[l]:s[l]=0;return n.mmul(I.diag(s).mmul(t.transpose()))}function kn(i,e=i,o={}){i=new I(i);let t=!1;if(typeof e=="object"&&!I.isMatrix(e)&&!tt.isAnyArray(e)?(o=e,e=i,t=!0):e=new I(e),i.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:n=!0}=o;n&&(i=i.center("column"),t||(e=e.center("column")));const s=i.transpose().mmul(e);for(let l=0;l<s.rows;l++)for(let r=0;r<s.columns;r++)s.set(l,r,s.get(l,r)*(1/(i.rows-1)));return s}function In(i,e=i,o={}){i=new I(i);let t=!1;if(typeof e=="object"&&!I.isMatrix(e)&&!tt.isAnyArray(e)?(o=e,e=i,t=!0):e=new I(e),i.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:n=!0,scale:s=!0}=o;n&&(i.center("column"),t||e.center("column")),s&&(i.scale("column"),t||e.scale("column"));const l=i.standardDeviation("column",{unbiased:!0}),r=t?l:e.standardDeviation("column",{unbiased:!0}),h=i.transpose().mmul(e);for(let c=0;c<h.rows;c++)for(let f=0;f<h.columns;f++)h.set(c,f,h.get(c,f)*(1/(l[c]*r[f]))*(1/(i.rows-1)));return h}class no{constructor(e,o={}){const{assumeSymmetric:t=!1}=o;if(e=et.checkMatrix(e),!e.isSquare())throw new Error("Matrix is not a square matrix");if(e.isEmpty())throw new Error("Matrix must be non-empty");let n=e.columns,s=new I(n,n),l=new Float64Array(n),r=new Float64Array(n),h=e,c,f,u=!1;if(t?u=!0:u=e.isSymmetric(),u){for(c=0;c<n;c++)for(f=0;f<n;f++)s.set(c,f,h.get(c,f));Mn(n,r,l,s),Nn(n,r,l,s)}else{let g=new I(n,n),d=new Float64Array(n);for(f=0;f<n;f++)for(c=0;c<n;c++)g.set(c,f,h.get(c,f));Cn(n,g,d,s),Kn(n,r,l,s,g)}this.n=n,this.e=r,this.d=l,this.V=s}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let e=this.n,o=this.e,t=this.d,n=new I(e,e),s,l;for(s=0;s<e;s++){for(l=0;l<e;l++)n.set(s,l,0);n.set(s,s,t[s]),o[s]>0?n.set(s,s+1,o[s]):o[s]<0&&n.set(s,s-1,o[s])}return n}}function Mn(i,e,o,t){let n,s,l,r,h,c,f,u;for(h=0;h<i;h++)o[h]=t.get(i-1,h);for(r=i-1;r>0;r--){for(u=0,l=0,c=0;c<r;c++)u=u+Math.abs(o[c]);if(u===0)for(e[r]=o[r-1],h=0;h<r;h++)o[h]=t.get(r-1,h),t.set(r,h,0),t.set(h,r,0);else{for(c=0;c<r;c++)o[c]/=u,l+=o[c]*o[c];for(n=o[r-1],s=Math.sqrt(l),n>0&&(s=-s),e[r]=u*s,l=l-n*s,o[r-1]=n-s,h=0;h<r;h++)e[h]=0;for(h=0;h<r;h++){for(n=o[h],t.set(h,r,n),s=e[h]+t.get(h,h)*n,c=h+1;c<=r-1;c++)s+=t.get(c,h)*o[c],e[c]+=t.get(c,h)*n;e[h]=s}for(n=0,h=0;h<r;h++)e[h]/=l,n+=e[h]*o[h];for(f=n/(l+l),h=0;h<r;h++)e[h]-=f*o[h];for(h=0;h<r;h++){for(n=o[h],s=e[h],c=h;c<=r-1;c++)t.set(c,h,t.get(c,h)-(n*e[c]+s*o[c]));o[h]=t.get(r-1,h),t.set(r,h,0)}}o[r]=l}for(r=0;r<i-1;r++){if(t.set(i-1,r,t.get(r,r)),t.set(r,r,1),l=o[r+1],l!==0){for(c=0;c<=r;c++)o[c]=t.get(c,r+1)/l;for(h=0;h<=r;h++){for(s=0,c=0;c<=r;c++)s+=t.get(c,r+1)*t.get(c,h);for(c=0;c<=r;c++)t.set(c,h,t.get(c,h)-s*o[c])}}for(c=0;c<=r;c++)t.set(c,r+1,0)}for(h=0;h<i;h++)o[h]=t.get(i-1,h),t.set(i-1,h,0);t.set(i-1,i-1,1),e[0]=0}function Nn(i,e,o,t){let n,s,l,r,h,c,f,u,g,d,p,E,q,a,_,U;for(l=1;l<i;l++)e[l-1]=e[l];e[i-1]=0;let w=0,R=0,F=Number.EPSILON;for(c=0;c<i;c++){for(R=Math.max(R,Math.abs(o[c])+Math.abs(e[c])),f=c;f<i&&!(Math.abs(e[f])<=F*R);)f++;if(f>c)do{for(n=o[c],u=(o[c+1]-n)/(2*e[c]),g=rt(u,1),u<0&&(g=-g),o[c]=e[c]/(u+g),o[c+1]=e[c]*(u+g),d=o[c+1],s=n-o[c],l=c+2;l<i;l++)o[l]-=s;for(w=w+s,u=o[f],p=1,E=p,q=p,a=e[c+1],_=0,U=0,l=f-1;l>=c;l--)for(q=E,E=p,U=_,n=p*e[l],s=p*u,g=rt(u,e[l]),e[l+1]=_*g,_=e[l]/g,p=u/g,u=p*o[l]-_*n,o[l+1]=s+_*(p*n+_*o[l]),h=0;h<i;h++)s=t.get(h,l+1),t.set(h,l+1,_*t.get(h,l)+p*s),t.set(h,l,p*t.get(h,l)-_*s);u=-_*U*q*a*e[c]/d,e[c]=_*u,o[c]=p*u}while(Math.abs(e[c])>F*R);o[c]=o[c]+w,e[c]=0}for(l=0;l<i-1;l++){for(h=l,u=o[l],r=l+1;r<i;r++)o[r]<u&&(h=r,u=o[r]);if(h!==l)for(o[h]=o[l],o[l]=u,r=0;r<i;r++)u=t.get(r,l),t.set(r,l,t.get(r,h)),t.set(r,h,u)}}function Cn(i,e,o,t){let n=0,s=i-1,l,r,h,c,f,u,g;for(u=n+1;u<=s-1;u++){for(g=0,c=u;c<=s;c++)g=g+Math.abs(e.get(c,u-1));if(g!==0){for(h=0,c=s;c>=u;c--)o[c]=e.get(c,u-1)/g,h+=o[c]*o[c];for(r=Math.sqrt(h),o[u]>0&&(r=-r),h=h-o[u]*r,o[u]=o[u]-r,f=u;f<i;f++){for(l=0,c=s;c>=u;c--)l+=o[c]*e.get(c,f);for(l=l/h,c=u;c<=s;c++)e.set(c,f,e.get(c,f)-l*o[c])}for(c=0;c<=s;c++){for(l=0,f=s;f>=u;f--)l+=o[f]*e.get(c,f);for(l=l/h,f=u;f<=s;f++)e.set(c,f,e.get(c,f)-l*o[f])}o[u]=g*o[u],e.set(u,u-1,g*r)}}for(c=0;c<i;c++)for(f=0;f<i;f++)t.set(c,f,c===f?1:0);for(u=s-1;u>=n+1;u--)if(e.get(u,u-1)!==0){for(c=u+1;c<=s;c++)o[c]=e.get(c,u-1);for(f=u;f<=s;f++){for(r=0,c=u;c<=s;c++)r+=o[c]*t.get(c,f);for(r=r/o[u]/e.get(u,u-1),c=u;c<=s;c++)t.set(c,f,t.get(c,f)+r*o[c])}}}function Kn(i,e,o,t,n){let s=i-1,l=0,r=i-1,h=Number.EPSILON,c=0,f=0,u=0,g=0,d=0,p=0,E=0,q=0,a,_,U,w,R,F,b,k,V,m,S,v,y,M,K;for(a=0;a<i;a++)for((a<l||a>r)&&(o[a]=n.get(a,a),e[a]=0),_=Math.max(a-1,0);_<i;_++)f=f+Math.abs(n.get(a,_));for(;s>=l;){for(w=s;w>l&&(p=Math.abs(n.get(w-1,w-1))+Math.abs(n.get(w,w)),p===0&&(p=f),!(Math.abs(n.get(w,w-1))<h*p));)w--;if(w===s)n.set(s,s,n.get(s,s)+c),o[s]=n.get(s,s),e[s]=0,s--,q=0;else if(w===s-1){if(b=n.get(s,s-1)*n.get(s-1,s),u=(n.get(s-1,s-1)-n.get(s,s))/2,g=u*u+b,E=Math.sqrt(Math.abs(g)),n.set(s,s,n.get(s,s)+c),n.set(s-1,s-1,n.get(s-1,s-1)+c),k=n.get(s,s),g>=0){for(E=u>=0?u+E:u-E,o[s-1]=k+E,o[s]=o[s-1],E!==0&&(o[s]=k-b/E),e[s-1]=0,e[s]=0,k=n.get(s,s-1),p=Math.abs(k)+Math.abs(E),u=k/p,g=E/p,d=Math.sqrt(u*u+g*g),u=u/d,g=g/d,_=s-1;_<i;_++)E=n.get(s-1,_),n.set(s-1,_,g*E+u*n.get(s,_)),n.set(s,_,g*n.get(s,_)-u*E);for(a=0;a<=s;a++)E=n.get(a,s-1),n.set(a,s-1,g*E+u*n.get(a,s)),n.set(a,s,g*n.get(a,s)-u*E);for(a=l;a<=r;a++)E=t.get(a,s-1),t.set(a,s-1,g*E+u*t.get(a,s)),t.set(a,s,g*t.get(a,s)-u*E)}else o[s-1]=k+u,o[s]=k+u,e[s-1]=E,e[s]=-E;s=s-2,q=0}else{if(k=n.get(s,s),V=0,b=0,w<s&&(V=n.get(s-1,s-1),b=n.get(s,s-1)*n.get(s-1,s)),q===10){for(c+=k,a=l;a<=s;a++)n.set(a,a,n.get(a,a)-k);p=Math.abs(n.get(s,s-1))+Math.abs(n.get(s-1,s-2)),k=V=.75*p,b=-.4375*p*p}if(q===30&&(p=(V-k)/2,p=p*p+b,p>0)){for(p=Math.sqrt(p),V<k&&(p=-p),p=k-b/((V-k)/2+p),a=l;a<=s;a++)n.set(a,a,n.get(a,a)-p);c+=p,k=V=b=.964}for(q=q+1,R=s-2;R>=w&&(E=n.get(R,R),d=k-E,p=V-E,u=(d*p-b)/n.get(R+1,R)+n.get(R,R+1),g=n.get(R+1,R+1)-E-d-p,d=n.get(R+2,R+1),p=Math.abs(u)+Math.abs(g)+Math.abs(d),u=u/p,g=g/p,d=d/p,!(R===w||Math.abs(n.get(R,R-1))*(Math.abs(g)+Math.abs(d))<h*(Math.abs(u)*(Math.abs(n.get(R-1,R-1))+Math.abs(E)+Math.abs(n.get(R+1,R+1))))));)R--;for(a=R+2;a<=s;a++)n.set(a,a-2,0),a>R+2&&n.set(a,a-3,0);for(U=R;U<=s-1&&(M=U!==s-1,U!==R&&(u=n.get(U,U-1),g=n.get(U+1,U-1),d=M?n.get(U+2,U-1):0,k=Math.abs(u)+Math.abs(g)+Math.abs(d),k!==0&&(u=u/k,g=g/k,d=d/k)),k!==0);U++)if(p=Math.sqrt(u*u+g*g+d*d),u<0&&(p=-p),p!==0){for(U!==R?n.set(U,U-1,-p*k):w!==R&&n.set(U,U-1,-n.get(U,U-1)),u=u+p,k=u/p,V=g/p,E=d/p,g=g/u,d=d/u,_=U;_<i;_++)u=n.get(U,_)+g*n.get(U+1,_),M&&(u=u+d*n.get(U+2,_),n.set(U+2,_,n.get(U+2,_)-u*E)),n.set(U,_,n.get(U,_)-u*k),n.set(U+1,_,n.get(U+1,_)-u*V);for(a=0;a<=Math.min(s,U+3);a++)u=k*n.get(a,U)+V*n.get(a,U+1),M&&(u=u+E*n.get(a,U+2),n.set(a,U+2,n.get(a,U+2)-u*d)),n.set(a,U,n.get(a,U)-u),n.set(a,U+1,n.get(a,U+1)-u*g);for(a=l;a<=r;a++)u=k*t.get(a,U)+V*t.get(a,U+1),M&&(u=u+E*t.get(a,U+2),t.set(a,U+2,t.get(a,U+2)-u*d)),t.set(a,U,t.get(a,U)-u),t.set(a,U+1,t.get(a,U+1)-u*g)}}}if(f!==0){for(s=i-1;s>=0;s--)if(u=o[s],g=e[s],g===0)for(w=s,n.set(s,s,1),a=s-1;a>=0;a--){for(b=n.get(a,a)-u,d=0,_=w;_<=s;_++)d=d+n.get(a,_)*n.get(_,s);if(e[a]<0)E=b,p=d;else if(w=a,e[a]===0?n.set(a,s,b!==0?-d/b:-d/(h*f)):(k=n.get(a,a+1),V=n.get(a+1,a),g=(o[a]-u)*(o[a]-u)+e[a]*e[a],F=(k*p-E*d)/g,n.set(a,s,F),n.set(a+1,s,Math.abs(k)>Math.abs(E)?(-d-b*F)/k:(-p-V*F)/E)),F=Math.abs(n.get(a,s)),h*F*F>1)for(_=a;_<=s;_++)n.set(_,s,n.get(_,s)/F)}else if(g<0)for(w=s-1,Math.abs(n.get(s,s-1))>Math.abs(n.get(s-1,s))?(n.set(s-1,s-1,g/n.get(s,s-1)),n.set(s-1,s,-(n.get(s,s)-u)/n.get(s,s-1))):(K=kt(0,-n.get(s-1,s),n.get(s-1,s-1)-u,g),n.set(s-1,s-1,K[0]),n.set(s-1,s,K[1])),n.set(s,s-1,0),n.set(s,s,1),a=s-2;a>=0;a--){for(m=0,S=0,_=w;_<=s;_++)m=m+n.get(a,_)*n.get(_,s-1),S=S+n.get(a,_)*n.get(_,s);if(b=n.get(a,a)-u,e[a]<0)E=b,d=m,p=S;else if(w=a,e[a]===0?(K=kt(-m,-S,b,g),n.set(a,s-1,K[0]),n.set(a,s,K[1])):(k=n.get(a,a+1),V=n.get(a+1,a),v=(o[a]-u)*(o[a]-u)+e[a]*e[a]-g*g,y=(o[a]-u)*2*g,v===0&&y===0&&(v=h*f*(Math.abs(b)+Math.abs(g)+Math.abs(k)+Math.abs(V)+Math.abs(E))),K=kt(k*d-E*m+g*S,k*p-E*S-g*m,v,y),n.set(a,s-1,K[0]),n.set(a,s,K[1]),Math.abs(k)>Math.abs(E)+Math.abs(g)?(n.set(a+1,s-1,(-m-b*n.get(a,s-1)+g*n.get(a,s))/k),n.set(a+1,s,(-S-b*n.get(a,s)-g*n.get(a,s-1))/k)):(K=kt(-d-V*n.get(a,s-1),-p-V*n.get(a,s),E,g),n.set(a+1,s-1,K[0]),n.set(a+1,s,K[1]))),F=Math.max(Math.abs(n.get(a,s-1)),Math.abs(n.get(a,s))),h*F*F>1)for(_=a;_<=s;_++)n.set(_,s-1,n.get(_,s-1)/F),n.set(_,s,n.get(_,s)/F)}for(a=0;a<i;a++)if(a<l||a>r)for(_=a;_<i;_++)t.set(a,_,n.get(a,_));for(_=i-1;_>=l;_--)for(a=l;a<=r;a++){for(E=0,U=l;U<=Math.min(_,r);U++)E=E+t.get(a,U)*n.get(U,_);t.set(a,_,E)}}}function kt(i,e,o,t){let n,s;return Math.abs(o)>Math.abs(t)?(n=t/o,s=o+n*t,[(i+n*e)/s,(e-n*i)/s]):(n=o/t,s=t+n*o,[(n*i+e)/s,(n*e-i)/s])}class so{constructor(e){if(e=et.checkMatrix(e),!e.isSymmetric())throw new Error("Matrix is not symmetric");let o=e,t=o.rows,n=new I(t,t),s=!0,l,r,h;for(r=0;r<t;r++){let c=0;for(h=0;h<r;h++){let f=0;for(l=0;l<h;l++)f+=n.get(h,l)*n.get(r,l);f=(o.get(r,h)-f)/n.get(h,h),n.set(r,h,f),c=c+f*f}for(c=o.get(r,r)-c,s&=c>0,n.set(r,r,Math.sqrt(Math.max(c,0))),h=r+1;h<t;h++)n.set(r,h,0)}this.L=n,this.positiveDefinite=!!s}isPositiveDefinite(){return this.positiveDefinite}solve(e){e=et.checkMatrix(e);let o=this.L,t=o.rows;if(e.rows!==t)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let n=e.columns,s=e.clone(),l,r,h;for(h=0;h<t;h++)for(r=0;r<n;r++){for(l=0;l<h;l++)s.set(h,r,s.get(h,r)-s.get(l,r)*o.get(h,l));s.set(h,r,s.get(h,r)/o.get(h,h))}for(h=t-1;h>=0;h--)for(r=0;r<n;r++){for(l=h+1;l<t;l++)s.set(h,r,s.get(h,r)-s.get(l,r)*o.get(l,h));s.set(h,r,s.get(h,r)/o.get(h,h))}return s}get lowerTriangularMatrix(){return this.L}}class io{constructor(e,o={}){e=et.checkMatrix(e);let{Y:t}=o;const{scaleScores:n=!1,maxIterations:s=1e3,terminationCriteria:l=1e-10}=o;let r;if(t){if(tt.isAnyArray(t)&&typeof t[0]=="number"?t=I.columnVector(t):t=et.checkMatrix(t),t.rows!==e.rows)throw new Error("Y should have the same number of rows as X");r=t.getColumnVector(0)}else r=e.getColumnVector(0);let h=1,c,f,u,g;for(let d=0;d<s&&h>l;d++)u=e.transpose().mmul(r).div(r.transpose().mmul(r).get(0,0)),u=u.div(u.norm()),c=e.mmul(u).div(u.transpose().mmul(u).get(0,0)),d>0&&(h=c.clone().sub(g).pow(2).sum()),g=c.clone(),t?(f=t.transpose().mmul(c).div(c.transpose().mmul(c).get(0,0)),f=f.div(f.norm()),r=t.mmul(f).div(f.transpose().mmul(f).get(0,0))):r=c;if(t){let d=e.transpose().mmul(c).div(c.transpose().mmul(c).get(0,0));d=d.div(d.norm());let p=e.clone().sub(c.clone().mmul(d.transpose())),E=r.transpose().mmul(c).div(c.transpose().mmul(c).get(0,0)),q=t.clone().sub(c.clone().mulS(E.get(0,0)).mmul(f.transpose()));this.t=c,this.p=d.transpose(),this.w=u.transpose(),this.q=f,this.u=r,this.s=c.transpose().mmul(c),this.xResidual=p,this.yResidual=q,this.betas=E}else this.w=u.transpose(),this.s=c.transpose().mmul(c).sqrt(),n?this.t=c.clone().div(this.s.get(0,0)):this.t=c,this.xResidual=e.sub(c.mmul(u.transpose()))}}J.AbstractMatrix=Q;J.CHO=so;J.CholeskyDecomposition=so;J.DistanceMatrix=jt;J.EVD=no;J.EigenvalueDecomposition=no;J.LU=Yt;J.LuDecomposition=Yt;var ro=J.Matrix=I;J.MatrixColumnSelectionView=dn;J.MatrixColumnView=pn;J.MatrixFlipColumnView=wn;J.MatrixFlipRowView=En;J.MatrixRowSelectionView=yn;J.MatrixRowView=_n;J.MatrixSelectionView=Ct;J.MatrixSubView=Sn;J.MatrixTransposeView=Un;J.NIPALS=io;J.Nipals=io;J.QR=he;J.QrDecomposition=he;J.SVD=wt;J.SingularValueDecomposition=wt;J.SymmetricMatrix=at;J.WrapperMatrix1D=eo;J.WrapperMatrix2D=et;J.correlation=In;J.covariance=kn;var Fe=J.default=I;J.determinant=Kt;J.inverse=vn;J.linearDependencies=bn;J.pseudoInverse=Fn;J.solve=oo;J.wrap=qn;const pt=ro;Fe.Matrix&&Fe.Matrix;const ke=8,Tn=1/16777216,xn=15,Qn=18,Jn=11;function An(i,e){i>>>=0,e>>>=0;const o=i&65535;return((i-o)*e>>>0)+o*e>>>0}class Wn{constructor(e=Date.now()){this.state=new Uint32Array(4),this.init(e),this.random=this.getFloat.bind(this)}getUint32(){return this.nextState(),this.state[3]+this.state[2]>>>0}getFloat(){return(this.getUint32()>>>8)*Tn}init(e){if(!Number.isInteger(e))throw new TypeError("seed must be an integer");this.state[0]=e,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(let o=1;o<ke;o++)this.state[o&3]^=o+An(1812433253,this.state[o-1&3]^this.state[o-1&3]>>>30>>>0)>>>0;this.periodCertification();for(let o=0;o<ke;o++)this.nextState()}periodCertification(){this.state[0]===0&&this.state[1]===0&&this.state[2]===0&&this.state[3]===0&&(this.state[0]=88,this.state[1]=83,this.state[2]=65,this.state[3]=68)}nextState(){let e=this.state[0];e^=e<<xn,e^=e>>>Qn,e^=this.state[3]<<Jn,this.state[0]=this.state[1],this.state[1]=this.state[2],this.state[2]=this.state[3],this.state[3]=e}}const jn=1e-8;function Ie(i,e={},o=Math.random){const{size:t=1,replace:n=!1,probabilities:s}=e;let l,r;if(typeof i=="number"?l=Yn(i):l=i.slice(),s){if(!n)throw new Error("choice with probabilities and no replacement is not implemented");if(s.length!==l.length)throw new Error("the length of probabilities option should be equal to the number of choices");r=[s[0]];for(let c=1;c<s.length;c++)r[c]=r[c-1]+s[c];if(Math.abs(1-r[r.length-1])>jn)throw new Error(`probabilities should sum to 1, but instead sums to ${r[r.length-1]}`)}if(n===!1&&t>l.length)throw new Error("size option is too large");const h=[];for(let c=0;c<t;c++){const f=Ln(l.length,o,r);h.push(l[f]),n||l.splice(f,1)}return h}function Yn(i){const e=[];for(let o=0;o<i;o++)e.push(o);return e}function Ln(i,e,o){const t=e();if(o){let n=0;for(;t>o[n];)n++;return n}else return Math.floor(t*i)}class ce{constructor(e=Math.random){if(typeof e=="number"){const o=new Wn(e);this.randomGenerator=o.random}else this.randomGenerator=e}choice(e,o){return typeof e=="number"?Ie(e,o,this.randomGenerator):Ie(e,o,this.randomGenerator)}random(){return this.randomGenerator()}randInt(e,o){return o===void 0&&(o=e,e=0),e+Math.floor(this.randomGenerator()*(o-e))}randomSample(e){const o=[];for(let t=0;t<e;t++)o.push(this.random());return o}}function Gn(i,e,o){return new ce(o).choice(i,{size:e})}function On(i,e,o,t){const n=new ce(t);let s=new Array(e);if(s[0]=Math.floor(n.random()*i.length),e>1){let l={dist:-1,index:-1};for(let r=0;r<i.length;++r)o[s[0]][r]>l.dist&&(l.dist=o[s[0]][r],l.index=r);if(s[1]=l.index,e>2)for(let r=2;r<e;++r){let h={dist:-1,index:-1};for(let c=0;c<i.length;++c){let f={dist:Number.MAX_VALUE,index:-1};for(let u=0;u<r;++u)o[u][c]<f.dist&&!s.includes(c)&&(f={dist:o[u][c],index:c});f.dist!==Number.MAX_VALUE&&f.dist>h.dist&&(h={...f})}s[r]=h.index}}return s.map(l=>i[l])}function Bn(i,e,o={}){const t=new pt(i),n=t.rows,s=new ce(o.seed),l=[],r=o.localTrials||2+Math.floor(Math.log(e)),h=s.randInt(n);l.push(t.getRow(h));let c=new pt(1,t.rows);for(let d=0;d<t.rows;d++)c.set(0,d,At(t.getRow(d),l[0]));let f=[Me(c.getRow(0))];const u=1/f[0][n-1];let g=pt.mul(c,u);for(let d=1;d<e;d++){const p=s.choice(n,{replace:!0,size:r,probabilities:g.getRow(0)}),E=t.selection(p,zn(t.columns)),q=Dn(E,t);let a=1/0,_=1/0,U=c;for(let w=0;w<r;w++){const R=pt.min(c,[q.getRow(w)]),F=R.sum();F<_&&(a=p[w],_=F,U=R)}l[d]=t.getRow(a),c=U,f=[Me(c.getRow(0))],g=pt.mul(c,1/f[0][n-1])}return l}function Dn(i,e){const o=new pt(i.rows,e.rows);for(let t=0;t<i.rows;t++)for(let n=0;n<e.rows;n++)o.set(t,n,At(i.getRow(t),e.getRow(n)));return o}function zn(i){let e=[];for(let o=0;o<i;o++)e.push(o);return e}function Me(i){let e=[i[0]];for(let o=1;o<i.length;o++)e[o]=e[o-1]+i[o];return e}const Pn={maxIterations:100,tolerance:1e-6,initialization:"kmeans++",distanceFunction:At};function Xn(i,e,o,t,n,s){o=Ze(e,i,o,n.distanceFunction);let l=No(i,e,o,t),r=Co(l,i,n.distanceFunction,n.tolerance);return new Ko(o,l,r,s,n.distanceFunction)}function Ne(i,e,o){const t=Hn(o);xo(i,e);let n=Zn(i,e,t);t.maxIterations===0&&(t.maxIterations=Number.MAX_VALUE);let s=new Array(i.length),l=!1,r=0,h;for(;!l&&r<t.maxIterations;)h=Xn(n,i,s,e,t,++r),l=h.converged,n=h.centroids;if(!h)throw new Error("unreachable: no kmeans step executed");return h}function Zn(i,e,o){let t;if(Array.isArray(o.initialization)){if(o.initialization.length!==e)throw new Error("The initial centers should have the same length as K");t=o.initialization}else switch(o.initialization){case"kmeans++":t=Bn(i,e,o);break;case"random":t=Gn(i,e,o.seed);break;case"mostDistant":t=On(i,e,Mo(i,o.distanceFunction),o.seed);break;default:To(o.initialization,"Unknown initialization method")}return t}function Hn(i){return{...Pn,...i}}function $n(i,e=.055,o=.055){const t=cv.imread(i),n=new cv.Mat;cv.cvtColor(t,n,cv.COLOR_RGBA2GRAY);const s=new cv.Mat;cv.GaussianBlur(n,s,new cv.Size(5,5),0);const l=new cv.Mat;cv.Canny(s,l,30,150);const r=cv.Mat.ones(3,3,cv.CV_8U),h=new cv.Mat;cv.dilate(l,h,r,new cv.Point(-1,-1),3);const c=new cv.Mat;cv.erode(h,c,r,new cv.Point(-1,-1),1);const f=new cv.MatVector,u=new cv.Mat;if(cv.findContours(c,f,u,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE),f.size()===0)return console.log(""),{gridCells:[],chessboardRect:{x:NaN,y:NaN,width:NaN,height:NaN}};let g=0,d=0;for(let U=0;U<f.size();U++){const w=cv.contourArea(f.get(U));w>d&&(d=w,g=U)}const p=f.get(g),E=cv.boundingRect(p),q=t.roi(E),{gridCells:a,expandedRect:_}=ts(q,e,o);return t.delete(),n.delete(),s.delete(),l.delete(),r.delete(),h.delete(),c.delete(),f.delete(),u.delete(),q.delete(),{gridCells:a,chessboardRect:{x:E.x+_.x,y:E.y+_.y,width:_.width,height:_.height}}}function ts(i,e,o){const t=new cv.Mat;cv.cvtColor(i,t,cv.COLOR_RGBA2GRAY);const n=new cv.Mat;cv.GaussianBlur(t,n,new cv.Size(5,5),0);const s=new cv.Mat;cv.Canny(n,s,50,150);const l=new cv.Mat;if(cv.HoughLinesP(s,l,1,Math.PI/180,80,100,50),l.rows===0)return console.log(""),{gridCells:[],expandedRect:{x:0,y:0,width:0,height:0}};const r=[],h=[];for(let T=0;T<l.rows;T++){const[Y,j,L,B]=l.data32S.slice(T*4,(T+1)*4),x=Math.atan2(B-j,L-Y)*180/Math.PI;Math.abs(x)<10?r.push([Y,j,L,B]):Math.abs(x)>80&&h.push([Y,j,L,B])}if(r.length<10||h.length<9)return console.log(" KMeans "),{gridCells:[],expandedRect:{x:0,y:0,width:0,height:0}};const c=r.flatMap(T=>[T[1],T[3]]),f=h.flatMap(T=>[T[0],T[2]]),u=Ne(c.map(T=>[T]),10,{maxIterations:100}),g=Ne(f.map(T=>[T]),9,{maxIterations:100}),d=u.centroids.map(T=>T[0]).sort((T,Y)=>T-Y),p=g.centroids.map(T=>T[0]).sort((T,Y)=>T-Y),E=Math.floor(d[0]),q=Math.ceil(d[d.length-1]),a=Math.floor(p[0]),_=Math.ceil(p[p.length-1]),U=i.roi(new cv.Rect(a,E,_-a,q-E)),w=_-a,R=q-E,F=Math.floor(w*e),b=Math.floor(R*o),k=Math.max(0,a-F),V=Math.max(0,E-b),m=Math.min(i.cols-k,w+2*F),S=Math.min(i.rows-V,R+2*b),v=i.roi(new cv.Rect(k,V,m,S)),y=10,M=9,K=Math.floor(S/y),A=Math.floor(m/M),W=[];for(let T=0;T<y;T++)for(let Y=0;Y<M;Y++){const j=T*K,L=(T+1)*K,B=Y*A,x=(Y+1)*A,G=v.roi(new cv.Rect(B,j,x-B,L-j)),D=document.createElement("canvas");D.width=G.cols,D.height=G.rows,cv.imshow(D,G);const H=D.getContext("2d");H&&W.push(H.getImageData(0,0,D.width,D.height)),G.delete()}return t.delete(),n.delete(),s.delete(),l.delete(),U.delete(),v.delete(),{gridCells:W,expandedRect:{x:k,y:V,width:m,height:S}}}function es(i,e=30){const o=cv.matFromImageData(i),t=new cv.Mat;cv.cvtColor(o,t,cv.COLOR_RGBA2GRAY);const n=new cv.Mat,s=new cv.Mat;cv.meanStdDev(t,n,s);const l=s.doubleAt(0,0);return o.delete(),t.delete(),n.delete(),s.delete(),l>e}function os(i){const e=ae(i),o=xt(e,[0,120,120],[10,255,255],[160,120,120],[179,255,255]),t=xt(e,[0,0,0],[180,255,80]),n=i.width*i.height,s=cv.countNonZero(o),l=cv.countNonZero(t),r=s/n,h=l/n;return e.delete(),o.delete(),t.delete(),r>.05?"red":h>.05?"black":"unknown"}function ns(i,e){let o;if(e==="red")o=ss(i);else if(e==="black")o=is(i);else return i;const t=rs(o);let n=new cv.Mat;t.channels()===1?cv.cvtColor(t,n,cv.COLOR_GRAY2RGBA):t.channels()===3?cv.cvtColor(t,n,cv.COLOR_RGB2RGBA):n=t.clone();const s=new ImageData(new Uint8ClampedArray(n.data),n.cols,n.rows);return o.delete(),t.delete(),n.delete(),s}function ss(i){const e=ae(i),o=xt(e,[0,100,100],[10,255,255],[160,100,100],[179,255,255]);return e.delete(),o}function is(i){const e=ae(i),o=new cv.MatVector;cv.split(e,o);const t=o.get(2);cv.equalizeHist(t,t),o.set(2,t),cv.merge(o,e);const n=new cv.Mat;cv.Canny(e,n,400,600);const s=cv.Mat.ones(3,3,cv.CV_8U),l=new cv.Mat;cv.morphologyEx(n,l,cv.MORPH_CLOSE,s);const r=new cv.MatVector,h=new cv.Mat;cv.findContours(l,r,h,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE);let c;if(r.size()===0)c=cv.Mat.zeros(e.rows,e.cols,cv.CV_8UC1);else{let f=0,u=r.get(0);for(let w=0;w<r.size();w++){const R=r.get(w),F=cv.contourArea(R);F>f&&(f=F,u=R)}const g=cv.moments(u,!1),d=g.m10/g.m00,p=g.m01/g.m00,E=new cv.Point(d,p),q=.98,a=new cv.Mat(u.rows,1,cv.CV_32SC2);for(let w=0;w<u.rows;w++){const R=u.data32S[w*2],F=u.data32S[w*2+1],b=E.x+(R-E.x)*q,k=E.y+(F-E.y)*q;a.intPtr(w,0)[0]=b,a.intPtr(w,0)[1]=k}c=xt(e,[0,0,0],[180,255,80]);const _=cv.Mat.zeros(c.rows,c.cols,cv.CV_8UC1),U=new cv.MatVector;U.push_back(a),cv.drawContours(_,U,0,new cv.Scalar(255),cv.FILLED),cv.bitwise_and(c,_,c),a.delete(),U.delete()}return e.delete(),o.delete(),t.delete(),n.delete(),l.delete(),r.delete(),h.delete(),s.delete(),c}function rs(i){const e=i.clone(),o=cv.Mat.ones(3,3,cv.CV_8U);cv.morphologyEx(i,i,cv.MORPH_CLOSE,o,new cv.Point(-1,-1),3);const t=new cv.MatVector,n=new cv.Mat;if(cv.findContours(i,t,n,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE),t.size()===0)return o.delete(),t.delete(),n.delete(),e;const s=i.cols*i.rows,l=[];for(let d=0;d<t.size();d++){const p=t.get(d),E=cv.boundingRect(p),q=E.width/E.height;if(.9<=q&&q<=1.1){const a=E.width*E.height;a/s>=.5&&l.push({contour:p,contourArea:a,rect:E})}p.delete()}if(l.length===0)return o.delete(),t.delete(),n.delete(),e;l.sort((d,p)=>p.contourArea-d.contourArea);const r=l[0],{x:h,y:c,width:f,height:u}=r.rect,g=e.roi(new cv.Rect(h,c,f,u));return o.delete(),t.delete(),n.delete(),e.delete(),g}function ae(i){const e=cv.matFromImageData(i),o=new cv.Mat;cv.cvtColor(e,o,cv.COLOR_RGBA2RGB);const t=new cv.Mat;return cv.cvtColor(o,t,cv.COLOR_RGB2HSV),e.delete(),o.delete(),t}function Ce(i,e,o){const t=new cv.Mat;return cv.inRange(i,cv.matFromArray(1,3,cv.CV_8UC1,e),cv.matFromArray(1,3,cv.CV_8UC1,o),t),t}function xt(i,e,o,t,n){const s=Ce(i,e,o);if(t&&n){const l=Ce(i,t,n),r=new cv.Mat;return cv.bitwise_or(s,l,r),s.delete(),l.delete(),r}return s}const ls={red_king:"",red_guard:"",red_bishop:"",red_knight:"",red_rook:"",red_cannon:"",red_pawn:"",black_king:"",black_guard:"",black_bishop:"",black_knight:"",black_rook:"",black_cannon:"",black_pawn:""};function hs(i,e,o){const t=document.createElement("canvas");t.width=i.width,t.height=i.height;const n=t.getContext("2d");n.drawImage(i,0,0,t.width,t.height),n.strokeStyle="rgba(0, 255, 0, 0.5)",n.lineWidth=2,n.strokeRect(e.x,e.y,e.width,e.height);const s=e.width/9,l=e.height/10;return o.forEach(r=>{const[h,c]=r.position,f=e.x+c*s,u=e.y+h*l;if(n.strokeStyle=r.color==="red"?"rgba(255, 0, 0, 0.7)":"rgba(0, 0, 0, 0.7)",n.lineWidth=2,n.strokeRect(f,u,s,l),r.type&&r.type!=="none"){const g=`${r.color}_${cs(r.type)}`,d=ls[g]||"";n.fillStyle=r.color==="red"?"rgba(255, 50, 50, 0.9)":"rgba(50, 50, 50, 0.9)",n.font="bold 24px Arial",n.textAlign="right",n.textBaseline="bottom",n.fillText(d,f+s-5,u+l-5)}}),t}function cs(i){return{k:"king",a:"guard",b:"bishop",n:"knight",r:"rook",c:"cannon",p:"pawn",none:"none"}[i]}const as="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABlCAAAAACAHCmeAAAETklEQVRoBZXBiYGCQAAEsEz/Rc+BIJ8Lekn8T+3iX+JXdSd+Ej9o6ll8F9/ULg7qKL6JL2oTA7WJR/GoVvGgFmnciwe1iO9qksatuFOLOKlFXJVU3IkbNUnjot7iql5iKIbqJUZqER9qEkMxUi8xUm/xqYiR+FQvMVIH8ale4io+1CyG6iQGahYXcVWzGKqzGKlZnMVFTWKormKoZnESZzWJofoQN2oSR3FSxFCNxI2axEEc1SQG6kNqEjdqErs4qElc1ZO4UanYxK6ID/UsbtQk3mJXxFV9EbeKWMWmiA+1Su2i3uJOEat4K+JTLVKbUJu4VcQiVjWJDzWLeotJ7eJeES+xKjFQR7GoXTwo4iUWRQzUJlZ1FE+KmMVLTWKgVrGqk3hWxCReihipWbzVSXxTxCRmRYxVbOosvisxiVmJ7+oiflAEMSnxVT2IeyWISYln9VXcKEFQxIP6TQyVICjiXv0sRioISgyUmNWToFYxUEJQMVLErO7ES73FQIlQYqQmUavUSbzVLj6VCCVG6iq1il0dxUBFKDFSt2JXJzFQEUqM1EFQm3irt6BioCJKDNVbLOotFrWKeomBkigxUqtY1SZm9SFGSqLESC1iVZugPsWNSpQYqEW81FdxrxIlBupf4lElRQzUP8QXlRQxUD+LryopMVK/iV9UUmKkDlIX8S8lJYZqlzqJs4pHJSWG6ipqFhc1i3slJcaK1CY1i4taxa2SEmMlFFGruKhN3Copca9mqUVc1EHcqqTEnTqLiyJqEbcqKTFUA3FQk9QsJW5VUsSnuhOLmkRt4lYlRVzUo5jUJGoT9ypR4qB+kJqE2sS9kiixqUepXahNPCiJEm/1IE1tQm3iUUWUWNWTUJuoTTyrCCVe6irqINQqtYkvKkKJlzqIWZ2lPsQ3FUKJWb3FqkZSB/FVhaDEpF5iU1/FDyoEJahJHNRA1C5+UEJQhBK7Okm9hNrFD0oIirioo6hFqJP4poKgiLM6ilqkRuJBCWJSxFEdhPpFDJUgJkUc1SRqEvWz+FAEMStiValNqP+JkxKTmBWxql2o/4tdEZN4KWJRb0Hton4Tb0XM4qUmsahZzGoXs1ql7sWqiFksiljUJGa1i5daxKI2qU28FPESqyIWNQlqF4taxK5WqbeYFLGIVU3ipV5Su1jUIs7qIiZFLOKtiEVdxKpW8aFOQhGr2BSxqJNY1SqGahdFvMWmJrGog1jVWzwpoohN7GoSizoJtUiJHxSxiYOaxKLGouIHReziqCaxqEnqIhXf1SQO4qQmsahZ6iBFfFWTOIqzmsSqLqLiu5rESVzUJFZ1EI2Kr2oSZ3FVk3irXfymJnERH4rY1Vv8pIgPMVJiV4v4RRGfYqRm8Vaz+EURAzFUk/i/msRIjNUs/qmIsbhTs/hdTeJO3KtFfFcvcS8e1Fs8qLd4EM9qFwO1iUfxVR3Fok7iq/hJpW7FL+I/6iD+5w8rOJhwB3wAwQAAAABJRU5ErkJggg==",us=Object.freeze(Object.defineProperty({__proto__:null,default:as},Symbol.toStringTag,{value:"Module"})),fs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABmCAAAAADpSjAOAAAErklEQVRoBa3BC6KqSgIEsNT+F13TfMRGUTz3TRJ/Vrv4m/hdXYlfxU+a+iruxQ/qXtyKO/UUb+oQ38V39RAf1S6+iW9qFzdqE5/FR7WLn9QQn8UntYrf1ZDGtbhWm/iTEp/EpVrFnxVpXIgrtYh/Uot4E+9qETcqLtUqXsS7GuJODXGlFnEWr2oRt2oVF2oRJ/GihvhB7eJdLWIWZzXET2oXF2qISZwU8aM6xIUinmJWQ/yqDnGhiENMaoif1ZBaxJumxCGeaogrFe/qKS4U8RBPRbyrTZzVJK4UsYtDEW/qECe1Sg1xpYbYxEMRL+osnmqTIq7VEKvYFTGrd3GoSXxSxCp2JR7qg3ioXUoMJd7UEIvYFPFQH8SuHlKhdvGqiCE2RTzUB7Gpz+KsiCFWJZ7qWqzqqzgpYohFEZO6ELv6Lk6KIBZFzOpN7OqQpobULGZFEIsiTuohijjUU6ios5iVIIYiXtUmKia1Sc2iDjEpQQwlrtQuJnUWh3qISQUxlLhSpMSsZjGpQzyVEJS4VKTipA5xVod4KiEocaVIxVlt4k0dYlIiKHGlSMVZDXGhnmJSIqi4UqTEWYldEQ91iJOKUOJCreKj2sWmHuKsIpS4UKTxQc1iqId4URJKvKtNXKhXQe3iVUko8a5IxYV6F2oXbypR4l2Rigt1IWoX7ypR4l0t4lV9EDWkxLtKlHhTxLu6EhU1pOJCJUq8KWJTQ6zqXaioISUuVKLEqxrSUA8x1CpNbWJo1C6uVKLEqyINNYmhFmlqFTTULq6UKPFUT1EnQa1CPYR6iCslRTzVIeosqE1qlaZRD3GppIhJPaRehTpLRT3EtRIlZvVZ1HdxrUSJWR1ST7Goz1LxQYkSs5qEWkQFdRI1iw8qUWJST7GoISqoSUpqFSU+qUSJST3FolYx1CE1iRIfVaLEU01iUaRiqEVQuxQp4rNKlDjULBZFbGoWi9rEF5Uo8VAnsShSMRSpRexqFV+URBG7OgtqFYsiFbNaxBclUcSmNqlNqE0silTMiviqJJRY1SZqk1qlsahVnJT4riKUWNQqqLNUDLWIP6sIJYbaBPUqFrWIeyUOJUIR1CqGOknTGGoR90ocKgQlqEUs6iQ0qFXcK3GoEBShhljVi1jUKu6VeCghKEIRmzqLVa3iXomHEmIooeKhZrGrVdwrsStBDCVOahIPtYpbRexKEEMRs3qISa3iTg2xK0EMNcSkdjGrVdypRayKIBZFzGoTs1rFjVrFqsQQixpiVquY1Sa+qk0sihhiVcRJLWJWu/isDkERi9gUcVLEST3FpZoERSxiU8RZibM6iZN6EYpYxa6IO/U3qSFWsash7tSvUqSITTxUKu7UT6KGlNjFoYa4VbdCDVHxEE9F3KtfpeIQTzXEL+oHUeIQkxriZ/VJDEU8xayG+Ks6xKGISZzUEP8HNcQszmqI/6yGOIkXNcR/VEOcxasa4j+pIV7Em1rEP6tFvIorRfyrGuJNXCnS+Bc1xIW4VEP8Wa3iSlyrRfxRDXEtPqhV/K6pIT6Ij2oXP6hNfBTf1C6+ql18EV/VU1yrh/gqbpTUISY1iTtxr1E34l78QR1Si/iD/wETNddw4LVh4wAAAABJRU5ErkJggg==",ms=Object.freeze(Object.defineProperty({__proto__:null,default:fs},Symbol.toStringTag,{value:"Module"})),gs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABlCAAAAACAHCmeAAADbUlEQVRoBa3BCYKkRgADMPn/j3aKvoA+oNiJFJfUVlwRk+q3mBET6kycizO1EY2b2oszcaxW8UWt4kgcqac4UA9xIH6rhzhVd/FT/FJ3Malu4of4ru5iXt3Ed/FV3cRFtYhv4ou6i+tqEZ/iUy3i39QiPsSHWsS/qpt4E+9qEX9Qi9iLN7WIP6lF7MReDfFnNcRW7BRxpIhzNcRGbNUQB+ouThWxio0ijtRLnKghXmJVQxyprThUQzzFSw1xrLbiUA3xEE81xInaiSM1xEM81RBnaieO1BB38VBDnKutOFbETdwVMaO24lgRN3FXYkptxbEaYhE3RcypjThRxCJuiphTG3GmiCEWRUyqjThTxBCLIibVRpwqghhKTKtVnCuCGEpMq1VMKEFQxLRaxYQSBCXm1SpmVBCKmFermFFCKGJerWJGCaHEBbWKKSVCiQtqFVNKRBEX1CqmlIgiLqhV7NRLbJVEiStqFXf1RbxURIkLalo8lUSJC2pePJREiWl1STxUUsS5+idxV0kRh+rfxV0lRfxSfxR3lZTYaDzUnwQVdyUlnup/lYq7khJPNSE1KRp3JSVe6p/EU22k8VBS4qWuia9qEatKSrzUNTGpkhKruiQmVVJiVUeC2ohJlZTYqB/irjZiUiVFrOqLWNVGTKqkiI16Ezu1EZMqUWKrtuJNbcSckiixUy/xoTZiTkWU2KtFfFWrmFQRJS6oVUyqiCLm1SomVYQS82oVcyqEEvNqFXMqBCVm1UbMqRCUmFUbUTdxpIKgiEm1EbWKHyoIiphUv8VXJQiKmFRH4osSBDXEqToXn0oQQxFHala8K4JYFPFNXRRvihhiUcSHui7elFjEooZ4VydSH2KniEXc1BB79S9ip4hF3BXxpv5BbBVxE3c1xF5dF1tF3MVDDbFXP8VTbcVWEXfxVMRefYqv6ia2iniIlyL2ai+uKOIpXmqIvVrFNTXEU6xqiDd1FxfVEC+xUUPs1SKuqiFWsVVD7JW4rIbYiJ0a4u9qiK3YqyH+qobYiTdNib+pIfbiXQ3xFzXEm/hQxB8U8SE+NSX+UQ3xKb6pRfyDGuKL+KqGuKyG+Cq+q0Vc0dQQ38UvtUhjTt3EL/Fb3cWpeoif4kC9xG/1FAfiUG3EF/USh+JM7cRQH+JMzKhDMSOuqK245D9LSCVxusul6AAAAABJRU5ErkJggg==",ps=Object.freeze(Object.defineProperty({__proto__:null,default:gs},Symbol.toStringTag,{value:"Module"})),ds="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABlCAAAAABrK5KdAAAE9UlEQVRoBZ3BiWHkNgAEMEz/RU9I/dqVfHaA+JO6ij+IX6pX8RvxC/UP8W/xD3URh7qLf4if1Ske1Cl+ED+pTfykVvGDeFeb+KdaxZt4U6v4nZISL+JZreIPaopH8agW8Te1iAfxoBbxsyLuaopv8a2m+FFt4q6G+BJfaoof1SluahF38amG+FndxE1NcRN3NcWm8aREneKmpriKuyIORXyqGOoUNzXFRdwUcaop7hpTneKupjjFVQ1xUVNcNRZ1EZ+KOMRFDXFVi3hQX+JUQ+ziVEPc1Cq+1JPY1RSbONQQd7WJT/UoDkVsYldDfKpN3NWL2NUQq9gV8aWGFHFVr+JQxCI2RXyrXVzVp9QmdkUsYlXEg5pS4qI2qV1qE7siplgV8aB2capN6kEcSkyxKOJJ7eJQd0EtosShiCGmIh7VLg61SE0x1BRKXBRBTEU8ql3sapEaYlFDUOKiCGIo4lntYlOL1BCLmkLjQxFiKOJZLVKxqFWKWNUiHhQhhhIvaoqKqS5iU0M8KyEo4kVNKTHVKTY1xbMSghI3FZvaxFQ3MdUUbyoEJRZ1ikUdgvoQ1BQaT0qEEqu6iKkOQX2KmlLiUYlQYlOnmGoXQ/0gXlSEEpu6iKE2MdW7eFMSJXZ1FdQmpjqkbuJVSZQ41EWoXUz1Jt6VRIlTnUJtYlEv4ieVKHFRu6A2sSiiPsWPSpS4qtQU1Co+1UXc1BCnkiIuahGLWsWHuohF3cWupIiLmmJRm7io34pVSYmLmmJRu7ioX4tVpcSppljUIa7q12JRKXGqIRZ1iJv6vZgqJU5FLOoUF/Ui6iYlpkqJQ4lVXcSh3kTdRcVUKXForOomNvUuKtQpNpUSu8aq7mJRh9SnqHhWKbFrTLVJrUJdpTYx1BCNF5USm8ZQu6gfxaaGVLyolNg0qF2od3FRpOJFpcSmUqtoUG/iphbxolJiVYdY1bP4UIt4USliqkOs6pDaxbdaxLMSJabaBI2hVqE28aQW8axEialWQWOqVQw1xKbEqVbxqESJqRZxqlVc1CF2tYpHlSgx1SJOtYldXcWmVvGoEiWmmmLXqFXs6i5WtYpHlShiKkJjqqghFZv6FItaxZOKUGIq4tCoIRWb+hSLWsSjilDEUMShFlGxqVVqF4taxJOKoMRQpGJVi6i4KlKbmGoVDyoERQxF7GoRFVc1paZY1CoeVAiKmIrY1CoVu0ZdxaJW8a2EoIgvdYhdSZ1iVav4VkJQQ3yqQxxKUIvY1Cq+FCGGIj7VIU4lvtQqvhQhpiI+1CEuivhQq/hUBDEV8aEOcVFT3NQqPhVBTDXEh9rFVS3iolbxoYghFjXEXe3iphZxqlV8KGKIVRF3tYu72sSqVvGhiClWNcRNbeJTHWKoVdwVsYhNDXFTq/hSj+KuiEXsiripVXyrJ3FTxCoORdzUFE/qQVwVsYlDDXFVUzyrm2hcFbGLUw1xVUO8qKtoXNQQu7ioIa5KvKpTNC5qiENc1RBXjR/ULjRONcQpbmqI36tNShxqiIu4qyH+oBbRONQQV/GhhviDmqKxqyFu4lNT4i9qSGNTQ9zFlyL+pohVDfEpnpT4k4pVDfElntQU/0MN8S0e1RB/VkM8iWc1xd/UEI/iRa3i94p4Ee9qFf9Wi3gVP6hd/KB28S5+Vqd4ULv4UfxTXcWq7uIf4lfqR/Fv8Rd1EX/yH4p07GIDXbCnAAAAAElFTkSuQmCC",ws=Object.freeze(Object.defineProperty({__proto__:null,default:ds},Symbol.toStringTag,{value:"Module"})),Es="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABlCAAAAACAHCmeAAAET0lEQVRoBZXBiYGCQAAEsEz/Rc+t8isgl8R/1F78SzxU1+KJeKCpe/Fb/FSr2Kud+CV+qFWcqFXciju1iDs1iRtxoybxWw1pXIpLNYlnSiquxIWaxHM1RONMnKuXuNP4VC9xJs7UW1ypVRwUaXyLE/US5+pD7NUQ3+JLvcS5+hYH9RIf4ksNcaZOxYdKxVF8qJdYVCzqQnyoIQ7iQxGbEm91KT7VEHtxUEPs1BCUoE7ElxpiJ/aKOKiXKOKtjuJMDbGJnRriqBYxqYM4V6lYxaaIT7WISU1SxKUaYhGbSuNTvaViUpOUuFFDzGJVxJcaUmJSm7hVQ0xiUUN8qVm81F7cK2ISsxriW81iqKO4VUO8xayIEzUJ6kvcK+IlJkWcqUmoE3GriJeYFHGmJlFn4l4RQ7yVOFWzqDPxQ4kh3oo4U7OoU3GvCOKlxLkaUqFOxb0iiJcS52pIhToTvxQhhhIXahLqW/xWhBhKXKhJqFXqLR4oQlDEhZoEtUgN8UwJQYkLNYtFLeKhCkGJCzWJVc3iqRJBxZWaxKwO4okSoYgLNYlJfYoHKkKJKzWJtzoRP1WEEhdqFkOdip8qosSVmoW6Er+URIkrNYu6FD9VosSVmoS6Er9VosSVmoSapY7it0qUuFCzoM7EI5UocaFmQS1Ss3iopIgLNYuhZqm3eKykiAs1i5c6iH+oFHGhZrGoRfxHpYgLNYlFLeI/Soq4UJOY1So2tYhzJUVcqEm81U7qXJwoKXGlJjHUU/GlpMSVmoT6j/hQUuJKTVL/FEclJa7UJPVfcVBS4lK9pU7FQW3ioBIlrtRb1CQ1iRO1ib1KlLhUL6EO4kztxE4lSlyql6D24kztxKYkSlwr4q02caZ2YlMRSlwrsaq3lPhUe7GpCCUeqr04qr3YVIQSD9WXWNVObEqEEs/UmZjUTuxUCEr8VJfirTaxVyEo8UvdiaE2sVNCUMSJeouXuhNqE3slxFBiKGJWe1FHUZtQm9grIYYSQz0Vk5qFWsVeEWIognooFjWJWsVBCWIoYqidqKgvcVAx1Cr2iiBeiqCOYqiDOFeLOCgxxEsR1CI0JrUT52oVe0UM8VYE9ZLGXq2CxrdaxF4RL/FWxFAv0dirSVDEh1rFXom3mBQx1BCNoyLeaoiDWsVOEW8xK2Io0rhRQ+zVIvaKeItZDTEUcacmsahV7BQxiUURz9Qm1CQldoqYxaqIZ+pMVGyKWMSqhnimvqVpbIpYxaaGeKY+pYhNEavYKeKhOhGrGmITezXEM3WQEqsaYicOaoiHahMVqxpiL45qiIdqESUWNcRBfKghHqqdWNQQR/GphnioNjGrIT7ElyKNZ2oRsxriU5wp8VBNYlbEtzhVQzxSLzGpIU7EqSIeKmJSxKk4Vy/xSMVbDXEurtRLPNYUcSWu1SR+qllcihu1iBu1iBtxrzZxohZxL36qvXirD/FLPFJ34on4l9qJf/kDL2Gdat+6n0YAAAAASUVORK5CYII=",_s=Object.freeze(Object.defineProperty({__proto__:null,default:Es},Symbol.toStringTag,{value:"Module"})),ys="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABqCAAAAACeiPB1AAAEQklEQVRoBb3BWaKjSAIEMMX9Dx2TLPYDzFbz0VL8d+K/E/+d+Ef1J/5JvFbn4qV4o57Es3hUG6FEHcSjeFJfcaK+4lbcq4+4VIu4FTdqFV/1EVs1icaVuFSL2KqN2KohLsWVmsVBbcVWpXElztUsftVWbBVxIU7VJM7UTuwVcSZO1CzO1U7sVSp+xa+axJXai72SEgfxoyZxrXbiqCaxF0c1xK3aih+VEjtxUEM8qFVK/KqU2Iq9Ip7UKkWcKmIjdmqIB7UV52qIP7FRk3hQW3GpiK/YKOJJ7QQ1xEFT4iv+FPGkdqJWcdCU+IivIh7UjTioIVbxVcStuhcHRazio4gb9SyOSixiVcSpei2OipjFooY4U+/FUQ0xiUWJo8ZHvREnSkxiUeKgxEc9iAtFDDErcVA3Uh9xr4ghJiWO6lJqlYoHRRCTEkd1JWon7hRBDEUc1a1QH3GnBDGU+FFnQhFUqFncKEEMJX7VmagYKqhZ3ChBUMSJ2guNiqExqVncKSEocaa2QknFUDGpRdwoIShxqlYxqUkMJSa1iDsVQhFv1BCTikmt4k6JUOKNmsRQYlKruFMilHihJjGUmNRH3KqIEi/UJCYlhvqKWyVR4lnNYihiqK24VhIlHtUihhJDHcSlSpR4VIugCOpHXKlEiSf1ETUE9SvOlUSJB3UUapX6E+cqKeJeHYU6FecqKeJW/Yg6ChUXKiniRp2IWoSahIorJSXu1InULIb6iEslJW7UjRjqI66VlLhRk9SJGOojbpSUuFGrUDtBTVLEnUpKXKtVTOpPqFmKuFVJiWu1iFltpD7iSSUlrtUsFnUqHlVS4lpN4qu2UsQLlZS4VkNs1E68U4kSl0rs1J94qyRKvFQ7sagzsVESJd6ofxVfFVHiUX1EvRUfFVHiXi1iUq/FR0UocaNmQf2jWFWEEldqEtQ7MdQiFhVCiVP1/0rNYlEhlDhRT2KvjmJRIShxUC/EqfqKWQVBiY9KXQtqFZdqEosKgiIWdS0WtYp3ShAUsagL8VWreKcEQQ0xqxOxU6t4pQhiKGJSR/GjVvFKiSGGIma1FWdqFW8UMcSkiEn9iXO1ijeKGGJSxKxmca0W8UYRk5gV8VIt4o0Ss1gU8U4t4oUiZrEo4p1axLMiFrGoIV6pRTyqIRaxqiHeqEU8KmIVH0W8UYt4UsRHfBXxQi3iQRFf8aeIZzWLBzXEV/ypIR7VLO7VEH9io4Z4UrO4VUNsxFYN8aBmcaeG2IqdGuJezeJGDbETezXErZrFtRpiLw6aIm7ULC7VEAdx1BRxrWZxqYijOFPiWk3iQhG/4kxJ40oNcaGIE3GmhrhSQ5xpSpyKUzXEhRriTBHn4kINaZyoIX7VEBfiSs3iVxEHjSIuxbVaxV4RW7WKa3GnvmKjxFet4lY8qD+xKjGpP/EgntVeVGonnsVb9SfULN6Lf1STaPyr/wEZZ5J2PlnxwgAAAABJRU5ErkJggg==",Ss=Object.freeze(Object.defineProperty({__proto__:null,default:ys},Symbol.toStringTag,{value:"Module"})),Us="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABlCAAAAACAHCmeAAAEQUlEQVRoBa3BC5LqOAAEMPX9D93PSfgEsAOztVL8TZ3FH8SvaiV+Er+ob+Kr+KpO4qyG1C6uxRd1iIqJImqIK3GpNvFFU4dYigu1i1/UIRZiqYjGrxpKzMVCDWl8KGKqUcRMzBVpfKi7+NRQYiKmipiop5iqIT7ERA0xUycx1ZR4F59qiLk6ialKxZv4UNJYqU0UsdR4E+9KXKinWKhUvIg3NcSFuoulSsVZvCriUt3FWg1xEi9qiEv1IhaKeIqzIr6pNzFT0niIkyK+qiHqIWZqiLt4qiG+qImYqSFu4qmISzUXU5XGTTwUcaGWYq7SOMRdESv1KuokForYxU0RK/Um6iGWaohN3BSxUm+iDnGpiE0cilirV6ldfFPEELsirtSL+FURQ+xKXKsXafymCGJTxBd1korfFEFsirhUL1KxqZtYKUIMRVypQ1ALsVBCDEWs1S52tRRTJcRQYq02cVOb1ETMlBAUsVKbONQhmhLqLGYqBCVWiripuxjqU0yUCEosFHGop6ipmCgRlJgrcaiT1BA39RQTFaHEXIlDnaXEUz3Fp4pQMVdiV69S4qmG1CY+lYSKqSI2NREPtYka4lNJlJgqYihiaFCHeKhNUGKiEiVmagiKuKuT2NUmlJipRImZ2qXEU53FpnYpYqYSJWbqIW7qJmoTm3qIqRIlZuohDvUQlcamHmKuRImZOqRiU69Ssam7WChRYqrugnoRKo2h7mKhpIi5uouaiE3dxUpJEQt1E/UiRexqSImlkiJW6hB1liIORUqslRSxUocY6kUc6hAXSopYql3c1EMcipS4UFLEWu3iUE9B3cWVkiLWahebmkuJKyUqLtQuhlqLS5UocaE2QT1FncW1SpS4UJtQr4I6xBeVKHGhNlGvUg/xTSVKXKiJ1F38ohIlrtSH1C5+VBFKXKgPKeJ3FaHEhZqKP6gIJa7UTLyph3hTEYq4Un8XJyWCEtdK7OpH8VQhKPGT+ou4qxCU+KpOUj+IQwkxlLhS/03sSoihxEpNhPouNkWIoYhPtZD6SWxKEEMRr+r/EBRBbIrY1Y/iU51FgxJDbIrY1afUp5iru9gUMcSuiE1dCHUTa7WJTYlN7GqIoebiUDfxkyI2cShiU0SdxUMd4idF7OJQQ2zqTZzUIX5SxC5uitjVSbyqQ/yiiEPcFbGrm/hQh/hBETfxUMQ3dYjviriLhxriizrEVzXEXTzVENfqEF8V8RAnRVyrQ3xRQzzFWRGXipT4ooiTOKshrhQpca2Is3hRQ1yoXVyqIV7EmyIulFRcqSFexbsaYqmk4kIN8SY+1CYWSiqWahPv4lNtYq6ksVRDfIqZ2sRMDbFQm5iIqdrERA0xVZuYirmSEp8qjZkaYiFWmtrEmyI+1C5W4koN8arEu9rFWlyoQxonjXe1iwtxrW5irlGb+CK+qrM41Iv4Kn5Rl+IX8Sf1EH/0DyR8qGp+1pBYAAAAAElFTkSuQmCC",qs=Object.freeze(Object.defineProperty({__proto__:null,default:Us},Symbol.toStringTag,{value:"Module"})),vs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABsCAAAAACu+NgsAAAFfklEQVRoBb3BUULbCgJFMZ39L/qOnRCIIWnp+xgpvzF/ll/KX82v5BfyF/NN7ua7/FX+aL7khXmWv8gfzIf80TR3+aO8Mw/5jfmQ9/LGfMhvzV3eykvzIf9gPuSNvDI3+Vdzl9fy09zlP5i7vJIf5ibPRn5lzSGv5Ls55WLu8gtzygv5Zk65mE/5hTnlh1zNKVfzJX83N/kuF3PKN/MkvzCnfJNnc8p38yy/MKdc5cmc8sNc5BfmlIt8mVN+WnPTHPIbc8qzfJpTXpon+ZU55Fk+DXljnuR35pQv+TCnvDF3DfmlOeRLPswh78xdQ35pTvmUuznlnblpyK/NKQ+5mVPemptG/sEc8pCbOeStuWvklTXywxzyIac55L35lJ/mU67mlLuc5pD35lN+mGe5mEPucphD/mA+5Zv5Ls/mkJsc5pD35lmezAt5MofchDnknfkhD/OheZYvQ27CkHfmhdzNG3ky5BRzyEvzWu7mnXwZcsoc8tK8kdE8yzzJpyGnzCE/zSvNIXOV03zKpznkkDnku3mlOcXcNS0f5ks+DTlkyDfzUnMK85Av8yWfhhwy5DByM80fhDnlar7kyxAachjChHknp7nLxXzKkyE05DB3zWvNIac5NHI1D3kyhIYwNzEvNYfczKEhQyOHeciTOUQjpzmEeSt3c5d5EvOQZ0M0cprXmlNDbuZJ86X5kIshGrmZFzJfcppfyMUc0sjN/NQ8y2F+I1dDGrmbv8hhfiUXc0iTD/NNcxHmSfNOLuaQJg9z1dA8xPxJ5kMu5pAmD3NqnmQeMn8S8yFXQ5p8mu9iXmuuYh5yNaTJl7kKc9dcNM9ymIdcDWnyZJ6FuWrNQ/OQwzzkakiTZ/Mlh7loWebUfMjNPORqSJNv5i6n+dCcYplTc2q5m4dcDWny3RxyM18acprvcpiHXA1p8ifzIYac5tAyGrEwD7ka0uQP5qE55GZOMaccFvOQqyFN3puHpslhmZvMKadpHnI1pJF3lrlrWk6L+aF5kqshjbyxrLlpcreYv8jVkEZeW8ynfFhM5qfmLhdzSCOvLIf5lA/LvJE55WqIRn6anOYhD8s0mpvmJqc55WKIRr6Z3MyXPCxzajIPWRjyzRCNXI2c5kkeltGcMocWFoZ8M0RGLoaYJy1PRsvcZTksDLmaQ2TkYl7JwzJac5OHhZFv5hANuZgX8mw0N5ncLYxczSE0h1zMT3k2mrtcDLmaQ2gOuZif8mkZzSnfDLkacsiQq/mm5dMymnxYPg25GnLIHPJkzTctn5aR08hp5DCHXMwhhzDyZM03LReTkS8j5tDybHITc8iToXnS8mkxTX6aQ8uXtZZTrJFnE0bm1PJpMS0fhtzMIcunNS2nHEaejbCsNVmuRsyXHOaQ5dNaPuQ08mXExGKyXM17Wb5My00Oc8iXkU+T5cti3svyMIfc5bBGXllMlvfWwtzF8jDykJshLywmy5PlwzJhzYc8mUM+5G7khcVkeWn5MJlTvqwhH3Iz5IXFZHm2nJZPa80py92ylofcrCE/LCbfTZZnoyFf1pCH3K2RHxaj5e/mlE9DnuTDmrw0h/zVMmS5WUO+5MMa8sIc8guj5dOQJ3lYQ14Y8ndrstzMTZ7k0xpytRjyC5PlZhm5yJc15IchvzAtd3PKRZ6sId8N+TdDy1WerZGrNflHc8o3uVhzyLMh/2IOLd/lam7ybORfDHkh36zR8p+tOeSF/DCHlv9mTZZX8tPc5D9YRstLeWFO+XdzaPJaXptT/ska8l5eW3OTX5rmJm/ljblr+YV5yB/krfmSP5uGlj/KH0zmLm/NTZa/yJ8tc5EP803+Kn8zr8R8iJFfyC/MH2Tkd/I7c9U0Dfm9/JP5kn+X/6v8X/0Phhh8i1Cy6vcAAAAASUVORK5CYII=",Rs=Object.freeze(Object.defineProperty({__proto__:null,default:vs},Symbol.toStringTag,{value:"Module"})),Vs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABrCAAAAACz/eiUAAAFdklEQVRoBb3BCRabSgIEMNX9D13TzWKDwUuSeV+KH9R38Yv4qn4T38VndRIndRLfxCe1icYb9RSfxXu1iy9qF5/EO7WKH9Uq3ot7tYmf1SbeiVu1iD9Tq3gjbtQi/lyt4lZc1SL+Si3iTlzUIqghbpW4U4u4Ea9qCmoVN2qKOzXFVZzVFFNt4qpWcaOmuIizmmKqXVzVJq5qildxVItYVGoVV7WJq5riRRzUFE+1iYt6iIua4iwOaoiD2sRVPcRFTXESTzXEUe3iop7ioqY4ioca4qR2cVEHcVFTHMSupjipXVzUQVzVFE+xqSFe1C5e1VHcqCGeYlNDvKhdvKijuFVDPMSqhnhVuzirVWqIN2qIXSxqiFf1EGe1SA3xTg2xi0UN8ap2cVYHoTZxVkNsYqohLmoXJ3WQeooXNcQqhprionZxUJ/ESQ2xiqGGuKpNHNRncVLEKqghbtRBbOqLOKohFkENcaOm1CIW9VUc1RBTqCHuNIrUIqb6Lg5qiCnUEKsSD416iqnuBPUQTzXEFIpY1RSbRhE1xVQvYlcP8VRDDFFDbGoRi6am1CKGeoqTeoqHGmKIGmJXU0y1iloFTa3iRT3FUxFDFPFQi6CuQm3iVT3EQQ1BaoiHWkXdCEUaN+ohDmoIUsRTTWnqIhqKWNUQm3qIkyJIEU/1QRzUQyxqF2c1hBTxVB/ErobUlIqpdnFWQ0gRT/VW7GqKmlKC2sWLGkJKPNVFaopdTamjUJu4KEJKPNRFvKg7Ubu4KEJKPNRVHJSoG6lNXBUhJXa1Se3ioIbUWdRBXBUhJTb1EE1NcVCr1FEqtYkbRUiJVT2lqUU81VVKmtrFjSKkxKKOohZx1NQiakoRahO3ikjFqg5CLeKkVlGpVdQubhWRilUdhFrESVNTGtQQU63iVhGpWNVTqEWc1EOoKaZaxL0iUrGqp1CLOKmHqKu4V0QqVvUQ1CJOakjFULuoRbxRRCo2tYmhFnFSJ6EO4p0iUrGpTVCrOKkXUQ/xTg2Rik2tYqhVHJVU6k4a79QQKbGpKaZ6il2jNlFp6iHeKkJKbEoai3pIxapRUoIKagiN94qQErsSi9rEVLEpqUVMNUTjgyKkxI3axVBCQ0URu5rikyKkxI16iKFCo6RxVEN8VISUuKijUESjiJOKL4ogKi7qRjRKvKj4rAiixIumFqmnaDQV31U8FUGUeFGbaAxFNIr4QeOphiBKnDW1CBoU0dQQP2g81RCEEie1iqlBiaaG+K7EQw1BFHHU1CIWDSpqEd81jYcihijirBaxatBoaojvmsauhhiiKXFUUzwVoab4QdPYFDEFJU5qiBdNTfFVU7FpSkyhKbFr1BQvmpriBxWbpmlMQRGbRg1x0dQUv2gaU9M0FkFTcVBDvGpqih9UGotKYxE0JaaGCo2LphbxXaUxNEUsYihiaChxrzbxVmPRWNUQqxhqCA0lGncaRSjxSYWGksYmVvUQjVsNJYaa4qnEpogGlcYmVrVLxRsNRXxWQ0wVT7FoahfvNagh3qlVDBUHsWpKfNWYakjjoDHUIhU1xVPsiviqsagpHuokKNJ4iocivqt4qBtpTDXEQeyaEj+peGiaEmc1xUkclPhZEbcqFGkcxVERf6JWUVNqCJoiTuKkxP9FU2mcxVkR/66pNF7EUS3iXxVpvIqTRhH/pIY0LuJVScXfa0oaV/GiKan4S40St+Kihvg7tYh7cauG+CuVxr24U6v4I5Wa4o24V1P8rkQN8Va80RSp+ElFDfFBvNXUIr5qFKn4JD6oXXxUUzQ+i0/qRZzUUyq+ic/qjdSUGqLiB/FdpW6kFtE0fhG/KKFeBCV+Fr+rmBpUSvyZ+GM1ROPPxX8q/lP/A9zVYIqTjIeUAAAAAElFTkSuQmCC",bs=Object.freeze(Object.defineProperty({__proto__:null,default:Vs},Symbol.toStringTag,{value:"Module"})),Fs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABsCAAAAACu+NgsAAAE+klEQVRoBb3BC3bqSgLAQGn/i9a0P4DbNoTkvjNV8o34TL4kP4mvyDfksziSp7iQH8kH8SK34kh+IO/FTj6KF/lI3okH+ULs5AN5I1YmX4qdvCW3YiO/Eit5R27ERn4tFvKGXMVK/iJWcksuYiV/Eyu5Iyexkj+LldyQWazkX8RCrmQSC/lObOQkFnIhR7GQl0DeiBeZxELO5CAWchAgt+JIJrGQE3mJhRzFQm7EkcxiITN5iUFmsZCrmMgsFjKRh1jIWSzkInbGICexkCN5iEEuYiNncSRnsZAD2cVCzuJBTmIiZ7GQF9nEIFfxJLOYyEUM8iKbGOQqnmQWE7mKQZ5kFYPciBeZxZFcxSBPsgqQG3EgsziSGzHIgyxikBtxILM4kjsxyE6GGORGHMksDuRWDLITiEFuxERmcSS3YpCNQAxyFTOZxYG8EYOshBjkRsxkFgfyRgyyEmKQO3EkJ3Eg7wTISgiQGxlHchIH8k4MspAY5CqJlTHIWRzIOzHIQmKQi4yNMchFHMhbMchgDHIVO2OQqziQt2KQwRjkInbGIDfiQHbJWYAMBshVHMmdOBAIkJBZDAIGyFnsjEFuxYkEEjKJQcBALuLA5E7MJGMjkwABAzmLidyKiUnsZBKDYCAnMZF7Ge/IJAbBQM7iQN7IeE8OYhAMZJKxMgZ5Iz6SowDBkEnM5E5CfCJHAYIhkziSi0AW8ZEcBAiGHMXOGOQkkFV8JgcBgiEvMZOjANnET+QgQDDkKWbyFMhD/EyOYhBDHuJENjHILr4hkwAxeYgTWcVGhrgyMAYhVjKJQQzZxZkM8RNjJ5tkFoMYsosLIe4ZDxKDZMidGMSQTcaFgRAI8WDM5LMYxJBNxh3ZBDLEDfksBjFkk7ES4kUekiR2Eg/yWQxiyC4GyYTYyFFm7CQe5LMYxJBdgEkyxEomITEYEg/yWQxiyC7ATBaxkpMMhIRYCMlnAYIhuwB5iI3cS4iFkHwWIBiyi0F2sZF7CbEQks8CBAN5SJ5iI/cSYiEknwUIBnIjdnIvIRbyswDBQG7ETu4lxEJ+FCBgIDdiJ2/FSkI+ChAwkBuxk7diJYQMIbcCBAzkRuzkndjIT2IQkECuYifvxEaOkosYBCSQq9jJVSAQOzlIzmIQEEIuYidnIZt4EAiQITkJkEEI5Cx2Mgl5iCuBZBaDDEIgZ7GTh0AO4o5AMgmQhWQgJ7GTTTKJe3IjkIVkIBexkqv4QM4yk4UMgUwSYiFPyRA/EJKjQFYyBDLJjIXsMiYGMgsEkqNMVgIxyFFmLOQlHkw+SA4CZCUQCznIWMkkBpPvxSAbWQTIJFZyFCCz2MitQJ5kESBHsZGjkKckOcmQozDZySJAZrEweQrZJV8J5EU2YXIQBpK8ZPIbgRzIKgPkJSFkkvxSgDzJJpOzkH+RAfIiDyFnyb8JkBfZZYBMkn8QYHIgDxkmT0nI3wUmR/IUYPIUIH8UEshEjgL5b8RCZnKQgfwXAgyZySyQfxdgciYnAfKPMkwuZBaDyT/IQO7ISQYmf5aEyQ05ywD5qwxM7shFLEz+IAlMbsmNGOT3MlZyT27FYMgvJAQm78itMFbypYRYyFvyRjzIF2IlyQfyXjzIZ4GxkI/kg8BYmLwTGCv5gXyWxEoyeQrjxZAfyU/iwbglBPIF+Vl8IIR8Sb4TM1mF/Ib8QsaL/J78X8n/1f8Am9IOixOlrIUAAAAASUVORK5CYII=",ks=Object.freeze(Object.defineProperty({__proto__:null,default:Fs},Symbol.toStringTag,{value:"Module"})),Is="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABsCAAAAACu+NgsAAAF5klEQVRoBb3BSWLjRgAEMNT/H13p5k6JsuU5BIhv1M/iS/Gr+kZ8I35RpzQ29S5+FT+pUzypq/hFfFaH+Ent4mfxSe3iV7VJ4wfxQW3iS7WJj+JRbeI3tQi1iU/iSa3iV7ULtYoP4l2t4nd1CmqRxpN4U4sYivhBnWKqRTyJVzXFohbxSZ1iUYt4EC9qik2t4lldxKoW8SbuaopdreJZHdLY1CJexVVNcVGreFSHNHa1iBdxUVNc1S4e1EWcaoq7uKghbuoQ72pILeKqhriJUw1xUxfxrtLUFHc1xFXsaoqruol3jaYWcVNDXMWuhriqu3hSqUXc1RAXsakpTvUqHjW1iBc1xCk2RZzqTTyq1BRvijjFqoY41Jt4VqkpStzUELtY1BCHpq7is0aR2sSphtjFVFPs6iZ+UilSQ5oShxpiE1MNsatFahE/qtQUtYtNDbGJqYhDXcQvKvUmNjXEKoYiTo1axaqGeFKvUsSmhljEUMShoabYlBTxpp7FpoZYBEWcmloFRUxFvGrUk9gUsQg1xKmpIShiqkVMRRpDox7FpoaYQhEXNYUSQ72JChpqF3WIXRFT1BAXdYihHqREQ+1SF7ErYooibuobKaE+iEMRQxRxU6TeRUWlCHUT1C52NcSQGuKiqSEq6iIVi3oQQ+3iUMQQJa6aGkLFVKcY6kFMtYtTEaSIq6aGmIrUIiWm2qQOMdUuTkWQIq6aGmJRU4pULOpBTLWLUw0hRVw1NcShUYtY1IOYahenGkJKvKghDo2aYlW7qE1MtYuLIqTEi5LGpkJNsapd1Cam2sVFEVLipilpLCooUrGqTahNTLWLixoiJW5qkSIWtYlFbUJtYqpdXNQQKXFVm9jUKabahNrEVLu4qCFS4qqGlKB2qSk2NYXaxFS7uKghUuKqppjqVaxqEWoTU+3iooZIiat6kRpCxa6moDYx1S6uikjFTb0LJU6VEtQmptrFVRGpuKkptUot4tSoKdQuptrETRGpuKlDmlrFRaOmUIcYahM3RaTiphapXbxo1BRqkRJDbeKmiFRc1So1BbWKTaOmUItUGtQmbopIxVWdgopNiU1FhdpFo3ZxU0QqrmoVFHFRQUPFog5Rp7gpIhVXdYpNDUGFRokGjTqEWsVNEam4qik2dRUVjRINGnVI7eKmiJS4qEUs6l0aRUwNJfUibopIiYt6E+qURg0xNGqRuoi7IlLioq5iqqs0aoihUavUJhU3NURKnOoUi0pNqRgaRUyNIirqEDc1REpc1CINNQQ1pAgalcbUKKJC7eKmhkiJi7qIRa3SGBqVxtQookJN0bgrQkpc1CJOTS1i1RSxKaEx1BCNuyKkiFMt4tCoKTZNEVOjhKahpjTuipAiTrWIVQU1pLEpYtEoodFQQuOmhpAa4lCr1BBTDWnsKo1Fo8SuROOuCFJDHJoiLmqKxq5pLColFg0VjZsagtQQh6aIQ61C401Ncag07moIoobYNUpQd9F4U1OsmiJeFDFEDXFRh6hdNN7UIlZFvKghhlDEoVHEi8aDWqWxqHhVQwyhhtg1Kt4U8ap28UkNMQVF7BoVRZwqHtQuPqkhpqCIXVNDfKV28UENsQhqiF1N8ZXaxQc1xCKGGmJTU3yldvGshljFUENsaorv1Cae1RCrmGqITRFfqk08qiE2MdUUqyK+VJt4UlNsYlFDbCq+Vqt4UkPsYlVD/INaxYOaYhermuIf1CIe1BCH2NQUf1dTvKspTrGrKf6spnhXU5ziUFP8WQ3xpqa4iFNN8Vc1xKua4ipOtYg/qiFe1BQ3cVGL+Jsa4q6muIurmuJvirirKV7ETU3xJ0Vc1SJexV1N8SclLmoRb+JVDfGtRomLWsS7eFNTfKdR4lSLeBAPaoivNEocaopH8aSG+E6JXS3iWTyqKb5QxKoW8Uk8q0X8qoipVvFRfFCH+EkJdYjP4qM6xWeVOsRP4id1ikd1FT+LX9SraKh38Zv4TX0pfhdfaOoX8ZX4Sv0gvhZ/UK/S+Iv4X8X/6j/OzIuL68bXyAAAAABJRU5ErkJggg==",Ms=Object.freeze(Object.defineProperty({__proto__:null,default:Is},Symbol.toStringTag,{value:"Module"})),Ns="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABsCAAAAABBOrMSAAAFg0lEQVRoBb3BSYKkRgAEMMX/Hx1OloKEWnsOluIX9UX8KL6r79L4RXxWV7GpF+Kr+KhO8UrN4ov4oA7xQZ3io3irHuKr2qXxQbxTu/hN7eK9eK028Qe1i3fipdrE39Qm3ogXahN/V5t4KZ7VKv5NreKVuKtV/KY2cahVvBA3tYrf1CEOtYoncVOLODVeq6s41Cru4qIWMSnxQt3FqRZxF7NaxKyIu3ohJjXETUxqEbNaxKrEql6IiyKu4lSLuKhVLIqgblLEVQ1xEYdaxEXtYqhF6iY1xE0NMYtDDXFVuxjqENRF3NUQk3ioIW7qIYZ6CGoWz4qYxK6GuKlDDLWLoVYp4pUa4hSbWsRNHWKoXQx1ipdqiENsaoibOsVQu6BO8UYRh1jVEDc1iaF2oSbxRg3xEIsa4q4mMdQm1EW8UUPsYlFD3NQshtqk7uKNInYx1BB3NYlFvRXvlNjFUEPc1CQW9V68U8QmqCHuapMSq3ov3qkhVkERd7VJEat6JTXEW0WsgiJuahKb2qROKdJ4q4ZYhCJuapMSD7VJ3cUHRSxCETd1iofapA6pIT6pIYYo4qYm8VCb1FV8VEMMUcRVbVLiVJuoWXxRxBBFXNQmRRxqF6vaxRc1BKkhLuoUp9rEqibxSQ1Birio1EOcahNDXcUnRZAiLpoaUmJWm6B2qU18UAQpYtaoXcxqE/VCvFdDSBGTmsSsNqlX4r0aQkpM6hQXtUu9Eh8UISVONYmL2kRdpVLxXg0hJQ41i4vaRM1SpOKDIqTEoWZxUZuoSYo0PipCShxqFhe1ibqJb4qQEoe6CCo2tYk6pMR3NURKHOoiqFjVLtRFfFVDpMSpZqHEqnZBbVLxixoiJU51ERWb2sSqFmkap8ZrNURKnOoiKja1iaEOsapJ3NUQKTGpWSp2tYmh3osSVzVESkxqiHqIXW2ChvokrmqIlJiUoB7ioVYpUl/ERQ2REs9qF4d6LdSzmNUQKfGsdnEoQh1SH8SkCCnxrHZxqCHqJk1jV6c4FSElntUuDkXqSczqEKcipMST2sWkpFKzuKpTHIqQEk9qF5MijZrEVZ3iUIQUcVe7mNUQahKzhtrFoQgp4q52MStiVZM4NNQuHoogRdzVLi4qNk3NYtNQu3goghRxV5t4ry5i1ahdHIogRdzVJl6rqJugUbs41BCkhripTbxSQt2FRu3iUEOQGuKmdvFCiVqkJtEoKeJUxBBFXNVD7GoXKorUVTRqFacaYoga4qImQVOTKKlZlKBWcSpiETXERZ1SpE6hHmKoIUXUKk41xCIUcVGnoJ6kFrEqUkSt4lRDLEINMatZapW6i4ciGrWKQw2xCoqYNPUsqE1qEVcNtYhTDbEKipg0tUodYlGnaFw0ilScaohVUEOcapd6iF1tQombWsSphtjEUEMcaheVGuJQq1BDHBpqiEkNsYlFEYfahaaGmJQYahEPjSIVhxpiF4sa4lCbUKt4oYZ4aCipONQQD7GoRTzUJihpvFRDUEMoUvFQi3iIVQ3xUJtYVLzRlHioIRUPNcQhNrWITVOL+KJWsapNPNQiDrGpRWxqFV/VJtQiJXa1iFPsahGrpob4rq6iYleLOMVDLWLVVBo/qLvY1SImcahFrGqIX9RV7GoRszjVEJuKHzVNPcSuFnERp1rFX1XULja1iKuY1Cr+qlG7WNUibmJWq/ireohVLeIuLmoRf1abWNQqnsRVLeKvahOLWsSzuKsh/qqGWNQqXogntYg/KrGoVbwSL9QQ/6YW8Vq8UkP8g1rFG/FSLeKPahVvxWu1it/VLt6LN+oQ39VDfBJv1Sk+qkN8FJ/UKV6qSXwTn9VVDA31LL6Kb+pH8YP4QVOfxY/iJ/VB/C7+oG6i8Sfx/4r/13856SmLbWlT4gAAAABJRU5ErkJggg==",Cs=Object.freeze(Object.defineProperty({__proto__:null,default:Ns},Symbol.toStringTag,{value:"Module"})),Ks="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABqCAAAAAB4oTsxAAAEb0lEQVRoBb3BC5KDVgIEMPX9D937wGCD+XmS1Erxi3oSP4lH9Zt4FvdqJ3ZqJ57EndqIc/UR9+JareJBreJOXKlV/KAWcSPO1SJ+Vi9xKU7VS/xJzeJKnKiXOFUvcVSzOBdHNYkrtYqDeokzcVCzuFarOKhZnIhvNYk79RHfahZH8aUmcas24qAmcRB7NYlbtRVHNYlvsVWzuFV7caKG+BIbNYlb9S1O1CT2YqOGuFUHcaqG2ImPGuJOnYkzNYmteKshbtRBijhVk9iIVU3iUh2EpnGhJvERixriSp2IBzXERyxqiHN1Kp7UEG/xUkOcqi+hhjQe1BCrmNUQp2onSmoST2qIVcyKOFVboUQRP6ghFjGpIU7VVlQ0flVDLGKoSZyqL/EnNcRLDEVcqK34syJeghriQr3FlxriXg0xC2qIC/UWO7WKOzXEJCjiSn3ERm3EtRpiEhRxpTbirXbiUg0xCUVcqq1Y1Je4VEMMUUNcq42Y1FFcqiGGqCFu1Eeoc3GpiCGKuFe/iCs1BKkh7tUv4koNQWqIe/WLuFQEKeJB/SIuFUGKuFc/iUs1hBRxrw6ivsS1GkKKuFd7oQ7iRhFS4kFtpc7EnSKkxIP6CEWonbhThJS4V6uYNA21E7dqiJS4V4vQ0BhqJ27VEClxqxah4qV24l4NkRK36iVKvNROPKghUuJOLaLES71FxYMaIiXu1CI0ZvUWKp7UEClxpxbRmNVHaDyqIVLiTi2iMamPUPGohkiJO/URQ30EjWc1RCpu1UdQqZf4WQ2Rilv1FtRHKo1f1BCpuFVvUVtR0nhWQ6TEnXpLPYpTRUiJW7WRehYHRUiJW/VPxE4RUuJa/VOxVYSUOKp/L95qCCmxqiH1H4lVEaSIWf2XUmJRBCliUrNQp6KuhfoSiyJIEZP6z8VLDUEUMdSP4q0uhIpFDUEUMdSD2Ksb0VjUEEMUMdSlOFFbsVNiVUMMUUMMdRTXGr8pYhKKGGov/hs1xCTUENRHzIr4l4qYhRpiUkN8FHGqPuJOEbNQkzhRxEcRL7UTV4p4CWqIo6bErBaxqL04V8RLDEUc1CyGeom9WqVxpoZ4iaGG+FIHcVCrNI5qiEUMNYmtSr2kZnGm3uKohljErIi92otT9RHfaohVzGqIj6Z24qi+xJcijVW81BBvTW3FUR3EXg3xFi9NEataBBVn6lvs1BAfsaghVvUSRVyovdiqITZiVUMsmpqkxLXaiY2axEasahKrGlJp3Kit+CjS2Iq3GmLRKClxqz7ioyaxEx81iVmjpMS9eou3msRebNQkJk3N4kkt4q1msRdbNYlJvcSTSk1iVZP4Fjs1iUlN4lnNYlWTOIi9msVQxA9qEquaxFF8qVn8RRGrIo0T8a1m8Q/VLM7EQc3in6iXOBVnahJ/VYs4F6dqiL+pl7gUp2oVP6pVXIoL9RaP6i1uxKVaxb16i1txoz7iXG3Eg7hX31IX4lE8qB/FD+JZPYrfxE/qUvxB/EFtpdH4k/i/iv+r/wEEcJN6pgU6cwAAAABJRU5ErkJggg==",Ts=Object.freeze(Object.defineProperty({__proto__:null,default:Ks},Symbol.toStringTag,{value:"Module"})),xs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABsCAAAAABBOrMSAAAFa0lEQVRoBb3BR4IjRwADMPD/j6arc5Q0ezEQf1I/xN/Eb/UHafxB/FB3Mamn+Cm+qpN4UyfxQ3xTu/iidvFVfFS7+KlW8U18Uqv4o1rFR/GuVvEPahGfxKtaxD+qRbyLNzWLr2qIm1rEm3iqRXxVq7ioRbyIh5rFd7WLq5rEi7irWfxSu7iqWTzETU3ipPGmdnFTs7iLqxrirMSb2sVdTeImzmoWZ0W8qF081RBXcVaTOKsh3tQmnmoSF3FSk7ioSbyoQzzUJM7iUJO4qlk81Vnc1SRO4lBDXNUinuoqbmoSh9jVEFe1ibu6i5sa4hCbGuKmdnFWL+KmJrGLVQ1xU4c41Lu4qUlsYlGTuKlDLOohahJPRWxiVpO4qZOY1V1qES9qiFXMaoibOolFfRCvahKLmNUQN3USi3oTH9UQi5jUEDdNHWJVZ6khvqghZjEp4q5O4lAX8V0NMYuhhripVUqc1EX8UMQsqCFuapUiDnUVtYkXNcQkqCFuapESh1qEehN3NcQk1BB3NUuJXc1iUg8pcVfEJNQQN3WITU1iVu/iroYYQg1xVYdY1SQm9UXcFDFEDXHVqFWsaohJ7VIPcVPEEDXEVVNDilgVMdQh9SJuiiCKuGrUKlZFDPUQQ+3ipgiiiIs6xKKGGOomVrWLqyKIEle1i0URQz3Eog5xVUNIERd1iEUR1EOs6hBXNYQUcdbUJlZFqFWoTcxqFzc1hBRxUouU2NQuFnWIoXZxV0OkiEOdxKY2sajUJqhD3NUQKWJXJ7GpXUwa6hBqFw81RIrY1UnsapEGFeok1CaeaoiUONRZbJqapFGpQyoNtYmnGiIldnUWk8bQ1Cx1kYqhNvGihkiJQ10EjUl9FEOt4lURKXGoi1AxqY9iqFW8KiIlDnURKmY1C0pqE5NaxLsiUuKkzqJiVbMY6hBDLeKDIlLipM6iYlWzmNQmqE18UERKnNQQNUuJVc1iUS/ikyJS4qyEmqViV5OY1SbUKj4pIiWeahO7mkRFvYlPaoiUeKpN7GqShnoRn9UQKfFUqzjUImqX2sRnNURKPNUqDjWL2qRW8VUNkRJPtYqzukoNafxShBTxUKs4adRd/EURUsRDLeKsoc7S+JMipIiHWsRFU4uoIY1d7eKqhpAiHmoRV7VLkTqLTcVJDSE1xF0t4oNKzeKDxq6GkBrirmbx1CihhrioVdBY1RCkhripRdw0FbP6LjQWNQSpIW5qEZ/UT1ExK2KIGuKqFrErsai/icasiCEUcVWLmFWs6iw1iaGhpM5iqCGGUMRVreKirlKpQyxqE0MNMYQa4qJ2sahdTGoRJ0UMtYihiEmoIS7qENQuhhI1xEOJSRHUEJOghjipReomaBqNIt7VIoYaYhJDESeNGlJnocSmxG81xCyGGuJQi2ioIYaKkxI/NSUWMdQQh1qExq5x0Wj8UkMsYlJD7GoRVFDirvFbEZuYFbGrRXzU0Gj8UEOsYlZDbJqaxEeNisZ3NYlVLGqIVVOT+KrR+KomsYlFTWLRqCG+qWh8U5PYxaqGWDRqiG8qGt/UEIdY1SQWjSK+qfiuSOMQm5rErKHiq0rji5rESexqErOm4rtK44sa4iwONYlZEV9VGh/VJC7ipCYxa/xQaXxSs7iIs5rE31QaH9QsruKsZvEnJT6oIR7iqob4g6bEu5rEQ9zUEL81JV7VJJ7irob4gxIvahYv4qFm8UMRTzWLN/GihvihaTzUIl7Fm5rEv6tFvIt3NYl/U4v4JN7VLP6uNvFRfFKb+K128UV8VCfxTe3iq/imDvGmTtL4IX6ou5jUU/wUv9SrUIdU/EH8Qf0UfxN/U5/F38U/qJto/JP4f8X/6z8dVxuL55I6qgAAAABJRU5ErkJggg==",Qs=Object.freeze(Object.defineProperty({__proto__:null,default:xs},Symbol.toStringTag,{value:"Module"})),Js=Object.assign({"/assets/chess_templates/black_bishop.png":us,"/assets/chess_templates/black_cannon.png":ms,"/assets/chess_templates/black_guard.png":ps,"/assets/chess_templates/black_king.png":ws,"/assets/chess_templates/black_knight.png":_s,"/assets/chess_templates/black_pawn.png":Ss,"/assets/chess_templates/black_rook.png":qs,"/assets/chess_templates/red_bishop.png":Rs,"/assets/chess_templates/red_cannon.png":bs,"/assets/chess_templates/red_guard.png":ks,"/assets/chess_templates/red_king.png":Ms,"/assets/chess_templates/red_knight.png":Cs,"/assets/chess_templates/red_pawn.png":Ts,"/assets/chess_templates/red_rook.png":Qs});async function As(){var e;const i={};for(const[o,t]of Object.entries(Js)){const n=(e=o.split("/").pop())==null?void 0:e.split(".")[0];if(n){const s=new Image;s.src=t.default,await new Promise(h=>{s.onload=h});const l=cv.imread(s),r=new cv.Mat;cv.cvtColor(l,r,cv.COLOR_RGBA2GRAY),i[n]=r,l.delete()}}return i}function Ws(i,e,o){let t=-1,n="none";const s=[i.cols,i.rows],l=new cv.Mat;i.channels()===4?cv.cvtColor(i,l,cv.COLOR_RGBA2GRAY):i.channels()===3?cv.cvtColor(i,l,cv.COLOR_RGB2GRAY):i.copyTo(l);const r=Object.entries(e).filter(([c,f])=>o==="red"?c.startsWith("red_"):o==="black"?c.startsWith("black_"):!0);for(const[c,f]of r){const u=new cv.Mat;cv.resize(f,u,new cv.Size(s[0],s[1]));const g=new cv.Mat;cv.matchTemplate(l,u,g,cv.TM_CCOEFF_NORMED);const d=cv.minMaxLoc(g);if(d.maxVal>t){t=d.maxVal;const p={king:"k",guard:"a",bishop:"b",knight:"n",rook:"r",cannon:"c",pawn:"p"},E=c.split("_")[1];n=p[E]||"none"}u.delete(),g.delete()}return l.delete(),t>.3?n:"none"}function js({onImageUpload:i}){const e=De(null);return N("section",{className:"upload-section",children:[N("h2",{children:""}),N("input",{ref:e,type:"file",onChange:n=>{var l;const s=(l=n.target.files)==null?void 0:l[0];if(s){const r=new FileReader;r.onload=h=>{var f;const c=new Image;c.onload=()=>i(c),c.src=(f=h.target)==null?void 0:f.result},r.readAsDataURL(s)}},accept:"image/*",style:{display:"none"}}),N("button",{onClick:()=>{var n;(n=e.current)==null||n.click()},children:""})]})}const Ys=360;function Ls({overlayImageSrc:i,chessboardRect:e={x:0,y:0,width:0,height:0},originalImageSize:o={width:0,height:0}}){const n=Math.max(0,e.x-15),s=Math.max(0,e.y-15),l=Math.min(o.width-n,e.width+2*15),r=Math.min(o.height-s,e.height+2*15),h=Math.min(1,Ys/Math.max(l,r)),c=o.width/l,f=l*h,u=r*h,g=f*c,d=(f-g)/2;return N("section",{className:"board-result-section",children:[N("h2",{children:""}),N("div",{className:"image-container",style:{width:`${f}px`,paddingBottom:`${u}px`},children:N("img",{src:i,alt:"",className:"overlay-image",style:{left:`${d}px`,width:`${g}px`,height:`${o.height*h}px`,marginTop:`${-s*h}px`}})})]})}function Gs({fenCode:i,onCopy:e}){return N("div",{className:"fen-section",children:[N("h2",{children:"FEN"}),N("div",{className:"fen-container",children:[N("input",{type:"text",value:i,readOnly:!0}),N("button",{onClick:e,children:""})]})]})}function lo(i,e){const[o,t]=i.trim().split(/\s+/),n=o.split("/");if(n.length!==10)throw new Error(" FEN");const s=[];for(const w of n){const R=[];for(const F of w)if(F>="1"&&F<="9"){const b=parseInt(F,10);for(let k=0;k<b;k++)R.push(null)}else R.push(F);if(R.length!==9)throw new Error(" FEN");s.push(R)}if(e.length!==4)throw new Error("");const l="abcdefghi",r=e.charAt(0),h=e.charAt(1),c=e.charAt(2),f=e.charAt(3),u=l.indexOf(r),g=9-parseInt(h,10),d=l.indexOf(c),p=9-parseInt(f,10);if(u===-1||d===-1||isNaN(g)||isNaN(p))throw new Error("");const E=s[g][u];if(!E)throw console.error("fen:",i),console.error("move:",e),new Error("");s[p][d]=E,s[g][u]=null;const q=t==="w"?"b":"w";return`${s.map(w=>{let R="",F=0;for(const b of w)b?(F>0&&(R+=F.toString(),F=0),R+=b):F+=1;return F>0&&(R+=F.toString()),R}).join("/")} ${q} - - 0 1`}function Ke(i,e){const o={K:"",A:"",B:"",N:"",R:"",C:"",P:"",k:"",a:"",b:"",n:"",r:"",c:"",p:""},t="abcdefghi",n=["","","","","","","","","",""],[s]=i.trim().split(/\s+/),l=s.split("/"),r=[];for(const _ of l){const U=[];for(const w of _)if(w>="1"&&w<="9"){const R=parseInt(w,10);for(let F=0;F<R;F++)U.push(null)}else U.push(w);r.push(U)}const h=t.indexOf(e.charAt(0)),c=9-parseInt(e.charAt(1),10),f=t.indexOf(e.charAt(2)),u=9-parseInt(e.charAt(3),10),g=r[c][h];if(!g)throw console.error("fen:",i),console.error("move:",e),new Error("");const d=g>="A"&&g<="Z",p=o[g],E=d?n[9-h]:` ${h+1} `;let q="",a="";return h===f?(q=d?c>u?"":"":c<u?"":"",a=d?n[Math.abs(c-u)]:` ${Math.abs(c-u)} `):(q="",a=d?n[9-f]:` ${f+1} `),(p===""||p===""||p===""||p===""||p==="")&&(q=d?c>u?"":"":c<u?"":"",a=d?n[9-f]:` ${f+1} `),`${p}${E}${q}${a}`}const Os="/xiangqi-analysis/assets/LiSu-BT8uMcwJ.woff2",C=40;function Bs({fen:i,bestMove:e,onFenUpdate:o}){const[t,n]=Z([]),s=De(null),[l,r]=Z(1),[h,c]=Z(!1),[f,u]=Z(null);it(()=>{const a=new FontFace("LiSu",`url(${Os})`);a.load().then(()=>(document.fonts.add(a),document.fonts.ready)).then(()=>{c(!0)}).catch(_=>console.error("Failed to load font:",_))},[]),it(()=>{const a=g(i);n(a)},[i]),it(()=>{function a(){if(s.current){const U=window.innerWidth*.8,w=8*C+C,R=window.devicePixelRatio,F=Math.min(1,U/w)*R;r(F)}}return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),it(()=>{if(!s.current||!h)return;const a=s.current,_=a.getContext("2d");_&&(_.clearRect(0,0,a.width,a.height),d(_,l),t.forEach((U,w)=>{U.forEach((R,F)=>{if(R){const b=(f&&f[0]===w&&f[1]===F)??!1;p(_,R,[w,F],l,b)}})}),e&&E(_,e))},[t,e,l,h,f]),it(()=>{const a=s.current;if(!a)return;function _(U){const w=s.current;if(!w)return;const R=w.getBoundingClientRect(),F=w.width/R.width,b=w.height/R.height,k=(U.clientX-R.left)*F,V=(U.clientY-R.top)*b,m=C/2*l,S=Math.round((k-m)/(C*l)),v=Math.round((V-m)/(C*l));if(console.log(`Clicked intersection: col: ${S}, row: ${v}`),S>=0&&S<=8&&v>=0&&v<=9)if(f){const[y,M]=f,K=`${String.fromCharCode(97+M)}${9-y}`,A=`${String.fromCharCode(97+S)}${9-v}`,W=`${K}${A}`,T=lo(i,W);o(T),u(null)}else u([v,S])}return a.addEventListener("click",_),()=>{a.removeEventListener("click",_)}},[s,l,f,i,o]);function g(a){const _=a.split(" ")[0].split("/"),U=[];for(let w of _){const R=[];for(let F of w)if(isNaN(parseInt(F))){const b=F===F.toUpperCase()?"red":"black",k=F.toLowerCase();R.push({color:b,type:k})}else{const b=parseInt(F);for(let k=0;k<b;k++)R.push(null)}U.push(R)}return U}function d(a,_){const U=s.current;if(!U)return;const w=C/2,R=8*C+2*w,F=9*C+2*w;U.width=R*_,U.height=F*_,U.style.width=`${R*_/window.devicePixelRatio}px`,U.style.height=`${F*_/window.devicePixelRatio}px`,a.scale(_,_),a.fillStyle="#f0d9b5",a.fillRect(0,0,U.width,U.height),a.strokeStyle="#000",a.lineWidth=1;for(let V=0;V<=9;V++)a.beginPath(),a.moveTo(w,V*C+w),a.lineTo(R-w,V*C+w),a.stroke();for(let V=0;V<=8;V++)a.beginPath(),a.moveTo(V*C+w,w),a.lineTo(V*C+w,4*C+w),a.stroke(),a.beginPath(),a.moveTo(V*C+w,5*C+w),a.lineTo(V*C+w,F-w),a.stroke();a.beginPath(),a.moveTo(w,4*C+w),a.lineTo(w,5*C+w),a.stroke(),a.beginPath(),a.moveTo(R-w,4*C+w),a.lineTo(R-w,5*C+w),a.stroke(),a.font='20px "LiSu", sans-serif',a.fillStyle="rgba(0, 0, 0, 0.3)",a.textAlign="center",a.textBaseline="middle",a.fillText("  ",2*C+w,4.6*C+w),a.fillText("  ",6*C+w,4.6*C+w),a.beginPath(),a.moveTo(3*C+w,w),a.lineTo(5*C+w,2*C+w),a.moveTo(5*C+w,w),a.lineTo(3*C+w,2*C+w),a.moveTo(3*C+w,7*C+w),a.lineTo(5*C+w,9*C+w),a.moveTo(5*C+w,7*C+w),a.lineTo(3*C+w,9*C+w),a.stroke();function b(V,m,S=!1){if(!a)return;const v=C*.15,y=-C*.23;a.strokeStyle="rgba(0, 0, 0, 0.4)",a.lineWidth=1,(!S||V<R/2)&&(a.beginPath(),a.moveTo(V-v-y,m-y),a.lineTo(V-v-y,m-v-y),a.lineTo(V-y,m-v-y),a.stroke(),a.beginPath(),a.moveTo(V-v-y,m+y),a.lineTo(V-v-y,m+v+y),a.lineTo(V-y,m+v+y),a.stroke()),(!S||V>R/2)&&(a.beginPath(),a.moveTo(V+v+y,m-y),a.lineTo(V+v+y,m-v-y),a.lineTo(V+y,m-v-y),a.stroke(),a.beginPath(),a.moveTo(V+v+y,m+y),a.lineTo(V+v+y,m+v+y),a.lineTo(V+y,m+v+y),a.stroke())}b(1*C+w,2*C+w),b(7*C+w,2*C+w),b(1*C+w,7*C+w),b(7*C+w,7*C+w);for(let V=0;V<5;V++){const m=V===0||V===4;b(2*V*C+w,3*C+w,m),b(2*V*C+w,6*C+w,m)}a.font="11px Arial",a.textAlign="center",a.textBaseline="middle",a.fillStyle="rgba(0, 0, 0, 0.4)";const k=["","","","","","","","",""];for(let V=0;V<9;V++)a.fillText(k[V],(8-V)*C+w,F-w/2);for(let V=0;V<9;V++)a.fillText((9-V).toString(),(8-V)*C+w,w/2)}function p(a,_,U,w,R){const F=C/2,[b,k]=U,V=k*C+F,m=b*C+F,S=C*.4;a.beginPath(),a.arc(V+2,m+2,S,0,Math.PI*2),a.fillStyle="rgba(0, 0, 0, 0.3)",a.fill(),a.beginPath(),a.arc(V,m,S,0,Math.PI*2),a.fillStyle=_.color==="red"?"#ffcccc":"#e0e0e0",a.fill(),a.strokeStyle=_.color==="red"?"#c00000":"#000000",a.lineWidth=2,a.stroke(),a.fillStyle=_.color==="red"?"#c00000":"#000000",a.font='22px "LiSu", sans-serif';const v=_.type.toUpperCase(),y=_.color==="red"?q[v]:q[v.toLowerCase()];if(a.save(),a.setTransform(w,0,0,1.25*w,V*w,m*w),a.textAlign="center",a.textBaseline="middle",a.fillText(y,S*.05,S*.2),a.restore(),R){const M=C*.9,K=M*.25;a.strokeStyle="rgba(0, 220, 75, 0.9)",a.lineWidth=2,a.beginPath(),a.moveTo(V-M/2,m-M/2+K),a.lineTo(V-M/2,m-M/2),a.lineTo(V-M/2+K,m-M/2),a.stroke(),a.beginPath(),a.moveTo(V+M/2-K,m-M/2),a.lineTo(V+M/2,m-M/2),a.lineTo(V+M/2,m-M/2+K),a.stroke(),a.beginPath(),a.moveTo(V-M/2,m+M/2-K),a.lineTo(V-M/2,m+M/2),a.lineTo(V-M/2+K,m+M/2),a.stroke(),a.beginPath(),a.moveTo(V+M/2-K,m+M/2),a.lineTo(V+M/2,m+M/2),a.lineTo(V+M/2,m+M/2-K),a.stroke()}}function E(a,_){const U=C/2,[w,R]=_.match(/.{2}/g)||[];if(!w||!R)return;const F=w.charCodeAt(0)-97,b=9-parseInt(w[1]),k=R.charCodeAt(0)-97,V=9-parseInt(R[1]),m=F*C+U,S=b*C+U,v=k*C+U,y=V*C+U,M=15,K=Math.atan2(y-S,v-m),A=v-M*Math.cos(K)*.86,W=y-M*Math.sin(K)*.86;a.beginPath(),a.moveTo(m,S),a.lineTo(A,W),a.strokeStyle="rgba(0, 0, 255, 0.6)",a.lineWidth=3,a.stroke(),a.beginPath(),a.moveTo(v,y),a.lineTo(v-M*Math.cos(K-Math.PI/6),y-M*Math.sin(K-Math.PI/6)),a.lineTo(v-M*Math.cos(K+Math.PI/6),y-M*Math.sin(K+Math.PI/6)),a.closePath(),a.fillStyle="rgba(0, 0, 255, 0.6)",a.fill()}const q={k:"",a:"",b:"",n:"",r:"",c:"",p:"",K:"",A:"",B:"",N:"",R:"",C:"",P:""};return N("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:N("canvas",{ref:s,className:"chessboard",style:{maxWidth:"80vw",height:"auto"}})})}function Ds({bestMove:i,isCalculating:e,error:o,onNextMove:t,onPreviousMove:n,moveHistory:s,fenCode:l,fenHistory:r,onFenUpdate:h}){const c=s.length%2===0?"":"",f=s.length+1,u=s.map((p,E)=>{const q=r[E],a=Ke(q,p);return N("span",{className:"move-item",children:a},E)}),g=i==="red_wins"||i==="black_wins",d=i==="red_wins"?"":i==="black_wins"?"":"";return N("div",{className:"solution-section",children:[N("h2",{children:""}),N("div",{className:"chessboard-display",children:N(Bs,{fen:l,bestMove:g?"":i,onFenUpdate:h})}),N("div",{className:"solution-controls",children:[N("button",{onClick:n,disabled:s.length===0,children:""}),N("button",{onClick:t,disabled:e||!i||g,children:""})]}),N("div",{className:"solution-debug",children:[e&&N("p",{children:"..."}),o&&N("p",{style:{color:"red"},children:o}),!g&&i&&N("p",{children:[c,"",Ke(l,i),"  ",f," ",""]}),g&&N("p",{style:{fontWeight:"bold",color:"green"},children:d})]}),N("div",{className:"move-list",children:u})]})}function zs(i,e){return{k:e==="red"?"K":"k",a:e==="red"?"A":"a",b:e==="red"?"B":"b",n:e==="red"?"N":"n",r:e==="red"?"R":"r",c:e==="red"?"C":"c",p:e==="red"?"P":"p",none:""}[i]}function Ps(i,e="red"){const o=[];for(const l of i){let r=0,h="";for(const c of l)if(c==="none")r++;else{r>0&&(h+=r.toString(),r=0);const[f,u]=c.split("_");h+=zs(u,f)}r>0&&(h+=r.toString()),o.push(h),console.log(`FEN row: ${h}`)}const s=`${o.join("/")} ${e==="red"?"w":"b"} - - 0 1`;return console.log(`Generated FEN: ${s}`),s}function Xs(){const[i,e]=Z(null),[o,t]=Z(!0),n=async()=>{console.log("OpenCV.js is ready");try{const s=await As();if(Object.keys(s).length===0){console.error("No templates were successfully loaded");return}e(s)}catch(s){console.error("Error loading templates:",s)}finally{t(!1)}};return it(()=>{let s;return(async()=>{typeof cv<"u"?(await new Promise(r=>{cv.onRuntimeInitialized=r}),await n()):(document.addEventListener("opencv-loaded",n),s=setInterval(()=>{!o&&typeof cv<"u"&&(clearInterval(s),n())},500))})(),()=>{document.removeEventListener("opencv-loaded",n),clearInterval(s)}},[]),{templates:i,isLoading:o}}const Zs="modulepreload",Hs=function(i){return"/xiangqi-analysis/"+i},Te={},$s=function(e,o,t){let n=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),r=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=Promise.allSettled(o.map(h=>{if(h=Hs(h),h in Te)return;Te[h]=!0;const c=h.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${f}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":Zs,c||(u.as="script"),u.crossOrigin="",u.href=h,r&&u.setAttribute("nonce",r),document.head.appendChild(u),c)return new Promise((g,d)=>{u.addEventListener("load",g),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=l,window.dispatchEvent(r),!r.defaultPrevented)throw l}return n.then(l=>{for(const r of l||[])r.status==="rejected"&&s(r.reason);return e().catch(s)})};class ti{constructor(){this.engineReady=!1,this.currentResolve=null}async initEngine(){if(!this.engineReady)try{const e=await $s(()=>import("./pikafish-ZteQ764f.js"),[]),o=e.default||e;window.Pikafish=o,this.engineInstance=await o({locateFile:t=>t==="pikafish.data"?`https://xiangqiai.com/wasm/data/${t}`:`https://xiangqiai.com/wasm/single/${t}`}),await this.engineInstance.ready,this.engineInstance.read_stdout=t=>{console.log("> ",t);const n=t.match(/bestmove\s(\S+)/);n&&this.currentResolve&&(this.currentResolve(n[1]),this.currentResolve=null)},this.engineInstance.send_command("uci"),this.engineReady=!0}catch(e){console.error("Failed to initialize Pikafish:",e)}}async getBestMove(e,o=14){if(!this.engineReady)throw new Error("Engine is not ready");return new Promise((t,n)=>{try{this.currentResolve=s=>{if(s==="(none)"){const r=e.split(" ")[1];t(r==="b"?"red_wins":"black_wins")}else t(s)},this.engineInstance.send_command(`position fen ${e}`),this.engineInstance.send_command(`go depth ${o}`),setTimeout(()=>{this.currentResolve&&(n(new Error("Engine timeout")),this.currentResolve=null)},5e3)}catch(s){n(s)}})}}function ei(){const[i,e]=Z(null),[o,t]=Z(""),[n,s]=Z(!1),[l,r]=Z(null),[h,c]=Z(!1);it(()=>{(async()=>{const g=new ti;await g.initEngine(),e(g),c(!0)})()},[]);const f=bo(async(u,g)=>{if(i){s(!0),r(null);try{const d=await i.getBestMove(u,g);if(t(d),d==="red_wins"||d==="black_wins"){s(!1);return}}catch(d){r(`Error: ${d.message}`)}finally{s(!1)}}},[i]);return{engine:i,bestMove:o,isCalculating:n,error:l,fetchBestMove:f,setBestMove:t,isEngineReady:h}}function oi(){const i=Number(localStorage.getItem("depth"))||14,[e,o]=Z(i);return it(()=>{localStorage.setItem("depth",e.toString())},[e]),{depth:e,setDepth:o}}const ni=({depth:i,onDepthChange:e})=>N("div",{className:"depth-control-section",children:[N("h2",{children:""}),N("div",{className:"depth-slider-container",children:[N("label",{htmlFor:"depth-slider",children:[": ",i]}),N("input",{id:"depth-slider",type:"range",min:"10",max:"30",value:i,onChange:o=>{o.target instanceof HTMLInputElement&&e(Number(o.target.value))}})]})]}),si=`<h3>2024-10-08</h3>
<ul>
<li>  </li>
<li>
<ul>
<li></li>
<li></li>
</ul>
</li>
<li></li>
</ul>
<h3>2024-10-07</h3>
<ul>
<li> <strong>OpenCV.js</strong>  <code>cdn.jsdmirror.com</code>  <code>jsdelivr.net</code></li>
<li><strong>Pikafish</strong>  <code>xiangqiai.com</code>  wasm </li>
<li></li>
<li></li>
</ul>
`,ii=()=>{const[i,e]=Z(!1);return N("div",{className:"changelog",children:[N("h3",{onClick:()=>{e(!i)},className:"changelog-title",children:[N("span",{className:"changelog-arrow",children:i?"":""}),""]}),i&&N("div",{className:"changelog-content markdown-content",dangerouslySetInnerHTML:{__html:si}})]})},xe="7f8638a2";function ri(){const[i,e]=Z(!1);it(()=>{const t=localStorage.getItem("lastSeenVersion");(!(localStorage.getItem("skipFutureModals")==="true")||t!==xe)&&e(!0)},[]);const o=t=>{e(!1),localStorage.setItem("lastSeenVersion",xe),t?localStorage.setItem("skipFutureModals","true"):localStorage.removeItem("skipFutureModals")};return i?N("div",{className:"modal-overlay",children:N("dialog",{open:!0,className:"welcome-modal",children:N("div",{className:"welcome-modal-content",children:[N("h2",{children:""}),N("p",{children:""}),N("p",{children:" JJ "}),N("p",{children:""}),N(ii,{}),N("div",{className:"button-group",children:[N("button",{onClick:()=>o(!1),className:"primary-button",children:""}),N("button",{onClick:()=>o(!0),className:"secondary-button",children:""})]})]})})}):null}const li=()=>N("div",{className:"spinner"});function hi(){const[i,e]=Z(""),[o,t]=Z(""),[n,s]=Z([]),[l,r]=Z([]),[h,c]=Z(),[f,u]=Z(),{templates:g,isLoading:d}=Xs(),{bestMove:p,isCalculating:E,error:q,fetchBestMove:a,setBestMove:_,isEngineReady:U}=ei(),{depth:w,setDepth:R}=oi(),F=d||!U;it(()=>{o&&a(o,w)},[o,w,a]);const b=()=>{navigator.clipboard.writeText(o)},k=()=>{if(!p||p==="red_wins"||p==="black_wins")return;const y=lo(o,p);t(y),s(M=>[...M,y]),r(M=>[...M,p]),_("")},V=()=>{if(n.length>1){const y=n.slice(0,-1),M=l.slice(0,-1),K=y[y.length-1];s(y),r(M),t(K),_("")}},m=y=>{if(d||!g)return;u({width:y.width,height:y.height});const{gridCells:M,chessboardRect:K}=$n(y),A={x:Math.max(0,K.x),y:Math.max(0,K.y),width:Math.min(K.width,y.width-K.x),height:Math.min(K.height,y.height-K.y)};c(A);const W=[];for(let L=0;L<M.length;L++){const B=M[L];if(es(B)){const G=os(B);if(G!=="unknown"){const D=Math.floor(L/9),H=L%9;let z="none";const Lt=ns(B,G),vt=cv.matFromImageData(Lt);z=Ws(vt,g,G),vt.delete(),W.push({position:[D,H],color:G,type:z})}}}const T=hs(y,A,W);e(T.toDataURL());const Y=Array(10).fill(null).map(()=>Array(9).fill("none"));W.forEach(L=>{const[B,x]=L.position;L.type!==null&&(Y[B][x]=`${L.color}_${L.type}`)});const j=Ps(Y,"red");t(j),s([j])},S=y=>{s([]),r([]),_(""),m(y)},v=y=>{t(y),s(M=>[...M,y]),_("")};return F?N("div",{className:"loading-overlay",children:[N(li,{}),N("p",{children:"..."}),N("p",{children:""})]}):N(qt,{children:[N("header",{children:N("h1",{children:""})}),N("main",{className:"app-container",children:[N(ri,{}),N("div",{className:"content-wrapper",children:[N("div",{className:"left-column",children:N(Ds,{bestMove:p,isCalculating:E,error:q,onNextMove:k,onPreviousMove:V,moveHistory:l,fenCode:o,fenHistory:n,onFenUpdate:v})}),N("div",{className:"right-column",children:[N(js,{onImageUpload:S}),N(Ls,{overlayImageSrc:i,chessboardRect:h,originalImageSize:f}),N(Gs,{fenCode:o,onCopy:b}),N(ni,{depth:w,onDepthChange:R})]})]})]}),N("footer",{children:N("p",{children:[" 2024  | Powered by ",N("a",{href:"https://github.com/official-pikafish/Pikafish",children:"Pikafish"}),"|",N("a",{href:"https://github.com/iFwu/xiangqi-analysis",children:"GitHub "})]})})]})}vo(N(hi,{}),document.getElementById("app"));
