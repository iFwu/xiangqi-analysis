var sl=Object.defineProperty;var Qo=e=>{throw TypeError(e)};var nl=(e,t,o)=>t in e?sl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var Ms=(e,t,o)=>nl(e,typeof t!="symbol"?t+"":t,o),On=(e,t,o)=>t.has(e)||Qo("Cannot "+o);var Tt=(e,t,o)=>(On(e,t,"read from private field"),o?o.call(e):t.get(e)),jn=(e,t,o)=>t.has(e)?Qo("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,o),rn=(e,t,o,l)=>(On(e,t,"write to private field"),l?l.call(e,o):t.set(e,o),o),Jn=(e,t,o)=>(On(e,t,"access private method"),o);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const a of c)if(a.type==="childList")for(const f of a.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function o(c){const a={};return c.integrity&&(a.integrity=c.integrity),c.referrerPolicy&&(a.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?a.credentials="include":c.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(c){if(c.ep)return;c.ep=!0;const a=o(c);fetch(c.href,a)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function wo(e){const t=Object.create(null);for(const o of e.split(","))t[o]=1;return o=>o in t}const Te={},_s=[],Pt=()=>{},ol=()=>!1,Rn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Eo=e=>e.startsWith("onUpdate:"),et=Object.assign,yo=(e,t)=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)},il=Object.prototype.hasOwnProperty,qe=(e,t)=>il.call(e,t),ge=Array.isArray,Is=e=>Un(e)==="[object Map]",Mi=e=>Un(e)==="[object Set]",me=e=>typeof e=="function",Ge=e=>typeof e=="string",ls=e=>typeof e=="symbol",Qe=e=>e!==null&&typeof e=="object",xi=e=>(Qe(e)||me(e))&&me(e.then)&&me(e.catch),Ti=Object.prototype.toString,Un=e=>Ti.call(e),rl=e=>Un(e).slice(8,-1),Ci=e=>Un(e)==="[object Object]",So=e=>Ge(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ks=wo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_n=e=>{const t=Object.create(null);return o=>t[o]||(t[o]=e(o))},ll=/-(\w)/g,rs=_n(e=>e.replace(ll,(t,o)=>o?o.toUpperCase():"")),cl=/\B([A-Z])/g,ys=_n(e=>e.replace(cl,"-$1").toLowerCase()),ki=_n(e=>e.charAt(0).toUpperCase()+e.slice(1)),Qn=_n(e=>e?`on${ki(e)}`:""),is=(e,t)=>!Object.is(e,t),fn=(e,...t)=>{for(let o=0;o<e.length;o++)e[o](...t)},Ni=(e,t,o,l=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:l,value:o})},so=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Lo;const In=()=>Lo||(Lo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ls(e){if(ge(e)){const t={};for(let o=0;o<e.length;o++){const l=e[o],c=Ge(l)?hl(l):Ls(l);if(c)for(const a in c)t[a]=c[a]}return t}else if(Ge(e)||Qe(e))return e}const ul=/;(?![^(]*\))/g,al=/:([^]+)/,fl=/\/\*[^]*?\*\//g;function hl(e){const t={};return e.replace(fl,"").split(ul).forEach(o=>{if(o){const l=o.split(al);l.length>1&&(t[l[0].trim()]=l[1].trim())}}),t}function bo(e){let t="";if(Ge(e))t=e;else if(ge(e))for(let o=0;o<e.length;o++){const l=bo(e[o]);l&&(t+=l+" ")}else if(Qe(e))for(const o in e)e[o]&&(t+=o+" ");return t.trim()}const dl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",pl=wo(dl);function Ai(e){return!!e||e===""}const Ki=e=>!!(e&&e.__v_isRef===!0),Qt=e=>Ge(e)?e:e==null?"":ge(e)||Qe(e)&&(e.toString===Ti||!me(e.toString))?Ki(e)?Qt(e.value):JSON.stringify(e,Oi,2):String(e),Oi=(e,t)=>Ki(t)?Oi(e,t.value):Is(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((o,[l,c],a)=>(o[Ln(l,a)+" =>"]=c,o),{})}:Mi(t)?{[`Set(${t.size})`]:[...t.values()].map(o=>Ln(o))}:ls(t)?Ln(t):Qe(t)&&!ge(t)&&!Ci(t)?String(t):t,Ln=(e,t="")=>{var o;return ls(e)?`Symbol(${(o=e.description)!=null?o:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pt;class ji{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=pt,!t&&pt&&(this.index=(pt.scopes||(pt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,o;if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].pause();for(t=0,o=this.effects.length;t<o;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,o;if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].resume();for(t=0,o=this.effects.length;t<o;t++)this.effects[t].resume()}}run(t){if(this._active){const o=pt;try{return pt=this,t()}finally{pt=o}}}on(){pt=this}off(){pt=this.parent}stop(t){if(this._active){this._active=!1;let o,l;for(o=0,l=this.effects.length;o<l;o++)this.effects[o].stop();for(this.effects.length=0,o=0,l=this.cleanups.length;o<l;o++)this.cleanups[o]();if(this.cleanups.length=0,this.scopes){for(o=0,l=this.scopes.length;o<l;o++)this.scopes[o].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const c=this.parent.scopes.pop();c&&c!==this&&(this.parent.scopes[this.index]=c,c.index=this.index)}this.parent=void 0}}}function Ji(e){return new ji(e)}function Qi(){return pt}function gl(e,t=!1){pt&&pt.cleanups.push(e)}let ke;const Pn=new WeakSet;class Li{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,pt&&pt.active&&pt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Pn.has(this)&&(Pn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Wi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Po(this),Di(this);const t=ke,o=kt;ke=this,kt=!0;try{return this.fn()}finally{Yi(this),ke=t,kt=o,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Uo(t);this.deps=this.depsTail=void 0,Po(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Pn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){no(this)&&this.run()}get dirty(){return no(this)}}let Pi=0,Ns,As;function Wi(e,t=!1){if(e.flags|=8,t){e.next=As,As=e;return}e.next=Ns,Ns=e}function vo(){Pi++}function Ro(){if(--Pi>0)return;if(As){let t=As;for(As=void 0;t;){const o=t.next;t.next=void 0,t.flags&=-9,t=o}}let e;for(;Ns;){let t=Ns;for(Ns=void 0;t;){const o=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(l){e||(e=l)}t=o}}if(e)throw e}function Di(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Yi(e){let t,o=e.depsTail,l=o;for(;l;){const c=l.prevDep;l.version===-1?(l===o&&(o=c),Uo(l),ml(l)):t=l,l.dep.activeLink=l.prevActiveLink,l.prevActiveLink=void 0,l=c}e.deps=t,e.depsTail=o}function no(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Bi(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Bi(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ps))return;e.globalVersion=Ps;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!no(e)){e.flags&=-3;return}const o=ke,l=kt;ke=e,kt=!0;try{Di(e);const c=e.fn(e._value);(t.version===0||is(c,e._value))&&(e._value=c,t.version++)}catch(c){throw t.version++,c}finally{ke=o,kt=l,Yi(e),e.flags&=-3}}function Uo(e,t=!1){const{dep:o,prevSub:l,nextSub:c}=e;if(l&&(l.nextSub=c,e.prevSub=void 0),c&&(c.prevSub=l,e.nextSub=void 0),o.subs===e&&(o.subs=l,!l&&o.computed)){o.computed.flags&=-5;for(let a=o.computed.deps;a;a=a.nextDep)Uo(a,!0)}!t&&!--o.sc&&o.map&&o.map.delete(o.key)}function ml(e){const{prevDep:t,nextDep:o}=e;t&&(t.nextDep=o,e.prevDep=void 0),o&&(o.prevDep=t,e.nextDep=void 0)}let kt=!0;const Gi=[];function cs(){Gi.push(kt),kt=!1}function us(){const e=Gi.pop();kt=e===void 0?!0:e}function Po(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const o=ke;ke=void 0;try{t()}finally{ke=o}}}let Ps=0;class wl{constructor(t,o){this.sub=t,this.dep=o,this.version=o.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _o{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ke||!kt||ke===this.computed)return;let o=this.activeLink;if(o===void 0||o.sub!==ke)o=this.activeLink=new wl(ke,this),ke.deps?(o.prevDep=ke.depsTail,ke.depsTail.nextDep=o,ke.depsTail=o):ke.deps=ke.depsTail=o,Xi(o);else if(o.version===-1&&(o.version=this.version,o.nextDep)){const l=o.nextDep;l.prevDep=o.prevDep,o.prevDep&&(o.prevDep.nextDep=l),o.prevDep=ke.depsTail,o.nextDep=void 0,ke.depsTail.nextDep=o,ke.depsTail=o,ke.deps===o&&(ke.deps=l)}return o}trigger(t){this.version++,Ps++,this.notify(t)}notify(t){vo();try{for(let o=this.subs;o;o=o.prevSub)o.sub.notify()&&o.sub.dep.notify()}finally{Ro()}}}function Xi(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let l=t.deps;l;l=l.nextDep)Xi(l)}const o=e.dep.subs;o!==e&&(e.prevSub=o,o&&(o.nextSub=e)),e.dep.subs=e}}const pn=new WeakMap,ps=Symbol(""),oo=Symbol(""),Ws=Symbol("");function rt(e,t,o){if(kt&&ke){let l=pn.get(e);l||pn.set(e,l=new Map);let c=l.get(o);c||(l.set(o,c=new _o),c.map=l,c.key=o),c.track()}}function zt(e,t,o,l,c,a){const f=pn.get(e);if(!f){Ps++;return}const h=p=>{p&&p.trigger()};if(vo(),t==="clear")f.forEach(h);else{const p=ge(e),y=p&&So(o);if(p&&o==="length"){const S=Number(l);f.forEach((b,F)=>{(F==="length"||F===Ws||!ls(F)&&F>=S)&&h(b)})}else switch((o!==void 0||f.has(void 0))&&h(f.get(o)),y&&h(f.get(Ws)),t){case"add":p?y&&h(f.get("length")):(h(f.get(ps)),Is(e)&&h(f.get(oo)));break;case"delete":p||(h(f.get(ps)),Is(e)&&h(f.get(oo)));break;case"set":Is(e)&&h(f.get(ps));break}}Ro()}function El(e,t){const o=pn.get(e);return o&&o.get(t)}function Ss(e){const t=Re(e);return t===e?t:(rt(t,"iterate",Ws),Ft(e)?t:t.map(lt))}function qn(e){return rt(e=Re(e),"iterate",Ws),e}const yl={__proto__:null,[Symbol.iterator](){return Wn(this,Symbol.iterator,lt)},concat(...e){return Ss(this).concat(...e.map(t=>ge(t)?Ss(t):t))},entries(){return Wn(this,"entries",e=>(e[1]=lt(e[1]),e))},every(e,t){return Gt(this,"every",e,t,void 0,arguments)},filter(e,t){return Gt(this,"filter",e,t,o=>o.map(lt),arguments)},find(e,t){return Gt(this,"find",e,t,lt,arguments)},findIndex(e,t){return Gt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Gt(this,"findLast",e,t,lt,arguments)},findLastIndex(e,t){return Gt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Gt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Dn(this,"includes",e)},indexOf(...e){return Dn(this,"indexOf",e)},join(e){return Ss(this).join(e)},lastIndexOf(...e){return Dn(this,"lastIndexOf",e)},map(e,t){return Gt(this,"map",e,t,void 0,arguments)},pop(){return xs(this,"pop")},push(...e){return xs(this,"push",e)},reduce(e,...t){return Wo(this,"reduce",e,t)},reduceRight(e,...t){return Wo(this,"reduceRight",e,t)},shift(){return xs(this,"shift")},some(e,t){return Gt(this,"some",e,t,void 0,arguments)},splice(...e){return xs(this,"splice",e)},toReversed(){return Ss(this).toReversed()},toSorted(e){return Ss(this).toSorted(e)},toSpliced(...e){return Ss(this).toSpliced(...e)},unshift(...e){return xs(this,"unshift",e)},values(){return Wn(this,"values",lt)}};function Wn(e,t,o){const l=qn(e),c=l[t]();return l!==e&&!Ft(e)&&(c._next=c.next,c.next=()=>{const a=c._next();return a.value&&(a.value=o(a.value)),a}),c}const Sl=Array.prototype;function Gt(e,t,o,l,c,a){const f=qn(e),h=f!==e&&!Ft(e),p=f[t];if(p!==Sl[t]){const b=p.apply(e,a);return h?lt(b):b}let y=o;f!==e&&(h?y=function(b,F){return o.call(this,lt(b),F,e)}:o.length>2&&(y=function(b,F){return o.call(this,b,F,e)}));const S=p.call(f,y,l);return h&&c?c(S):S}function Wo(e,t,o,l){const c=qn(e);let a=o;return c!==e&&(Ft(e)?o.length>3&&(a=function(f,h,p){return o.call(this,f,h,p,e)}):a=function(f,h,p){return o.call(this,f,lt(h),p,e)}),c[t](a,...l)}function Dn(e,t,o){const l=Re(e);rt(l,"iterate",Ws);const c=l[t](...o);return(c===-1||c===!1)&&Fo(o[0])?(o[0]=Re(o[0]),l[t](...o)):c}function xs(e,t,o=[]){cs(),vo();const l=Re(e)[t].apply(e,o);return Ro(),us(),l}const bl=wo("__proto__,__v_isRef,__isVue"),zi=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ls));function vl(e){ls(e)||(e=String(e));const t=Re(this);return rt(t,"has",e),t.hasOwnProperty(e)}class Zi{constructor(t=!1,o=!1){this._isReadonly=t,this._isShallow=o}get(t,o,l){if(o==="__v_skip")return t.__v_skip;const c=this._isReadonly,a=this._isShallow;if(o==="__v_isReactive")return!c;if(o==="__v_isReadonly")return c;if(o==="__v_isShallow")return a;if(o==="__v_raw")return l===(c?a?Tl:tr:a?er:$i).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(l)?t:void 0;const f=ge(t);if(!c){let p;if(f&&(p=yl[o]))return p;if(o==="hasOwnProperty")return vl}const h=Reflect.get(t,o,Je(t)?t:l);return(ls(o)?zi.has(o):bl(o))||(c||rt(t,"get",o),a)?h:Je(h)?f&&So(o)?h:h.value:Qe(h)?c?sr(h):Fn(h):h}}class Hi extends Zi{constructor(t=!1){super(!1,t)}set(t,o,l,c){let a=t[o];if(!this._isShallow){const p=ws(a);if(!Ft(l)&&!ws(l)&&(a=Re(a),l=Re(l)),!ge(t)&&Je(a)&&!Je(l))return p?!1:(a.value=l,!0)}const f=ge(t)&&So(o)?Number(o)<t.length:qe(t,o),h=Reflect.set(t,o,l,Je(t)?t:c);return t===Re(c)&&(f?is(l,a)&&zt(t,"set",o,l):zt(t,"add",o,l)),h}deleteProperty(t,o){const l=qe(t,o);t[o];const c=Reflect.deleteProperty(t,o);return c&&l&&zt(t,"delete",o,void 0),c}has(t,o){const l=Reflect.has(t,o);return(!ls(o)||!zi.has(o))&&rt(t,"has",o),l}ownKeys(t){return rt(t,"iterate",ge(t)?"length":ps),Reflect.ownKeys(t)}}class Rl extends Zi{constructor(t=!1){super(!0,t)}set(t,o){return!0}deleteProperty(t,o){return!0}}const Ul=new Hi,_l=new Rl,Il=new Hi(!0);const io=e=>e,ln=e=>Reflect.getPrototypeOf(e);function ql(e,t,o){return function(...l){const c=this.__v_raw,a=Re(c),f=Is(a),h=e==="entries"||e===Symbol.iterator&&f,p=e==="keys"&&f,y=c[e](...l),S=o?io:t?ro:lt;return!t&&rt(a,"iterate",p?oo:ps),{next(){const{value:b,done:F}=y.next();return F?{value:b,done:F}:{value:h?[S(b[0]),S(b[1])]:S(b),done:F}},[Symbol.iterator](){return this}}}}function cn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Fl(e,t){const o={get(c){const a=this.__v_raw,f=Re(a),h=Re(c);e||(is(c,h)&&rt(f,"get",c),rt(f,"get",h));const{has:p}=ln(f),y=t?io:e?ro:lt;if(p.call(f,c))return y(a.get(c));if(p.call(f,h))return y(a.get(h));a!==f&&a.get(c)},get size(){const c=this.__v_raw;return!e&&rt(Re(c),"iterate",ps),Reflect.get(c,"size",c)},has(c){const a=this.__v_raw,f=Re(a),h=Re(c);return e||(is(c,h)&&rt(f,"has",c),rt(f,"has",h)),c===h?a.has(c):a.has(c)||a.has(h)},forEach(c,a){const f=this,h=f.__v_raw,p=Re(h),y=t?io:e?ro:lt;return!e&&rt(p,"iterate",ps),h.forEach((S,b)=>c.call(a,y(S),y(b),f))}};return et(o,e?{add:cn("add"),set:cn("set"),delete:cn("delete"),clear:cn("clear")}:{add(c){!t&&!Ft(c)&&!ws(c)&&(c=Re(c));const a=Re(this);return ln(a).has.call(a,c)||(a.add(c),zt(a,"add",c,c)),this},set(c,a){!t&&!Ft(a)&&!ws(a)&&(a=Re(a));const f=Re(this),{has:h,get:p}=ln(f);let y=h.call(f,c);y||(c=Re(c),y=h.call(f,c));const S=p.call(f,c);return f.set(c,a),y?is(a,S)&&zt(f,"set",c,a):zt(f,"add",c,a),this},delete(c){const a=Re(this),{has:f,get:h}=ln(a);let p=f.call(a,c);p||(c=Re(c),p=f.call(a,c)),h&&h.call(a,c);const y=a.delete(c);return p&&zt(a,"delete",c,void 0),y},clear(){const c=Re(this),a=c.size!==0,f=c.clear();return a&&zt(c,"clear",void 0,void 0),f}}),["keys","values","entries",Symbol.iterator].forEach(c=>{o[c]=ql(c,e,t)}),o}function Io(e,t){const o=Fl(e,t);return(l,c,a)=>c==="__v_isReactive"?!e:c==="__v_isReadonly"?e:c==="__v_raw"?l:Reflect.get(qe(o,c)&&c in l?o:l,c,a)}const Vl={get:Io(!1,!1)},Ml={get:Io(!1,!0)},xl={get:Io(!0,!1)};const $i=new WeakMap,er=new WeakMap,tr=new WeakMap,Tl=new WeakMap;function Cl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kl(e){return e.__v_skip||!Object.isExtensible(e)?0:Cl(rl(e))}function Fn(e){return ws(e)?e:qo(e,!1,Ul,Vl,$i)}function Nl(e){return qo(e,!1,Il,Ml,er)}function sr(e){return qo(e,!0,_l,xl,tr)}function qo(e,t,o,l,c){if(!Qe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=c.get(e);if(a)return a;const f=kl(e);if(f===0)return e;const h=new Proxy(e,f===2?l:o);return c.set(e,h),h}function Ht(e){return ws(e)?Ht(e.__v_raw):!!(e&&e.__v_isReactive)}function ws(e){return!!(e&&e.__v_isReadonly)}function Ft(e){return!!(e&&e.__v_isShallow)}function Fo(e){return e?!!e.__v_raw:!1}function Re(e){const t=e&&e.__v_raw;return t?Re(t):e}function Vn(e){return!qe(e,"__v_skip")&&Object.isExtensible(e)&&Ni(e,"__v_skip",!0),e}const lt=e=>Qe(e)?Fn(e):e,ro=e=>Qe(e)?sr(e):e;function Je(e){return e?e.__v_isRef===!0:!1}function Le(e){return nr(e,!1)}function Al(e){return nr(e,!0)}function nr(e,t){return Je(e)?e:new Kl(e,t)}class Kl{constructor(t,o){this.dep=new _o,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=o?t:Re(t),this._value=o?t:lt(t),this.__v_isShallow=o}get value(){return this.dep.track(),this._value}set value(t){const o=this._rawValue,l=this.__v_isShallow||Ft(t)||ws(t);t=l?t:Re(t),is(t,o)&&(this._rawValue=t,this._value=l?t:lt(t),this.dep.trigger())}}function Be(e){return Je(e)?e.value:e}const Ol={get:(e,t,o)=>t==="__v_raw"?e:Be(Reflect.get(e,t,o)),set:(e,t,o,l)=>{const c=e[t];return Je(c)&&!Je(o)?(c.value=o,!0):Reflect.set(e,t,o,l)}};function or(e){return Ht(e)?e:new Proxy(e,Ol)}function jl(e){const t=ge(e)?new Array(e.length):{};for(const o in e)t[o]=ir(e,o);return t}class Jl{constructor(t,o,l){this._object=t,this._key=o,this._defaultValue=l,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return El(Re(this._object),this._key)}}class Ql{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Ll(e,t,o){return Je(e)?e:me(e)?new Ql(e):Qe(e)&&arguments.length>1?ir(e,t,o):Le(e)}function ir(e,t,o){const l=e[t];return Je(l)?l:new Jl(e,t,o)}class Pl{constructor(t,o,l){this.fn=t,this.setter=o,this._value=void 0,this.dep=new _o(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ps-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!o,this.isSSR=l}notify(){if(this.flags|=16,!(this.flags&8)&&ke!==this)return Wi(this,!0),!0}get value(){const t=this.dep.track();return Bi(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Wl(e,t,o=!1){let l,c;return me(e)?l=e:(l=e.get,c=e.set),new Pl(l,c,o)}const un={},gn=new WeakMap;let hs;function Dl(e,t=!1,o=hs){if(o){let l=gn.get(o);l||gn.set(o,l=[]),l.push(e)}}function Yl(e,t,o=Te){const{immediate:l,deep:c,once:a,scheduler:f,augmentJob:h,call:p}=o,y=B=>c?B:Ft(B)||c===!1||c===0?Zt(B,1):Zt(B);let S,b,F,V,k=!1,O=!1;if(Je(e)?(b=()=>e.value,k=Ft(e)):Ht(e)?(b=()=>y(e),k=!0):ge(e)?(O=!0,k=e.some(B=>Ht(B)||Ft(B)),b=()=>e.map(B=>{if(Je(B))return B.value;if(Ht(B))return y(B);if(me(B))return p?p(B,2):B()})):me(e)?t?b=p?()=>p(e,2):e:b=()=>{if(F){cs();try{F()}finally{us()}}const B=hs;hs=S;try{return p?p(e,3,[V]):e(V)}finally{hs=B}}:b=Pt,t&&c){const B=b,ne=c===!0?1/0:c;b=()=>Zt(B(),ne)}const Z=Qi(),H=()=>{S.stop(),Z&&Z.active&&yo(Z.effects,S)};if(a&&t){const B=t;t=(...ne)=>{B(...ne),H()}}let X=O?new Array(e.length).fill(un):un;const oe=B=>{if(!(!(S.flags&1)||!S.dirty&&!B))if(t){const ne=S.run();if(c||k||(O?ne.some((ye,Fe)=>is(ye,X[Fe])):is(ne,X))){F&&F();const ye=hs;hs=S;try{const Fe=[ne,X===un?void 0:O&&X[0]===un?[]:X,V];p?p(t,3,Fe):t(...Fe),X=ne}finally{hs=ye}}}else S.run()};return h&&h(oe),S=new Li(b),S.scheduler=f?()=>f(oe,!1):oe,V=B=>Dl(B,!1,S),F=S.onStop=()=>{const B=gn.get(S);if(B){if(p)p(B,4);else for(const ne of B)ne();gn.delete(S)}},t?l?oe(!0):X=S.run():f?f(oe.bind(null,!0),!0):S.run(),H.pause=S.pause.bind(S),H.resume=S.resume.bind(S),H.stop=H,H}function Zt(e,t=1/0,o){if(t<=0||!Qe(e)||e.__v_skip||(o=o||new Set,o.has(e)))return e;if(o.add(e),t--,Je(e))Zt(e.value,t,o);else if(ge(e))for(let l=0;l<e.length;l++)Zt(e[l],t,o);else if(Mi(e)||Is(e))e.forEach(l=>{Zt(l,t,o)});else if(Ci(e)){for(const l in e)Zt(e[l],t,o);for(const l of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,l)&&Zt(e[l],t,o)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Xs(e,t,o,l){try{return l?e(...l):e()}catch(c){Mn(c,t,o)}}function Wt(e,t,o,l){if(me(e)){const c=Xs(e,t,o,l);return c&&xi(c)&&c.catch(a=>{Mn(a,t,o)}),c}if(ge(e)){const c=[];for(let a=0;a<e.length;a++)c.push(Wt(e[a],t,o,l));return c}}function Mn(e,t,o,l=!0){const c=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:f}=t&&t.appContext.config||Te;if(t){let h=t.parent;const p=t.proxy,y=`https://vuejs.org/error-reference/#runtime-${o}`;for(;h;){const S=h.ec;if(S){for(let b=0;b<S.length;b++)if(S[b](e,p,y)===!1)return}h=h.parent}if(a){cs(),Xs(a,null,10,[e,p,y]),us();return}}Bl(e,o,c,l,f)}function Bl(e,t,o,l=!0,c=!1){if(c)throw e;console.error(e)}const gt=[];let Jt=-1;const qs=[];let ns=null,vs=0;const rr=Promise.resolve();let mn=null;function Vo(e){const t=mn||rr;return e?t.then(this?e.bind(this):e):t}function Gl(e){let t=Jt+1,o=gt.length;for(;t<o;){const l=t+o>>>1,c=gt[l],a=Ds(c);a<e||a===e&&c.flags&2?t=l+1:o=l}return t}function Mo(e){if(!(e.flags&1)){const t=Ds(e),o=gt[gt.length-1];!o||!(e.flags&2)&&t>=Ds(o)?gt.push(e):gt.splice(Gl(t),0,e),e.flags|=1,lr()}}function lr(){mn||(mn=rr.then(ur))}function Xl(e){ge(e)?qs.push(...e):ns&&e.id===-1?ns.splice(vs+1,0,e):e.flags&1||(qs.push(e),e.flags|=1),lr()}function Do(e,t,o=Jt+1){for(;o<gt.length;o++){const l=gt[o];if(l&&l.flags&2){if(e&&l.id!==e.uid)continue;gt.splice(o,1),o--,l.flags&4&&(l.flags&=-2),l(),l.flags&4||(l.flags&=-2)}}}function cr(e){if(qs.length){const t=[...new Set(qs)].sort((o,l)=>Ds(o)-Ds(l));if(qs.length=0,ns){ns.push(...t);return}for(ns=t,vs=0;vs<ns.length;vs++){const o=ns[vs];o.flags&4&&(o.flags&=-2),o.flags&8||o(),o.flags&=-2}ns=null,vs=0}}const Ds=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ur(e){try{for(Jt=0;Jt<gt.length;Jt++){const t=gt[Jt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Xs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Jt<gt.length;Jt++){const t=gt[Jt];t&&(t.flags&=-2)}Jt=-1,gt.length=0,cr(),mn=null,(gt.length||qs.length)&&ur()}}let Rt=null,ar=null;function wn(e){const t=Rt;return Rt=e,ar=e&&e.type.__scopeId||null,t}function zl(e,t=Rt,o){if(!t||e._n)return e;const l=(...c)=>{l._d&&$o(-1);const a=wn(t);let f;try{f=e(...c)}finally{wn(a),l._d&&$o(1)}return f};return l._n=!0,l._c=!0,l._d=!0,l}function Zl(e,t){if(Rt===null)return e;const o=Nn(Rt),l=e.dirs||(e.dirs=[]);for(let c=0;c<t.length;c++){let[a,f,h,p=Te]=t[c];a&&(me(a)&&(a={mounted:a,updated:a}),a.deep&&Zt(f),l.push({dir:a,instance:o,value:f,oldValue:void 0,arg:h,modifiers:p}))}return e}function as(e,t,o,l){const c=e.dirs,a=t&&t.dirs;for(let f=0;f<c.length;f++){const h=c[f];a&&(h.oldValue=a[f].value);let p=h.dir[l];p&&(cs(),Wt(p,o,8,[e.el,h,e,t]),us())}}const Hl=Symbol("_vte"),$l=e=>e.__isTeleport;function xo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,xo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Dt(e,t){return me(e)?et({name:e.name},t,{setup:e}):e}function fr(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function En(e,t,o,l,c=!1){if(ge(e)){e.forEach((k,O)=>En(k,t&&(ge(t)?t[O]:t),o,l,c));return}if(Ks(l)&&!c){l.shapeFlag&512&&l.type.__asyncResolved&&l.component.subTree.component&&En(e,t,o,l.component.subTree);return}const a=l.shapeFlag&4?Nn(l.component):l.el,f=c?null:a,{i:h,r:p}=e,y=t&&t.r,S=h.refs===Te?h.refs={}:h.refs,b=h.setupState,F=Re(b),V=b===Te?()=>!1:k=>qe(F,k);if(y!=null&&y!==p&&(Ge(y)?(S[y]=null,V(y)&&(b[y]=null)):Je(y)&&(y.value=null)),me(p))Xs(p,h,12,[f,S]);else{const k=Ge(p),O=Je(p);if(k||O){const Z=()=>{if(e.f){const H=k?V(p)?b[p]:S[p]:p.value;c?ge(H)&&yo(H,a):ge(H)?H.includes(a)||H.push(a):k?(S[p]=[a],V(p)&&(b[p]=S[p])):(p.value=[a],e.k&&(S[e.k]=p.value))}else k?(S[p]=f,V(p)&&(b[p]=f)):O&&(p.value=f,e.k&&(S[e.k]=f))};f?(Z.id=-1,vt(Z,o)):Z()}}}In().requestIdleCallback;In().cancelIdleCallback;const Ks=e=>!!e.type.__asyncLoader,hr=e=>e.type.__isKeepAlive;function ec(e,t){dr(e,"a",t)}function tc(e,t){dr(e,"da",t)}function dr(e,t,o=ct){const l=e.__wdc||(e.__wdc=()=>{let c=o;for(;c;){if(c.isDeactivated)return;c=c.parent}return e()});if(xn(t,l,o),o){let c=o.parent;for(;c&&c.parent;)hr(c.parent.vnode)&&sc(l,t,o,c),c=c.parent}}function sc(e,t,o,l){const c=xn(t,e,l,!0);To(()=>{yo(l[t],c)},o)}function xn(e,t,o=ct,l=!1){if(o){const c=o[e]||(o[e]=[]),a=t.__weh||(t.__weh=(...f)=>{cs();const h=zs(o),p=Wt(t,o,e,f);return h(),us(),p});return l?c.unshift(a):c.push(a),a}}const $t=e=>(t,o=ct)=>{(!Bs||e==="sp")&&xn(e,(...l)=>t(...l),o)},nc=$t("bm"),Tn=$t("m"),oc=$t("bu"),ic=$t("u"),pr=$t("bum"),To=$t("um"),rc=$t("sp"),lc=$t("rtg"),cc=$t("rtc");function uc(e,t=ct){xn("ec",e,t)}const ac=Symbol.for("v-ndc");function gr(e,t,o,l){let c;const a=o,f=ge(e);if(f||Ge(e)){const h=f&&Ht(e);let p=!1;h&&(p=!Ft(e),e=qn(e)),c=new Array(e.length);for(let y=0,S=e.length;y<S;y++)c[y]=t(p?lt(e[y]):e[y],y,void 0,a)}else if(typeof e=="number"){c=new Array(e);for(let h=0;h<e;h++)c[h]=t(h+1,h,void 0,a)}else if(Qe(e))if(e[Symbol.iterator])c=Array.from(e,(h,p)=>t(h,p,void 0,a));else{const h=Object.keys(e);c=new Array(h.length);for(let p=0,y=h.length;p<y;p++){const S=h[p];c[p]=t(e[S],S,p,a)}}else c=[];return c}const lo=e=>e?Ar(e)?Nn(e):lo(e.parent):null,Os=et(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>lo(e.parent),$root:e=>lo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Co(e),$forceUpdate:e=>e.f||(e.f=()=>{Mo(e.update)}),$nextTick:e=>e.n||(e.n=Vo.bind(e.proxy)),$watch:e=>Cc.bind(e)}),Yn=(e,t)=>e!==Te&&!e.__isScriptSetup&&qe(e,t),fc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:o,setupState:l,data:c,props:a,accessCache:f,type:h,appContext:p}=e;let y;if(t[0]!=="$"){const V=f[t];if(V!==void 0)switch(V){case 1:return l[t];case 2:return c[t];case 4:return o[t];case 3:return a[t]}else{if(Yn(l,t))return f[t]=1,l[t];if(c!==Te&&qe(c,t))return f[t]=2,c[t];if((y=e.propsOptions[0])&&qe(y,t))return f[t]=3,a[t];if(o!==Te&&qe(o,t))return f[t]=4,o[t];co&&(f[t]=0)}}const S=Os[t];let b,F;if(S)return t==="$attrs"&&rt(e.attrs,"get",""),S(e);if((b=h.__cssModules)&&(b=b[t]))return b;if(o!==Te&&qe(o,t))return f[t]=4,o[t];if(F=p.config.globalProperties,qe(F,t))return F[t]},set({_:e},t,o){const{data:l,setupState:c,ctx:a}=e;return Yn(c,t)?(c[t]=o,!0):l!==Te&&qe(l,t)?(l[t]=o,!0):qe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=o,!0)},has({_:{data:e,setupState:t,accessCache:o,ctx:l,appContext:c,propsOptions:a}},f){let h;return!!o[f]||e!==Te&&qe(e,f)||Yn(t,f)||(h=a[0])&&qe(h,f)||qe(l,f)||qe(Os,f)||qe(c.config.globalProperties,f)},defineProperty(e,t,o){return o.get!=null?e._.accessCache[t]=0:qe(o,"value")&&this.set(e,t,o.value,null),Reflect.defineProperty(e,t,o)}};function Yo(e){return ge(e)?e.reduce((t,o)=>(t[o]=null,t),{}):e}let co=!0;function hc(e){const t=Co(e),o=e.proxy,l=e.ctx;co=!1,t.beforeCreate&&Bo(t.beforeCreate,e,"bc");const{data:c,computed:a,methods:f,watch:h,provide:p,inject:y,created:S,beforeMount:b,mounted:F,beforeUpdate:V,updated:k,activated:O,deactivated:Z,beforeDestroy:H,beforeUnmount:X,destroyed:oe,unmounted:B,render:ne,renderTracked:ye,renderTriggered:Fe,errorCaptured:de,serverPrefetch:we,expose:Ne,inheritAttrs:tt,components:ot,directives:wt,filters:Vt}=t;if(y&&dc(y,l,null),f)for(const Ee in f){const _e=f[Ee];me(_e)&&(l[Ee]=_e.bind(o))}if(c){const Ee=c.call(o,o);Qe(Ee)&&(e.data=Fn(Ee))}if(co=!0,a)for(const Ee in a){const _e=a[Ee],_t=me(_e)?_e.bind(o,o):me(_e.get)?_e.get.bind(o,o):Pt,Yt=!me(_e)&&me(_e.set)?_e.set.bind(o):Pt,It=$e({get:_t,set:Yt});Object.defineProperty(l,Ee,{enumerable:!0,configurable:!0,get:()=>It.value,set:le=>It.value=le})}if(h)for(const Ee in h)mr(h[Ee],l,o,Ee);if(p){const Ee=me(p)?p.call(o):p;Reflect.ownKeys(Ee).forEach(_e=>{yc(_e,Ee[_e])})}S&&Bo(S,e,"c");function Ce(Ee,_e){ge(_e)?_e.forEach(_t=>Ee(_t.bind(o))):_e&&Ee(_e.bind(o))}if(Ce(nc,b),Ce(Tn,F),Ce(oc,V),Ce(ic,k),Ce(ec,O),Ce(tc,Z),Ce(uc,de),Ce(cc,ye),Ce(lc,Fe),Ce(pr,X),Ce(To,B),Ce(rc,we),ge(Ne))if(Ne.length){const Ee=e.exposed||(e.exposed={});Ne.forEach(_e=>{Object.defineProperty(Ee,_e,{get:()=>o[_e],set:_t=>o[_e]=_t})})}else e.exposed||(e.exposed={});ne&&e.render===Pt&&(e.render=ne),tt!=null&&(e.inheritAttrs=tt),ot&&(e.components=ot),wt&&(e.directives=wt),we&&fr(e)}function dc(e,t,o=Pt){ge(e)&&(e=uo(e));for(const l in e){const c=e[l];let a;Qe(c)?"default"in c?a=js(c.from||l,c.default,!0):a=js(c.from||l):a=js(c),Je(a)?Object.defineProperty(t,l,{enumerable:!0,configurable:!0,get:()=>a.value,set:f=>a.value=f}):t[l]=a}}function Bo(e,t,o){Wt(ge(e)?e.map(l=>l.bind(t.proxy)):e.bind(t.proxy),t,o)}function mr(e,t,o,l){let c=l.includes(".")?Mr(o,l):()=>o[l];if(Ge(e)){const a=t[e];me(a)&&ms(c,a)}else if(me(e))ms(c,e.bind(o));else if(Qe(e))if(ge(e))e.forEach(a=>mr(a,t,o,l));else{const a=me(e.handler)?e.handler.bind(o):t[e.handler];me(a)&&ms(c,a,e)}}function Co(e){const t=e.type,{mixins:o,extends:l}=t,{mixins:c,optionsCache:a,config:{optionMergeStrategies:f}}=e.appContext,h=a.get(t);let p;return h?p=h:!c.length&&!o&&!l?p=t:(p={},c.length&&c.forEach(y=>yn(p,y,f,!0)),yn(p,t,f)),Qe(t)&&a.set(t,p),p}function yn(e,t,o,l=!1){const{mixins:c,extends:a}=t;a&&yn(e,a,o,!0),c&&c.forEach(f=>yn(e,f,o,!0));for(const f in t)if(!(l&&f==="expose")){const h=pc[f]||o&&o[f];e[f]=h?h(e[f],t[f]):t[f]}return e}const pc={data:Go,props:Xo,emits:Xo,methods:Cs,computed:Cs,beforeCreate:dt,created:dt,beforeMount:dt,mounted:dt,beforeUpdate:dt,updated:dt,beforeDestroy:dt,beforeUnmount:dt,destroyed:dt,unmounted:dt,activated:dt,deactivated:dt,errorCaptured:dt,serverPrefetch:dt,components:Cs,directives:Cs,watch:mc,provide:Go,inject:gc};function Go(e,t){return t?e?function(){return et(me(e)?e.call(this,this):e,me(t)?t.call(this,this):t)}:t:e}function gc(e,t){return Cs(uo(e),uo(t))}function uo(e){if(ge(e)){const t={};for(let o=0;o<e.length;o++)t[e[o]]=e[o];return t}return e}function dt(e,t){return e?[...new Set([].concat(e,t))]:t}function Cs(e,t){return e?et(Object.create(null),e,t):t}function Xo(e,t){return e?ge(e)&&ge(t)?[...new Set([...e,...t])]:et(Object.create(null),Yo(e),Yo(t??{})):t}function mc(e,t){if(!e)return t;if(!t)return e;const o=et(Object.create(null),e);for(const l in t)o[l]=dt(e[l],t[l]);return o}function wr(){return{app:null,config:{isNativeTag:ol,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wc=0;function Ec(e,t){return function(l,c=null){me(l)||(l=et({},l)),c!=null&&!Qe(c)&&(c=null);const a=wr(),f=new WeakSet,h=[];let p=!1;const y=a.app={_uid:wc++,_component:l,_props:c,_container:null,_context:a,_instance:null,version:eu,get config(){return a.config},set config(S){},use(S,...b){return f.has(S)||(S&&me(S.install)?(f.add(S),S.install(y,...b)):me(S)&&(f.add(S),S(y,...b))),y},mixin(S){return a.mixins.includes(S)||a.mixins.push(S),y},component(S,b){return b?(a.components[S]=b,y):a.components[S]},directive(S,b){return b?(a.directives[S]=b,y):a.directives[S]},mount(S,b,F){if(!p){const V=y._ceVNode||Ze(l,c);return V.appContext=a,F===!0?F="svg":F===!1&&(F=void 0),b&&t?t(V,S):e(V,S,F),p=!0,y._container=S,S.__vue_app__=y,Nn(V.component)}},onUnmount(S){h.push(S)},unmount(){p&&(Wt(h,y._instance,16),e(null,y._container),delete y._container.__vue_app__)},provide(S,b){return a.provides[S]=b,y},runWithContext(S){const b=gs;gs=y;try{return S()}finally{gs=b}}};return y}}let gs=null;function yc(e,t){if(ct){let o=ct.provides;const l=ct.parent&&ct.parent.provides;l===o&&(o=ct.provides=Object.create(l)),o[e]=t}}function js(e,t,o=!1){const l=ct||Rt;if(l||gs){const c=gs?gs._context.provides:l?l.parent==null?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides:void 0;if(c&&e in c)return c[e];if(arguments.length>1)return o&&me(t)?t.call(l&&l.proxy):t}}function Sc(){return!!(ct||Rt||gs)}const Er={},yr=()=>Object.create(Er),Sr=e=>Object.getPrototypeOf(e)===Er;function bc(e,t,o,l=!1){const c={},a=yr();e.propsDefaults=Object.create(null),br(e,t,c,a);for(const f in e.propsOptions[0])f in c||(c[f]=void 0);o?e.props=l?c:Nl(c):e.type.props?e.props=c:e.props=a,e.attrs=a}function vc(e,t,o,l){const{props:c,attrs:a,vnode:{patchFlag:f}}=e,h=Re(c),[p]=e.propsOptions;let y=!1;if((l||f>0)&&!(f&16)){if(f&8){const S=e.vnode.dynamicProps;for(let b=0;b<S.length;b++){let F=S[b];if(Cn(e.emitsOptions,F))continue;const V=t[F];if(p)if(qe(a,F))V!==a[F]&&(a[F]=V,y=!0);else{const k=rs(F);c[k]=ao(p,h,k,V,e,!1)}else V!==a[F]&&(a[F]=V,y=!0)}}}else{br(e,t,c,a)&&(y=!0);let S;for(const b in h)(!t||!qe(t,b)&&((S=ys(b))===b||!qe(t,S)))&&(p?o&&(o[b]!==void 0||o[S]!==void 0)&&(c[b]=ao(p,h,b,void 0,e,!0)):delete c[b]);if(a!==h)for(const b in a)(!t||!qe(t,b))&&(delete a[b],y=!0)}y&&zt(e.attrs,"set","")}function br(e,t,o,l){const[c,a]=e.propsOptions;let f=!1,h;if(t)for(let p in t){if(ks(p))continue;const y=t[p];let S;c&&qe(c,S=rs(p))?!a||!a.includes(S)?o[S]=y:(h||(h={}))[S]=y:Cn(e.emitsOptions,p)||(!(p in l)||y!==l[p])&&(l[p]=y,f=!0)}if(a){const p=Re(o),y=h||Te;for(let S=0;S<a.length;S++){const b=a[S];o[b]=ao(c,p,b,y[b],e,!qe(y,b))}}return f}function ao(e,t,o,l,c,a){const f=e[o];if(f!=null){const h=qe(f,"default");if(h&&l===void 0){const p=f.default;if(f.type!==Function&&!f.skipFactory&&me(p)){const{propsDefaults:y}=c;if(o in y)l=y[o];else{const S=zs(c);l=y[o]=p.call(null,t),S()}}else l=p;c.ce&&c.ce._setProp(o,l)}f[0]&&(a&&!h?l=!1:f[1]&&(l===""||l===ys(o))&&(l=!0))}return l}const Rc=new WeakMap;function vr(e,t,o=!1){const l=o?Rc:t.propsCache,c=l.get(e);if(c)return c;const a=e.props,f={},h=[];let p=!1;if(!me(e)){const S=b=>{p=!0;const[F,V]=vr(b,t,!0);et(f,F),V&&h.push(...V)};!o&&t.mixins.length&&t.mixins.forEach(S),e.extends&&S(e.extends),e.mixins&&e.mixins.forEach(S)}if(!a&&!p)return Qe(e)&&l.set(e,_s),_s;if(ge(a))for(let S=0;S<a.length;S++){const b=rs(a[S]);zo(b)&&(f[b]=Te)}else if(a)for(const S in a){const b=rs(S);if(zo(b)){const F=a[S],V=f[b]=ge(F)||me(F)?{type:F}:et({},F),k=V.type;let O=!1,Z=!0;if(ge(k))for(let H=0;H<k.length;++H){const X=k[H],oe=me(X)&&X.name;if(oe==="Boolean"){O=!0;break}else oe==="String"&&(Z=!1)}else O=me(k)&&k.name==="Boolean";V[0]=O,V[1]=Z,(O||qe(V,"default"))&&h.push(b)}}const y=[f,h];return Qe(e)&&l.set(e,y),y}function zo(e){return e[0]!=="$"&&!ks(e)}const Rr=e=>e[0]==="_"||e==="$stable",ko=e=>ge(e)?e.map(Lt):[Lt(e)],Uc=(e,t,o)=>{if(t._n)return t;const l=zl((...c)=>ko(t(...c)),o);return l._c=!1,l},Ur=(e,t,o)=>{const l=e._ctx;for(const c in e){if(Rr(c))continue;const a=e[c];if(me(a))t[c]=Uc(c,a,l);else if(a!=null){const f=ko(a);t[c]=()=>f}}},_r=(e,t)=>{const o=ko(t);e.slots.default=()=>o},Ir=(e,t,o)=>{for(const l in t)(o||l!=="_")&&(e[l]=t[l])},_c=(e,t,o)=>{const l=e.slots=yr();if(e.vnode.shapeFlag&32){const c=t._;c?(Ir(l,t,o),o&&Ni(l,"_",c,!0)):Ur(t,l)}else t&&_r(e,t)},Ic=(e,t,o)=>{const{vnode:l,slots:c}=e;let a=!0,f=Te;if(l.shapeFlag&32){const h=t._;h?o&&h===1?a=!1:Ir(c,t,o):(a=!t.$stable,Ur(t,c)),f=t}else t&&(_r(e,t),f={default:1});if(a)for(const h in c)!Rr(h)&&f[h]==null&&delete c[h]},vt=Jc;function qc(e){return Fc(e)}function Fc(e,t){const o=In();o.__VUE__=!0;const{insert:l,remove:c,patchProp:a,createElement:f,createText:h,createComment:p,setText:y,setElementText:S,parentNode:b,nextSibling:F,setScopeId:V=Pt,insertStaticContent:k}=e,O=(R,_,T,Q=null,A=null,j=null,D=void 0,G=null,Y=!!_.dynamicChildren)=>{if(R===_)return;R&&!Ts(R,_)&&(Q=ut(R),le(R,A,j,!0),R=null),_.patchFlag===-2&&(Y=!1,_.dynamicChildren=null);const{type:K,ref:ce,shapeFlag:z}=_;switch(K){case kn:Z(R,_,T,Q);break;case Es:H(R,_,T,Q);break;case Xn:R==null&&X(_,T,Q,D);break;case Ct:ot(R,_,T,Q,A,j,D,G,Y);break;default:z&1?ne(R,_,T,Q,A,j,D,G,Y):z&6?wt(R,_,T,Q,A,j,D,G,Y):(z&64||z&128)&&K.process(R,_,T,Q,A,j,D,G,Y,Kt)}ce!=null&&A&&En(ce,R&&R.ref,j,_||R,!_)},Z=(R,_,T,Q)=>{if(R==null)l(_.el=h(_.children),T,Q);else{const A=_.el=R.el;_.children!==R.children&&y(A,_.children)}},H=(R,_,T,Q)=>{R==null?l(_.el=p(_.children||""),T,Q):_.el=R.el},X=(R,_,T,Q)=>{[R.el,R.anchor]=k(R.children,_,T,Q,R.el,R.anchor)},oe=({el:R,anchor:_},T,Q)=>{let A;for(;R&&R!==_;)A=F(R),l(R,T,Q),R=A;l(_,T,Q)},B=({el:R,anchor:_})=>{let T;for(;R&&R!==_;)T=F(R),c(R),R=T;c(_)},ne=(R,_,T,Q,A,j,D,G,Y)=>{_.type==="svg"?D="svg":_.type==="math"&&(D="mathml"),R==null?ye(_,T,Q,A,j,D,G,Y):we(R,_,A,j,D,G,Y)},ye=(R,_,T,Q,A,j,D,G)=>{let Y,K;const{props:ce,shapeFlag:z,transition:ie,dirs:fe}=R;if(Y=R.el=f(R.type,j,ce&&ce.is,ce),z&8?S(Y,R.children):z&16&&de(R.children,Y,null,Q,A,Bn(R,j),D,G),fe&&as(R,null,Q,"created"),Fe(Y,R,R.scopeId,D,Q),ce){for(const Me in ce)Me!=="value"&&!ks(Me)&&a(Y,Me,null,ce[Me],j,Q);"value"in ce&&a(Y,"value",null,ce.value,j),(K=ce.onVnodeBeforeMount)&&jt(K,Q,R)}fe&&as(R,null,Q,"beforeMount");const Se=Vc(A,ie);Se&&ie.beforeEnter(Y),l(Y,_,T),((K=ce&&ce.onVnodeMounted)||Se||fe)&&vt(()=>{K&&jt(K,Q,R),Se&&ie.enter(Y),fe&&as(R,null,Q,"mounted")},A)},Fe=(R,_,T,Q,A)=>{if(T&&V(R,T),Q)for(let j=0;j<Q.length;j++)V(R,Q[j]);if(A){let j=A.subTree;if(_===j||Tr(j.type)&&(j.ssContent===_||j.ssFallback===_)){const D=A.vnode;Fe(R,D,D.scopeId,D.slotScopeIds,A.parent)}}},de=(R,_,T,Q,A,j,D,G,Y=0)=>{for(let K=Y;K<R.length;K++){const ce=R[K]=G?os(R[K]):Lt(R[K]);O(null,ce,_,T,Q,A,j,D,G)}},we=(R,_,T,Q,A,j,D)=>{const G=_.el=R.el;let{patchFlag:Y,dynamicChildren:K,dirs:ce}=_;Y|=R.patchFlag&16;const z=R.props||Te,ie=_.props||Te;let fe;if(T&&fs(T,!1),(fe=ie.onVnodeBeforeUpdate)&&jt(fe,T,_,R),ce&&as(_,R,T,"beforeUpdate"),T&&fs(T,!0),(z.innerHTML&&ie.innerHTML==null||z.textContent&&ie.textContent==null)&&S(G,""),K?Ne(R.dynamicChildren,K,G,T,Q,Bn(_,A),j):D||_e(R,_,G,null,T,Q,Bn(_,A),j,!1),Y>0){if(Y&16)tt(G,z,ie,T,A);else if(Y&2&&z.class!==ie.class&&a(G,"class",null,ie.class,A),Y&4&&a(G,"style",z.style,ie.style,A),Y&8){const Se=_.dynamicProps;for(let Me=0;Me<Se.length;Me++){const Ie=Se[Me],at=z[Ie],He=ie[Ie];(He!==at||Ie==="value")&&a(G,Ie,at,He,A,T)}}Y&1&&R.children!==_.children&&S(G,_.children)}else!D&&K==null&&tt(G,z,ie,T,A);((fe=ie.onVnodeUpdated)||ce)&&vt(()=>{fe&&jt(fe,T,_,R),ce&&as(_,R,T,"updated")},Q)},Ne=(R,_,T,Q,A,j,D)=>{for(let G=0;G<_.length;G++){const Y=R[G],K=_[G],ce=Y.el&&(Y.type===Ct||!Ts(Y,K)||Y.shapeFlag&70)?b(Y.el):T;O(Y,K,ce,null,Q,A,j,D,!0)}},tt=(R,_,T,Q,A)=>{if(_!==T){if(_!==Te)for(const j in _)!ks(j)&&!(j in T)&&a(R,j,_[j],null,A,Q);for(const j in T){if(ks(j))continue;const D=T[j],G=_[j];D!==G&&j!=="value"&&a(R,j,G,D,A,Q)}"value"in T&&a(R,"value",_.value,T.value,A)}},ot=(R,_,T,Q,A,j,D,G,Y)=>{const K=_.el=R?R.el:h(""),ce=_.anchor=R?R.anchor:h("");let{patchFlag:z,dynamicChildren:ie,slotScopeIds:fe}=_;fe&&(G=G?G.concat(fe):fe),R==null?(l(K,T,Q),l(ce,T,Q),de(_.children||[],T,ce,A,j,D,G,Y)):z>0&&z&64&&ie&&R.dynamicChildren?(Ne(R.dynamicChildren,ie,T,A,j,D,G),(_.key!=null||A&&_===A.subTree)&&qr(R,_,!0)):_e(R,_,T,ce,A,j,D,G,Y)},wt=(R,_,T,Q,A,j,D,G,Y)=>{_.slotScopeIds=G,R==null?_.shapeFlag&512?A.ctx.activate(_,T,Q,D,Y):Vt(_,T,Q,A,j,D,Y):At(R,_,Y)},Vt=(R,_,T,Q,A,j,D)=>{const G=R.component=Gc(R,Q,A);if(hr(R)&&(G.ctx.renderer=Kt),Xc(G,!1,D),G.asyncDep){if(A&&A.registerDep(G,Ce,D),!R.el){const Y=G.subTree=Ze(Es);H(null,Y,_,T)}}else Ce(G,R,_,T,A,j,D)},At=(R,_,T)=>{const Q=_.component=R.component;if(Oc(R,_,T))if(Q.asyncDep&&!Q.asyncResolved){Ee(Q,_,T);return}else Q.next=_,Q.update();else _.el=R.el,Q.vnode=_},Ce=(R,_,T,Q,A,j,D)=>{const G=()=>{if(R.isMounted){let{next:z,bu:ie,u:fe,parent:Se,vnode:Me}=R;{const ft=Fr(R);if(ft){z&&(z.el=Me.el,Ee(R,z,D)),ft.asyncDep.then(()=>{R.isUnmounted||G()});return}}let Ie=z,at;fs(R,!1),z?(z.el=Me.el,Ee(R,z,D)):z=Me,ie&&fn(ie),(at=z.props&&z.props.onVnodeBeforeUpdate)&&jt(at,Se,z,Me),fs(R,!0);const He=Gn(R),yt=R.subTree;R.subTree=He,O(yt,He,b(yt.el),ut(yt),R,A,j),z.el=He.el,Ie===null&&jc(R,He.el),fe&&vt(fe,A),(at=z.props&&z.props.onVnodeUpdated)&&vt(()=>jt(at,Se,z,Me),A)}else{let z;const{el:ie,props:fe}=_,{bm:Se,m:Me,parent:Ie,root:at,type:He}=R,yt=Ks(_);if(fs(R,!1),Se&&fn(Se),!yt&&(z=fe&&fe.onVnodeBeforeMount)&&jt(z,Ie,_),fs(R,!0),ie&&$s){const ft=()=>{R.subTree=Gn(R),$s(ie,R.subTree,R,A,null)};yt&&He.__asyncHydrate?He.__asyncHydrate(ie,R,ft):ft()}else{at.ce&&at.ce._injectChildStyle(He);const ft=R.subTree=Gn(R);O(null,ft,T,Q,R,A,j),_.el=ft.el}if(Me&&vt(Me,A),!yt&&(z=fe&&fe.onVnodeMounted)){const ft=_;vt(()=>jt(z,Ie,ft),A)}(_.shapeFlag&256||Ie&&Ks(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&R.a&&vt(R.a,A),R.isMounted=!0,_=T=Q=null}};R.scope.on();const Y=R.effect=new Li(G);R.scope.off();const K=R.update=Y.run.bind(Y),ce=R.job=Y.runIfDirty.bind(Y);ce.i=R,ce.id=R.uid,Y.scheduler=()=>Mo(ce),fs(R,!0),K()},Ee=(R,_,T)=>{_.component=R;const Q=R.vnode.props;R.vnode=_,R.next=null,vc(R,_.props,Q,T),Ic(R,_.children,T),cs(),Do(R),us()},_e=(R,_,T,Q,A,j,D,G,Y=!1)=>{const K=R&&R.children,ce=R?R.shapeFlag:0,z=_.children,{patchFlag:ie,shapeFlag:fe}=_;if(ie>0){if(ie&128){Yt(K,z,T,Q,A,j,D,G,Y);return}else if(ie&256){_t(K,z,T,Q,A,j,D,G,Y);return}}fe&8?(ce&16&&Ye(K,A,j),z!==K&&S(T,z)):ce&16?fe&16?Yt(K,z,T,Q,A,j,D,G,Y):Ye(K,A,j,!0):(ce&8&&S(T,""),fe&16&&de(z,T,Q,A,j,D,G,Y))},_t=(R,_,T,Q,A,j,D,G,Y)=>{R=R||_s,_=_||_s;const K=R.length,ce=_.length,z=Math.min(K,ce);let ie;for(ie=0;ie<z;ie++){const fe=_[ie]=Y?os(_[ie]):Lt(_[ie]);O(R[ie],fe,T,null,A,j,D,G,Y)}K>ce?Ye(R,A,j,!0,!1,z):de(_,T,Q,A,j,D,G,Y,z)},Yt=(R,_,T,Q,A,j,D,G,Y)=>{let K=0;const ce=_.length;let z=R.length-1,ie=ce-1;for(;K<=z&&K<=ie;){const fe=R[K],Se=_[K]=Y?os(_[K]):Lt(_[K]);if(Ts(fe,Se))O(fe,Se,T,null,A,j,D,G,Y);else break;K++}for(;K<=z&&K<=ie;){const fe=R[z],Se=_[ie]=Y?os(_[ie]):Lt(_[ie]);if(Ts(fe,Se))O(fe,Se,T,null,A,j,D,G,Y);else break;z--,ie--}if(K>z){if(K<=ie){const fe=ie+1,Se=fe<ce?_[fe].el:Q;for(;K<=ie;)O(null,_[K]=Y?os(_[K]):Lt(_[K]),T,Se,A,j,D,G,Y),K++}}else if(K>ie)for(;K<=z;)le(R[K],A,j,!0),K++;else{const fe=K,Se=K,Me=new Map;for(K=Se;K<=ie;K++){const ht=_[K]=Y?os(_[K]):Lt(_[K]);ht.key!=null&&Me.set(ht.key,K)}let Ie,at=0;const He=ie-Se+1;let yt=!1,ft=0;const ts=new Array(He);for(K=0;K<He;K++)ts[K]=0;for(K=fe;K<=z;K++){const ht=R[K];if(at>=He){le(ht,A,j,!0);continue}let qt;if(ht.key!=null)qt=Me.get(ht.key);else for(Ie=Se;Ie<=ie;Ie++)if(ts[Ie-Se]===0&&Ts(ht,_[Ie])){qt=Ie;break}qt===void 0?le(ht,A,j,!0):(ts[qt-Se]=K+1,qt>=ft?ft=qt:yt=!0,O(ht,_[qt],T,null,A,j,D,G,Y),at++)}const en=yt?Mc(ts):_s;for(Ie=en.length-1,K=He-1;K>=0;K--){const ht=Se+K,qt=_[ht],tn=ht+1<ce?_[ht+1].el:Q;ts[K]===0?O(null,qt,T,tn,A,j,D,G,Y):yt&&(Ie<0||K!==en[Ie]?It(qt,T,tn,2):Ie--)}}},It=(R,_,T,Q,A=null)=>{const{el:j,type:D,transition:G,children:Y,shapeFlag:K}=R;if(K&6){It(R.component.subTree,_,T,Q);return}if(K&128){R.suspense.move(_,T,Q);return}if(K&64){D.move(R,_,T,Kt);return}if(D===Ct){l(j,_,T);for(let z=0;z<Y.length;z++)It(Y[z],_,T,Q);l(R.anchor,_,T);return}if(D===Xn){oe(R,_,T);return}if(Q!==2&&K&1&&G)if(Q===0)G.beforeEnter(j),l(j,_,T),vt(()=>G.enter(j),A);else{const{leave:z,delayLeave:ie,afterLeave:fe}=G,Se=()=>l(j,_,T),Me=()=>{z(j,()=>{Se(),fe&&fe()})};ie?ie(j,Se,Me):Me()}else l(j,_,T)},le=(R,_,T,Q=!1,A=!1)=>{const{type:j,props:D,ref:G,children:Y,dynamicChildren:K,shapeFlag:ce,patchFlag:z,dirs:ie,cacheIndex:fe}=R;if(z===-2&&(A=!1),G!=null&&En(G,null,T,R,!0),fe!=null&&(_.renderCache[fe]=void 0),ce&256){_.ctx.deactivate(R);return}const Se=ce&1&&ie,Me=!Ks(R);let Ie;if(Me&&(Ie=D&&D.onVnodeBeforeUnmount)&&jt(Ie,_,R),ce&6)P(R.component,T,Q);else{if(ce&128){R.suspense.unmount(T,Q);return}Se&&as(R,null,_,"beforeUnmount"),ce&64?R.type.remove(R,_,T,Kt,Q):K&&!K.hasOnce&&(j!==Ct||z>0&&z&64)?Ye(K,_,T,!1,!0):(j===Ct&&z&384||!A&&ce&16)&&Ye(Y,_,T),Q&&Ue(R)}(Me&&(Ie=D&&D.onVnodeUnmounted)||Se)&&vt(()=>{Ie&&jt(Ie,_,R),Se&&as(R,null,_,"unmounted")},T)},Ue=R=>{const{type:_,el:T,anchor:Q,transition:A}=R;if(_===Ct){Et(T,Q);return}if(_===Xn){B(R);return}const j=()=>{c(T),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(R.shapeFlag&1&&A&&!A.persisted){const{leave:D,delayLeave:G}=A,Y=()=>D(T,j);G?G(R.el,j,Y):Y()}else j()},Et=(R,_)=>{let T;for(;R!==_;)T=F(R),c(R),R=T;c(_)},P=(R,_,T)=>{const{bum:Q,scope:A,job:j,subTree:D,um:G,m:Y,a:K}=R;Zo(Y),Zo(K),Q&&fn(Q),A.stop(),j&&(j.flags|=8,le(D,R,_,T)),G&&vt(G,_),vt(()=>{R.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},Ye=(R,_,T,Q=!1,A=!1,j=0)=>{for(let D=j;D<R.length;D++)le(R[D],_,T,Q,A)},ut=R=>{if(R.shapeFlag&6)return ut(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const _=F(R.anchor||R.el),T=_&&_[Hl];return T?F(T):_};let De=!1;const Mt=(R,_,T)=>{R==null?_._vnode&&le(_._vnode,null,null,!0):O(_._vnode||null,R,_,null,null,null,T),_._vnode=R,De||(De=!0,Do(),cr(),De=!1)},Kt={p:O,um:le,m:It,r:Ue,mt:Vt,mc:de,pc:_e,pbc:Ne,n:ut,o:e};let Hs,$s;return{render:Mt,hydrate:Hs,createApp:Ec(Mt,Hs)}}function Bn({type:e,props:t},o){return o==="svg"&&e==="foreignObject"||o==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:o}function fs({effect:e,job:t},o){o?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Vc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function qr(e,t,o=!1){const l=e.children,c=t.children;if(ge(l)&&ge(c))for(let a=0;a<l.length;a++){const f=l[a];let h=c[a];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=c[a]=os(c[a]),h.el=f.el),!o&&h.patchFlag!==-2&&qr(f,h)),h.type===kn&&(h.el=f.el)}}function Mc(e){const t=e.slice(),o=[0];let l,c,a,f,h;const p=e.length;for(l=0;l<p;l++){const y=e[l];if(y!==0){if(c=o[o.length-1],e[c]<y){t[l]=c,o.push(l);continue}for(a=0,f=o.length-1;a<f;)h=a+f>>1,e[o[h]]<y?a=h+1:f=h;y<e[o[a]]&&(a>0&&(t[l]=o[a-1]),o[a]=l)}}for(a=o.length,f=o[a-1];a-- >0;)o[a]=f,f=t[f];return o}function Fr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Fr(t)}function Zo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const xc=Symbol.for("v-scx"),Tc=()=>js(xc);function ms(e,t,o){return Vr(e,t,o)}function Vr(e,t,o=Te){const{immediate:l,deep:c,flush:a,once:f}=o,h=et({},o),p=t&&l||!t&&a!=="post";let y;if(Bs){if(a==="sync"){const V=Tc();y=V.__watcherHandles||(V.__watcherHandles=[])}else if(!p){const V=()=>{};return V.stop=Pt,V.resume=Pt,V.pause=Pt,V}}const S=ct;h.call=(V,k,O)=>Wt(V,S,k,O);let b=!1;a==="post"?h.scheduler=V=>{vt(V,S&&S.suspense)}:a!=="sync"&&(b=!0,h.scheduler=(V,k)=>{k?V():Mo(V)}),h.augmentJob=V=>{t&&(V.flags|=4),b&&(V.flags|=2,S&&(V.id=S.uid,V.i=S))};const F=Yl(e,t,h);return Bs&&(y?y.push(F):p&&F()),F}function Cc(e,t,o){const l=this.proxy,c=Ge(e)?e.includes(".")?Mr(l,e):()=>l[e]:e.bind(l,l);let a;me(t)?a=t:(a=t.handler,o=t);const f=zs(this),h=Vr(c,a.bind(l),o);return f(),h}function Mr(e,t){const o=t.split(".");return()=>{let l=e;for(let c=0;c<o.length&&l;c++)l=l[o[c]];return l}}const kc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${rs(t)}Modifiers`]||e[`${ys(t)}Modifiers`];function Nc(e,t,...o){if(e.isUnmounted)return;const l=e.vnode.props||Te;let c=o;const a=t.startsWith("update:"),f=a&&kc(l,t.slice(7));f&&(f.trim&&(c=o.map(S=>Ge(S)?S.trim():S)),f.number&&(c=o.map(so)));let h,p=l[h=Qn(t)]||l[h=Qn(rs(t))];!p&&a&&(p=l[h=Qn(ys(t))]),p&&Wt(p,e,6,c);const y=l[h+"Once"];if(y){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,Wt(y,e,6,c)}}function xr(e,t,o=!1){const l=t.emitsCache,c=l.get(e);if(c!==void 0)return c;const a=e.emits;let f={},h=!1;if(!me(e)){const p=y=>{const S=xr(y,t,!0);S&&(h=!0,et(f,S))};!o&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!a&&!h?(Qe(e)&&l.set(e,null),null):(ge(a)?a.forEach(p=>f[p]=null):et(f,a),Qe(e)&&l.set(e,f),f)}function Cn(e,t){return!e||!Rn(t)?!1:(t=t.slice(2).replace(/Once$/,""),qe(e,t[0].toLowerCase()+t.slice(1))||qe(e,ys(t))||qe(e,t))}function Gn(e){const{type:t,vnode:o,proxy:l,withProxy:c,propsOptions:[a],slots:f,attrs:h,emit:p,render:y,renderCache:S,props:b,data:F,setupState:V,ctx:k,inheritAttrs:O}=e,Z=wn(e);let H,X;try{if(o.shapeFlag&4){const B=c||l,ne=B;H=Lt(y.call(ne,B,S,b,V,F,k)),X=h}else{const B=t;H=Lt(B.length>1?B(b,{attrs:h,slots:f,emit:p}):B(b,null)),X=t.props?h:Ac(h)}}catch(B){Js.length=0,Mn(B,e,1),H=Ze(Es)}let oe=H;if(X&&O!==!1){const B=Object.keys(X),{shapeFlag:ne}=oe;B.length&&ne&7&&(a&&B.some(Eo)&&(X=Kc(X,a)),oe=Fs(oe,X,!1,!0))}return o.dirs&&(oe=Fs(oe,null,!1,!0),oe.dirs=oe.dirs?oe.dirs.concat(o.dirs):o.dirs),o.transition&&xo(oe,o.transition),H=oe,wn(Z),H}const Ac=e=>{let t;for(const o in e)(o==="class"||o==="style"||Rn(o))&&((t||(t={}))[o]=e[o]);return t},Kc=(e,t)=>{const o={};for(const l in e)(!Eo(l)||!(l.slice(9)in t))&&(o[l]=e[l]);return o};function Oc(e,t,o){const{props:l,children:c,component:a}=e,{props:f,children:h,patchFlag:p}=t,y=a.emitsOptions;if(t.dirs||t.transition)return!0;if(o&&p>=0){if(p&1024)return!0;if(p&16)return l?Ho(l,f,y):!!f;if(p&8){const S=t.dynamicProps;for(let b=0;b<S.length;b++){const F=S[b];if(f[F]!==l[F]&&!Cn(y,F))return!0}}}else return(c||h)&&(!h||!h.$stable)?!0:l===f?!1:l?f?Ho(l,f,y):!0:!!f;return!1}function Ho(e,t,o){const l=Object.keys(t);if(l.length!==Object.keys(e).length)return!0;for(let c=0;c<l.length;c++){const a=l[c];if(t[a]!==e[a]&&!Cn(o,a))return!0}return!1}function jc({vnode:e,parent:t},o){for(;t;){const l=t.subTree;if(l.suspense&&l.suspense.activeBranch===e&&(l.el=e.el),l===e)(e=t.vnode).el=o,t=t.parent;else break}}const Tr=e=>e.__isSuspense;function Jc(e,t){t&&t.pendingBranch?ge(e)?t.effects.push(...e):t.effects.push(e):Xl(e)}const Ct=Symbol.for("v-fgt"),kn=Symbol.for("v-txt"),Es=Symbol.for("v-cmt"),Xn=Symbol.for("v-stc"),Js=[];let Ut=null;function Pe(e=!1){Js.push(Ut=e?null:[])}function Qc(){Js.pop(),Ut=Js[Js.length-1]||null}let Ys=1;function $o(e,t=!1){Ys+=e,e<0&&Ut&&t&&(Ut.hasOnce=!0)}function Cr(e){return e.dynamicChildren=Ys>0?Ut||_s:null,Qc(),Ys>0&&Ut&&Ut.push(e),e}function We(e,t,o,l,c,a){return Cr(ae(e,t,o,l,c,a,!0))}function Lc(e,t,o,l,c){return Cr(Ze(e,t,o,l,c,!0))}function kr(e){return e?e.__v_isVNode===!0:!1}function Ts(e,t){return e.type===t.type&&e.key===t.key}const Nr=({key:e})=>e??null,hn=({ref:e,ref_key:t,ref_for:o})=>(typeof e=="number"&&(e=""+e),e!=null?Ge(e)||Je(e)||me(e)?{i:Rt,r:e,k:t,f:!!o}:e:null);function ae(e,t=null,o=null,l=0,c=null,a=e===Ct?0:1,f=!1,h=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Nr(t),ref:t&&hn(t),scopeId:ar,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:l,dynamicProps:c,dynamicChildren:null,appContext:null,ctx:Rt};return h?(No(p,o),a&128&&e.normalize(p)):o&&(p.shapeFlag|=Ge(o)?8:16),Ys>0&&!f&&Ut&&(p.patchFlag>0||a&6)&&p.patchFlag!==32&&Ut.push(p),p}const Ze=Pc;function Pc(e,t=null,o=null,l=0,c=null,a=!1){if((!e||e===ac)&&(e=Es),kr(e)){const h=Fs(e,t,!0);return o&&No(h,o),Ys>0&&!a&&Ut&&(h.shapeFlag&6?Ut[Ut.indexOf(e)]=h:Ut.push(h)),h.patchFlag=-2,h}if($c(e)&&(e=e.__vccOpts),t){t=Wc(t);let{class:h,style:p}=t;h&&!Ge(h)&&(t.class=bo(h)),Qe(p)&&(Fo(p)&&!ge(p)&&(p=et({},p)),t.style=Ls(p))}const f=Ge(e)?1:Tr(e)?128:$l(e)?64:Qe(e)?4:me(e)?2:0;return ae(e,t,o,l,c,f,a,!0)}function Wc(e){return e?Fo(e)||Sr(e)?et({},e):e:null}function Fs(e,t,o=!1,l=!1){const{props:c,ref:a,patchFlag:f,children:h,transition:p}=e,y=t?Dc(c||{},t):c,S={__v_isVNode:!0,__v_skip:!0,type:e.type,props:y,key:y&&Nr(y),ref:t&&t.ref?o&&a?ge(a)?a.concat(hn(t)):[a,hn(t)]:hn(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:h,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ct?f===-1?16:f|16:f,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Fs(e.ssContent),ssFallback:e.ssFallback&&Fs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&l&&xo(S,p.clone(S)),S}function Sn(e=" ",t=0){return Ze(kn,null,e,t)}function ds(e="",t=!1){return t?(Pe(),Lc(Es,null,e)):Ze(Es,null,e)}function Lt(e){return e==null||typeof e=="boolean"?Ze(Es):ge(e)?Ze(Ct,null,e.slice()):kr(e)?os(e):Ze(kn,null,String(e))}function os(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Fs(e)}function No(e,t){let o=0;const{shapeFlag:l}=e;if(t==null)t=null;else if(ge(t))o=16;else if(typeof t=="object")if(l&65){const c=t.default;c&&(c._c&&(c._d=!1),No(e,c()),c._c&&(c._d=!0));return}else{o=32;const c=t._;!c&&!Sr(t)?t._ctx=Rt:c===3&&Rt&&(Rt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else me(t)?(t={default:t,_ctx:Rt},o=32):(t=String(t),l&64?(o=16,t=[Sn(t)]):o=8);e.children=t,e.shapeFlag|=o}function Dc(...e){const t={};for(let o=0;o<e.length;o++){const l=e[o];for(const c in l)if(c==="class")t.class!==l.class&&(t.class=bo([t.class,l.class]));else if(c==="style")t.style=Ls([t.style,l.style]);else if(Rn(c)){const a=t[c],f=l[c];f&&a!==f&&!(ge(a)&&a.includes(f))&&(t[c]=a?[].concat(a,f):f)}else c!==""&&(t[c]=l[c])}return t}function jt(e,t,o,l=null){Wt(e,t,7,[o,l])}const Yc=wr();let Bc=0;function Gc(e,t,o){const l=e.type,c=(t?t.appContext:e.appContext)||Yc,a={uid:Bc++,vnode:e,type:l,parent:t,appContext:c,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ji(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(c.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vr(l,c),emitsOptions:xr(l,c),emit:null,emitted:null,propsDefaults:Te,inheritAttrs:l.inheritAttrs,ctx:Te,data:Te,props:Te,attrs:Te,slots:Te,refs:Te,setupState:Te,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=Nc.bind(null,a),e.ce&&e.ce(a),a}let ct=null,bn,fo;{const e=In(),t=(o,l)=>{let c;return(c=e[o])||(c=e[o]=[]),c.push(l),a=>{c.length>1?c.forEach(f=>f(a)):c[0](a)}};bn=t("__VUE_INSTANCE_SETTERS__",o=>ct=o),fo=t("__VUE_SSR_SETTERS__",o=>Bs=o)}const zs=e=>{const t=ct;return bn(e),e.scope.on(),()=>{e.scope.off(),bn(t)}},ei=()=>{ct&&ct.scope.off(),bn(null)};function Ar(e){return e.vnode.shapeFlag&4}let Bs=!1;function Xc(e,t=!1,o=!1){t&&fo(t);const{props:l,children:c}=e.vnode,a=Ar(e);bc(e,l,a,t),_c(e,c,o);const f=a?zc(e,t):void 0;return t&&fo(!1),f}function zc(e,t){const o=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,fc);const{setup:l}=o;if(l){cs();const c=e.setupContext=l.length>1?Hc(e):null,a=zs(e),f=Xs(l,e,0,[e.props,c]),h=xi(f);if(us(),a(),(h||e.sp)&&!Ks(e)&&fr(e),h){if(f.then(ei,ei),t)return f.then(p=>{ti(e,p,t)}).catch(p=>{Mn(p,e,0)});e.asyncDep=f}else ti(e,f,t)}else Kr(e,t)}function ti(e,t,o){me(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Qe(t)&&(e.setupState=or(t)),Kr(e,o)}let si;function Kr(e,t,o){const l=e.type;if(!e.render){if(!t&&si&&!l.render){const c=l.template||Co(e).template;if(c){const{isCustomElement:a,compilerOptions:f}=e.appContext.config,{delimiters:h,compilerOptions:p}=l,y=et(et({isCustomElement:a,delimiters:h},f),p);l.render=si(c,y)}}e.render=l.render||Pt}{const c=zs(e);cs();try{hc(e)}finally{us(),c()}}}const Zc={get(e,t){return rt(e,"get",""),e[t]}};function Hc(e){const t=o=>{e.exposed=o||{}};return{attrs:new Proxy(e.attrs,Zc),slots:e.slots,emit:e.emit,expose:t}}function Nn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(or(Vn(e.exposed)),{get(t,o){if(o in t)return t[o];if(o in Os)return Os[o](e)},has(t,o){return o in t||o in Os}})):e.proxy}function $c(e){return me(e)&&"__vccOpts"in e}const $e=(e,t)=>Wl(e,t,Bs),eu="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ho;const ni=typeof window<"u"&&window.trustedTypes;if(ni)try{ho=ni.createPolicy("vue",{createHTML:e=>e})}catch{}const Or=ho?e=>ho.createHTML(e):e=>e,tu="http://www.w3.org/2000/svg",su="http://www.w3.org/1998/Math/MathML",Xt=typeof document<"u"?document:null,oi=Xt&&Xt.createElement("template"),nu={insert:(e,t,o)=>{t.insertBefore(e,o||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,o,l)=>{const c=t==="svg"?Xt.createElementNS(tu,e):t==="mathml"?Xt.createElementNS(su,e):o?Xt.createElement(e,{is:o}):Xt.createElement(e);return e==="select"&&l&&l.multiple!=null&&c.setAttribute("multiple",l.multiple),c},createText:e=>Xt.createTextNode(e),createComment:e=>Xt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Xt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,o,l,c,a){const f=o?o.previousSibling:t.lastChild;if(c&&(c===a||c.nextSibling))for(;t.insertBefore(c.cloneNode(!0),o),!(c===a||!(c=c.nextSibling)););else{oi.innerHTML=Or(l==="svg"?`<svg>${e}</svg>`:l==="mathml"?`<math>${e}</math>`:e);const h=oi.content;if(l==="svg"||l==="mathml"){const p=h.firstChild;for(;p.firstChild;)h.appendChild(p.firstChild);h.removeChild(p)}t.insertBefore(h,o)}return[f?f.nextSibling:t.firstChild,o?o.previousSibling:t.lastChild]}},ou=Symbol("_vtc");function iu(e,t,o){const l=e[ou];l&&(t=(t?[t,...l]:[...l]).join(" ")),t==null?e.removeAttribute("class"):o?e.setAttribute("class",t):e.className=t}const ii=Symbol("_vod"),ru=Symbol("_vsh"),lu=Symbol(""),cu=/(^|;)\s*display\s*:/;function uu(e,t,o){const l=e.style,c=Ge(o);let a=!1;if(o&&!c){if(t)if(Ge(t))for(const f of t.split(";")){const h=f.slice(0,f.indexOf(":")).trim();o[h]==null&&dn(l,h,"")}else for(const f in t)o[f]==null&&dn(l,f,"");for(const f in o)f==="display"&&(a=!0),dn(l,f,o[f])}else if(c){if(t!==o){const f=l[lu];f&&(o+=";"+f),l.cssText=o,a=cu.test(o)}}else t&&e.removeAttribute("style");ii in e&&(e[ii]=a?l.display:"",e[ru]&&(l.display="none"))}const ri=/\s*!important$/;function dn(e,t,o){if(ge(o))o.forEach(l=>dn(e,t,l));else if(o==null&&(o=""),t.startsWith("--"))e.setProperty(t,o);else{const l=au(e,t);ri.test(o)?e.setProperty(ys(l),o.replace(ri,""),"important"):e[l]=o}}const li=["Webkit","Moz","ms"],zn={};function au(e,t){const o=zn[t];if(o)return o;let l=rs(t);if(l!=="filter"&&l in e)return zn[t]=l;l=ki(l);for(let c=0;c<li.length;c++){const a=li[c]+l;if(a in e)return zn[t]=a}return t}const ci="http://www.w3.org/1999/xlink";function ui(e,t,o,l,c,a=pl(t)){l&&t.startsWith("xlink:")?o==null?e.removeAttributeNS(ci,t.slice(6,t.length)):e.setAttributeNS(ci,t,o):o==null||a&&!Ai(o)?e.removeAttribute(t):e.setAttribute(t,a?"":ls(o)?String(o):o)}function ai(e,t,o,l,c){if(t==="innerHTML"||t==="textContent"){o!=null&&(e[t]=t==="innerHTML"?Or(o):o);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const h=a==="OPTION"?e.getAttribute("value")||"":e.value,p=o==null?e.type==="checkbox"?"on":"":String(o);(h!==p||!("_value"in e))&&(e.value=p),o==null&&e.removeAttribute(t),e._value=o;return}let f=!1;if(o===""||o==null){const h=typeof e[t];h==="boolean"?o=Ai(o):o==null&&h==="string"?(o="",f=!0):h==="number"&&(o=0,f=!0)}try{e[t]=o}catch{}f&&e.removeAttribute(c||t)}function Rs(e,t,o,l){e.addEventListener(t,o,l)}function fu(e,t,o,l){e.removeEventListener(t,o,l)}const fi=Symbol("_vei");function hu(e,t,o,l,c=null){const a=e[fi]||(e[fi]={}),f=a[t];if(l&&f)f.value=l;else{const[h,p]=du(t);if(l){const y=a[t]=mu(l,c);Rs(e,h,y,p)}else f&&(fu(e,h,f,p),a[t]=void 0)}}const hi=/(?:Once|Passive|Capture)$/;function du(e){let t;if(hi.test(e)){t={};let l;for(;l=e.match(hi);)e=e.slice(0,e.length-l[0].length),t[l[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ys(e.slice(2)),t]}let Zn=0;const pu=Promise.resolve(),gu=()=>Zn||(pu.then(()=>Zn=0),Zn=Date.now());function mu(e,t){const o=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=o.attached)return;Wt(wu(l,o.value),t,5,[l])};return o.value=e,o.attached=gu(),o}function wu(e,t){if(ge(t)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},t.map(l=>c=>!c._stopped&&l&&l(c))}else return t}const di=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Eu=(e,t,o,l,c,a)=>{const f=c==="svg";t==="class"?iu(e,l,f):t==="style"?uu(e,o,l):Rn(t)?Eo(t)||hu(e,t,o,l,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):yu(e,t,l,f))?(ai(e,t,l),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ui(e,t,l,f,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ge(l))?ai(e,rs(t),l,a,t):(t==="true-value"?e._trueValue=l:t==="false-value"&&(e._falseValue=l),ui(e,t,l,f))};function yu(e,t,o,l){if(l)return!!(t==="innerHTML"||t==="textContent"||t in e&&di(t)&&me(o));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const c=e.tagName;if(c==="IMG"||c==="VIDEO"||c==="CANVAS"||c==="SOURCE")return!1}return di(t)&&Ge(o)?!1:t in e}const pi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ge(t)?o=>fn(t,o):t};function Su(e){e.target.composing=!0}function gi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Hn=Symbol("_assign"),bu={created(e,{modifiers:{lazy:t,trim:o,number:l}},c){e[Hn]=pi(c);const a=l||c.props&&c.props.type==="number";Rs(e,t?"change":"input",f=>{if(f.target.composing)return;let h=e.value;o&&(h=h.trim()),a&&(h=so(h)),e[Hn](h)}),o&&Rs(e,"change",()=>{e.value=e.value.trim()}),t||(Rs(e,"compositionstart",Su),Rs(e,"compositionend",gi),Rs(e,"change",gi))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:o,modifiers:{lazy:l,trim:c,number:a}},f){if(e[Hn]=pi(f),e.composing)return;const h=(a||e.type==="number")&&!/^0\d/.test(e.value)?so(e.value):e.value,p=t??"";h!==p&&(document.activeElement===e&&e.type!=="range"&&(l&&t===o||c&&e.value.trim()===p)||(e.value=p))}},vu=et({patchProp:Eu},nu);let mi;function Ru(){return mi||(mi=qc(vu))}const Uu=(...e)=>{const t=Ru().createApp(...e),{mount:o}=t;return t.mount=l=>{const c=Iu(l);if(!c)return;const a=t._component;!me(a)&&!a.render&&!a.template&&(a.template=c.innerHTML),c.nodeType===1&&(c.textContent="");const f=o(c,!1,_u(c));return c instanceof Element&&(c.removeAttribute("v-cloak"),c.setAttribute("data-v-app","")),f},t};function _u(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Iu(e){return Ge(e)?document.querySelector(e):e}var qu=!1;/*!
 * pinia v2.2.7
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let jr;const An=e=>jr=e,Jr=Symbol();function po(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Qs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Qs||(Qs={}));function Fu(){const e=Ji(!0),t=e.run(()=>Le({}));let o=[],l=[];const c=Vn({install(a){An(c),c._a=a,a.provide(Jr,c),a.config.globalProperties.$pinia=c,l.forEach(f=>o.push(f)),l=[]},use(a){return!this._a&&!qu?l.push(a):o.push(a),this},_p:o,_a:null,_e:e,_s:new Map,state:t});return c}const Qr=()=>{};function wi(e,t,o,l=Qr){e.push(t);const c=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),l())};return!o&&Qi()&&gl(c),c}function bs(e,...t){e.slice().forEach(o=>{o(...t)})}const Vu=e=>e(),Ei=Symbol(),$n=Symbol();function go(e,t){e instanceof Map&&t instanceof Map?t.forEach((o,l)=>e.set(l,o)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const o in t){if(!t.hasOwnProperty(o))continue;const l=t[o],c=e[o];po(c)&&po(l)&&e.hasOwnProperty(o)&&!Je(l)&&!Ht(l)?e[o]=go(c,l):e[o]=l}return e}const Mu=Symbol();function xu(e){return!po(e)||!e.hasOwnProperty(Mu)}const{assign:ss}=Object;function Tu(e){return!!(Je(e)&&e.effect)}function Cu(e,t,o,l){const{state:c,actions:a,getters:f}=t,h=o.state.value[e];let p;function y(){h||(o.state.value[e]=c?c():{});const S=jl(o.state.value[e]);return ss(S,a,Object.keys(f||{}).reduce((b,F)=>(b[F]=Vn($e(()=>{An(o);const V=o._s.get(e);return f[F].call(V,V)})),b),{}))}return p=Lr(e,y,t,o,l,!0),p}function Lr(e,t,o={},l,c,a){let f;const h=ss({actions:{}},o),p={deep:!0};let y,S,b=[],F=[],V;const k=l.state.value[e];!a&&!k&&(l.state.value[e]={}),Le({});let O;function Z(de){let we;y=S=!1,typeof de=="function"?(de(l.state.value[e]),we={type:Qs.patchFunction,storeId:e,events:V}):(go(l.state.value[e],de),we={type:Qs.patchObject,payload:de,storeId:e,events:V});const Ne=O=Symbol();Vo().then(()=>{O===Ne&&(y=!0)}),S=!0,bs(b,we,l.state.value[e])}const H=a?function(){const{state:we}=o,Ne=we?we():{};this.$patch(tt=>{ss(tt,Ne)})}:Qr;function X(){f.stop(),b=[],F=[],l._s.delete(e)}const oe=(de,we="")=>{if(Ei in de)return de[$n]=we,de;const Ne=function(){An(l);const tt=Array.from(arguments),ot=[],wt=[];function Vt(Ee){ot.push(Ee)}function At(Ee){wt.push(Ee)}bs(F,{args:tt,name:Ne[$n],store:ne,after:Vt,onError:At});let Ce;try{Ce=de.apply(this&&this.$id===e?this:ne,tt)}catch(Ee){throw bs(wt,Ee),Ee}return Ce instanceof Promise?Ce.then(Ee=>(bs(ot,Ee),Ee)).catch(Ee=>(bs(wt,Ee),Promise.reject(Ee))):(bs(ot,Ce),Ce)};return Ne[Ei]=!0,Ne[$n]=we,Ne},B={_p:l,$id:e,$onAction:wi.bind(null,F),$patch:Z,$reset:H,$subscribe(de,we={}){const Ne=wi(b,de,we.detached,()=>tt()),tt=f.run(()=>ms(()=>l.state.value[e],ot=>{(we.flush==="sync"?S:y)&&de({storeId:e,type:Qs.direct,events:V},ot)},ss({},p,we)));return Ne},$dispose:X},ne=Fn(B);l._s.set(e,ne);const Fe=(l._a&&l._a.runWithContext||Vu)(()=>l._e.run(()=>(f=Ji()).run(()=>t({action:oe}))));for(const de in Fe){const we=Fe[de];if(Je(we)&&!Tu(we)||Ht(we))a||(k&&xu(we)&&(Je(we)?we.value=k[de]:go(we,k[de])),l.state.value[e][de]=we);else if(typeof we=="function"){const Ne=oe(we,de);Fe[de]=Ne,h.actions[de]=we}}return ss(ne,Fe),ss(Re(ne),Fe),Object.defineProperty(ne,"$state",{get:()=>l.state.value[e],set:de=>{Z(we=>{ss(we,de)})}}),l._p.forEach(de=>{ss(ne,f.run(()=>de({store:ne,app:l._a,pinia:l,options:h})))}),k&&a&&o.hydrate&&o.hydrate(ne.$state,k),y=!0,S=!0,ne}/*! #__NO_SIDE_EFFECTS__ */function ku(e,t,o){let l,c;const a=typeof t=="function";l=e,c=a?o:t;function f(h,p){const y=Sc();return h=h||(y?js(Jr,null):null),h&&An(h),h=jr,h._s.has(l)||(a?Lr(l,t,c,h):Cu(l,c,h)),h._s.get(l)}return f.$id=l,f}function Zs(e){{const t=Re(e),o={};for(const l in t){const c=t[l];(Je(c)||Ht(c))&&(o[l]=Ll(e,l))}return o}}const Nu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABlCAAAAACAHCmeAAAETklEQVRoBZXBiYGCQAAEsEz/Rc+BIJ8Lekn8T+3iX+JXdSd+Ej9o6ll8F9/ULg7qKL6JL2oTA7WJR/GoVvGgFmnciwe1iO9qksatuFOLOKlFXJVU3IkbNUnjot7iql5iKIbqJUZqER9qEkMxUi8xUm/xqYiR+FQvMVIH8ale4io+1CyG6iQGahYXcVWzGKqzGKlZnMVFTWKormKoZnESZzWJofoQN2oSR3FSxFCNxI2axEEc1SQG6kNqEjdqErs4qElc1ZO4UanYxK6ID/UsbtQk3mJXxFV9EbeKWMWmiA+1Su2i3uJOEat4K+JTLVKbUJu4VcQiVjWJDzWLeotJ7eJeES+xKjFQR7GoXTwo4iUWRQzUJlZ1FE+KmMVLTWKgVrGqk3hWxCReihipWbzVSXxTxCRmRYxVbOosvisxiVmJ7+oiflAEMSnxVT2IeyWISYln9VXcKEFQxIP6TQyVICjiXv0sRioISgyUmNWToFYxUEJQMVLErO7ES73FQIlQYqQmUavUSbzVLj6VCCVG6iq1il0dxUBFKDFSt2JXJzFQEUqM1EFQm3irt6BioCJKDNVbLOotFrWKeomBkigxUqtY1SZm9SFGSqLESC1iVZugPsWNSpQYqEW81FdxrxIlBupf4lElRQzUP8QXlRQxUD+LryopMVK/iV9UUmKkDlIX8S8lJYZqlzqJs4pHJSWG6ipqFhc1i3slJcaK1CY1i4taxa2SEmMlFFGruKhN3Copca9mqUVc1EHcqqTEnTqLiyJqEbcqKTFUA3FQk9QsJW5VUsSnuhOLmkRt4lYlRVzUo5jUJGoT9ypR4qB+kJqE2sS9kiixqUepXahNPCiJEm/1IE1tQm3iUUWUWNWTUJuoTTyrCCVe6irqINQqtYkvKkKJlzqIWZ2lPsQ3FUKJWb3FqkZSB/FVhaDEpF5iU1/FDyoEJahJHNRA1C5+UEJQhBK7Okm9hNrFD0oIirioo6hFqJP4poKgiLM6ilqkRuJBCWJSxFEdhPpFDJUgJkUc1SRqEvWz+FAEMStiValNqP+JkxKTmBWxql2o/4tdEZN4KWJRb0Hton4Tb0XM4qUmsahZzGoXs1ql7sWqiFksiljUJGa1i5daxKI2qU28FPESqyIWNQlqF4taxK5WqbeYFLGIVU3ipV5Su1jUIs7qIiZFLOKtiEVdxKpW8aFOQhGr2BSxqJNY1SqGahdFvMWmJrGog1jVWzwpoohN7GoSizoJtUiJHxSxiYOaxKLGouIHReziqCaxqEnqIhXf1SQO4qQmsahZ6iBFfFWTOIqzmsSqLqLiu5rESVzUJFZ1EI2Kr2oSZ3FVk3irXfymJnERH4rY1Vv8pIgPMVJiV4v4RRGfYqRm8Vaz+EURAzFUk/i/msRIjNUs/qmIsbhTs/hdTeJO3KtFfFcvcS8e1Fs8qLd4EM9qFwO1iUfxVR3Fok7iq/hJpW7FL+I/6iD+5w8rOJhwB3wAwQAAAABJRU5ErkJggg==",Au=Object.freeze(Object.defineProperty({__proto__:null,default:Nu},Symbol.toStringTag,{value:"Module"})),Ku="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABmCAAAAADpSjAOAAAErklEQVRoBa3BC6KqSgIEsNT+F13TfMRGUTz3TRJ/Vrv4m/hdXYlfxU+a+iruxQ/qXtyKO/UUb+oQ38V39RAf1S6+iW9qFzdqE5/FR7WLn9QQn8UntYrf1ZDGtbhWm/iTEp/EpVrFnxVpXIgrtYh/Uot4E+9qETcqLtUqXsS7GuJODXGlFnEWr2oRt2oVF2oRJ/GihvhB7eJdLWIWZzXET2oXF2qISZwU8aM6xIUinmJWQ/yqDnGhiENMaoif1ZBaxJumxCGeaogrFe/qKS4U8RBPRbyrTZzVJK4UsYtDEW/qECe1Sg1xpYbYxEMRL+osnmqTIq7VEKvYFTGrd3GoSXxSxCp2JR7qg3ioXUoMJd7UEIvYFPFQH8SuHlKhdvGqiCE2RTzUB7Gpz+KsiCFWJZ7qWqzqqzgpYohFEZO6ELv6Lk6KIBZFzOpN7OqQpobULGZFEIsiTuohijjUU6ios5iVIIYiXtUmKia1Sc2iDjEpQQwlrtQuJnUWh3qISQUxlLhSpMSsZjGpQzyVEJS4VKTipA5xVod4KiEocaVIxVlt4k0dYlIiKHGlSMVZDXGhnmJSIqi4UqTEWYldEQ91iJOKUOJCreKj2sWmHuKsIpS4UKTxQc1iqId4URJKvKtNXKhXQe3iVUko8a5IxYV6F2oXbypR4l2Rigt1IWoX7ypR4l0t4lV9EDWkxLtKlHhTxLu6EhU1pOJCJUq8KWJTQ6zqXaioISUuVKLEqxrSUA8x1CpNbWJo1C6uVKLEqyINNYmhFmlqFTTULq6UKPFUT1EnQa1CPYR6iCslRTzVIeosqE1qlaZRD3GppIhJPaRehTpLRT3EtRIlZvVZ1HdxrUSJWR1ST7Goz1LxQYkSs5qEWkQFdRI1iw8qUWJST7GoISqoSUpqFSU+qUSJST3FolYx1CE1iRIfVaLEU01iUaRiqEVQuxQp4rNKlDjULBZFbGoWi9rEF5Uo8VAnsShSMRSpRexqFV+URBG7OgtqFYsiFbNaxBclUcSmNqlNqE0silTMiviqJJRY1SZqk1qlsahVnJT4riKUWNQqqLNUDLWIP6sIJYbaBPUqFrWIeyUOJUIR1CqGOknTGGoR90ocKgQlqEUs6iQ0qFXcK3GoEBShhljVi1jUKu6VeCghKEIRmzqLVa3iXomHEmIooeKhZrGrVdwrsStBDCVOahIPtYpbRexKEEMRs3qISa3iTg2xK0EMNcSkdjGrVdypRayKIBZFzGoTs1rFjVrFqsQQixpiVquY1Sa+qk0sihhiVcRJLWJWu/isDkERi9gUcVLEST3FpZoERSxiU8RZibM6iZN6EYpYxa6IO/U3qSFWsash7tSvUqSITTxUKu7UT6KGlNjFoYa4VbdCDVHxEE9F3KtfpeIQTzXEL+oHUeIQkxriZ/VJDEU8xayG+Ks6xKGISZzUEP8HNcQszmqI/6yGOIkXNcR/VEOcxasa4j+pIV7Em1rEP6tFvIorRfyrGuJNXCnS+Bc1xIW4VEP8Wa3iSlyrRfxRDXEtPqhV/K6pIT6Ij2oXP6hNfBTf1C6+ql18EV/VU1yrh/gqbpTUISY1iTtxr1E34l78QR1Si/iD/wETNddw4LVh4wAAAABJRU5ErkJggg==",Ou=Object.freeze(Object.defineProperty({__proto__:null,default:Ku},Symbol.toStringTag,{value:"Module"})),ju="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABlCAAAAACAHCmeAAADbUlEQVRoBa3BCYKkRgADMPn/j3aKvoA+oNiJFJfUVlwRk+q3mBET6kycizO1EY2b2oszcaxW8UWt4kgcqac4UA9xIH6rhzhVd/FT/FJ3Malu4of4ru5iXt3Ed/FV3cRFtYhv4ou6i+tqEZ/iUy3i39QiPsSHWsS/qpt4E+9qEX9Qi9iLN7WIP6lF7MReDfFnNcRW7BRxpIhzNcRGbNUQB+ouThWxio0ijtRLnKghXmJVQxyprThUQzzFSw1xrLbiUA3xEE81xInaiSM1xEM81RBnaieO1BB38VBDnKutOFbETdwVMaO24lgRN3FXYkptxbEaYhE3RcypjThRxCJuiphTG3GmiCEWRUyqjThTxBCLIibVRpwqghhKTKtVnCuCGEpMq1VMKEFQxLRaxYQSBCXm1SpmVBCKmFermFFCKGJerWJGCaHEBbWKKSVCiQtqFVNKRBEX1CqmlIgiLqhV7NRLbJVEiStqFXf1RbxURIkLalo8lUSJC2pePJREiWl1STxUUsS5+idxV0kRh+rfxV0lRfxSfxR3lZTYaDzUnwQVdyUlnup/lYq7khJPNSE1KRp3JSVe6p/EU22k8VBS4qWuia9qEatKSrzUNTGpkhKruiQmVVJiVUeC2ohJlZTYqB/irjZiUiVFrOqLWNVGTKqkiI16Ezu1EZMqUWKrtuJNbcSckiixUy/xoTZiTkWU2KtFfFWrmFQRJS6oVUyqiCLm1SomVYQS82oVcyqEEvNqFXMqBCVm1UbMqRCUmFUbUTdxpIKgiEm1EbWKHyoIiphUv8VXJQiKmFRH4osSBDXEqToXn0oQQxFHala8K4JYFPFNXRRvihhiUcSHui7elFjEooZ4VydSH2KniEXc1BB79S9ip4hF3BXxpv5BbBVxE3c1xF5dF1tF3MVDDbFXP8VTbcVWEXfxVMRefYqv6ia2iniIlyL2ai+uKOIpXmqIvVrFNTXEU6xqiDd1FxfVEC+xUUPs1SKuqiFWsVVD7JW4rIbYiJ0a4u9qiK3YqyH+qobYiTdNib+pIfbiXQ3xFzXEm/hQxB8U8SE+NSX+UQ3xKb6pRfyDGuKL+KqGuKyG+Cq+q0Vc0dQQ38UvtUhjTt3EL/Fb3cWpeoif4kC9xG/1FAfiUG3EF/USh+JM7cRQH+JMzKhDMSOuqK245D9LSCVxusul6AAAAABJRU5ErkJggg==",Ju=Object.freeze(Object.defineProperty({__proto__:null,default:ju},Symbol.toStringTag,{value:"Module"})),Qu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABlCAAAAABrK5KdAAAE9UlEQVRoBZ3BiWHkNgAEMEz/RU9I/dqVfHaA+JO6ij+IX6pX8RvxC/UP8W/xD3URh7qLf4if1Ske1Cl+ED+pTfykVvGDeFeb+KdaxZt4U6v4nZISL+JZreIPaopH8agW8Te1iAfxoBbxsyLuaopv8a2m+FFt4q6G+BJfaoof1SluahF38amG+FndxE1NcRN3NcWm8aREneKmpriKuyIORXyqGOoUNzXFRdwUcaop7hpTneKupjjFVQ1xUVNcNRZ1EZ+KOMRFDXFVi3hQX+JUQ+ziVEPc1Cq+1JPY1RSbONQQd7WJT/UoDkVsYldDfKpN3NWL2NUQq9gV8aWGFHFVr+JQxCI2RXyrXVzVp9QmdkUsYlXEg5pS4qI2qV1qE7siplgV8aB2capN6kEcSkyxKOJJ7eJQd0EtosShiCGmIh7VLg61SE0x1BRKXBRBTEU8ql3sapEaYlFDUOKiCGIo4lntYlOL1BCLmkLjQxFiKOJZLVKxqFWKWNUiHhQhhhIvaoqKqS5iU0M8KyEo4kVNKTHVKTY1xbMSghI3FZvaxFQ3MdUUbyoEJRZ1ikUdgvoQ1BQaT0qEEqu6iKkOQX2KmlLiUYlQYlOnmGoXQ/0gXlSEEpu6iKE2MdW7eFMSJXZ1FdQmpjqkbuJVSZQ41EWoXUz1Jt6VRIlTnUJtYlEv4ieVKHFRu6A2sSiiPsWPSpS4qtQU1Co+1UXc1BCnkiIuahGLWsWHuohF3cWupIiLmmJRm7io34pVSYmLmmJRu7ioX4tVpcSppljUIa7q12JRKXGqIRZ1iJv6vZgqJU5FLOoUF/Ui6iYlpkqJQ4lVXcSh3kTdRcVUKXForOomNvUuKtQpNpUSu8aq7mJRh9SnqHhWKbFrTLVJrUJdpTYx1BCNF5USm8ZQu6gfxaaGVLyolNg0qF2od3FRpOJFpcSmUqtoUG/iphbxolJiVYdY1bP4UIt4USliqkOs6pDaxbdaxLMSJabaBI2hVqE28aQW8axEialWQWOqVQw1xKbEqVbxqESJqRZxqlVc1CF2tYpHlSgx1SJOtYldXcWmVvGoEiWmmmLXqFXs6i5WtYpHlShiKkJjqqghFZv6FItaxZOKUGIq4tCoIRWb+hSLWsSjilDEUMShFlGxqVVqF4taxJOKoMRQpGJVi6i4KlKbmGoVDyoERQxF7GoRFVc1paZY1CoeVAiKmIrY1CoVu0ZdxaJW8a2EoIgvdYhdSZ1iVav4VkJQQ3yqQxxKUIvY1Cq+FCGGIj7VIU4lvtQqvhQhpiI+1CEuivhQq/hUBDEV8aEOcVFT3NQqPhVBTDXEh9rFVS3iolbxoYghFjXEXe3iphZxqlV8KGKIVRF3tYu72sSqVvGhiClWNcRNbeJTHWKoVdwVsYhNDXFTq/hSj+KuiEXsiripVXyrJ3FTxCoORdzUFE/qQVwVsYlDDXFVUzyrm2hcFbGLUw1xVUO8qKtoXNQQu7ioIa5KvKpTNC5qiENc1RBXjR/ULjRONcQpbmqI36tNShxqiIu4qyH+oBbRONQQV/GhhviDmqKxqyFu4lNT4i9qSGNTQ9zFlyL+pohVDfEpnpT4k4pVDfElntQU/0MN8S0e1RB/VkM8iWc1xd/UEI/iRa3i94p4Ee9qFf9Wi3gVP6hd/KB28S5+Vqd4ULv4UfxTXcWq7uIf4lfqR/Fv8Rd1EX/yH4p07GIDXbCnAAAAAElFTkSuQmCC",Lu=Object.freeze(Object.defineProperty({__proto__:null,default:Qu},Symbol.toStringTag,{value:"Module"})),Pu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABlCAAAAACAHCmeAAAET0lEQVRoBZXBiYGCQAAEsEz/Rc+t8isgl8R/1F78SzxU1+KJeKCpe/Fb/FSr2Kud+CV+qFWcqFXciju1iDs1iRtxoybxWw1pXIpLNYlnSiquxIWaxHM1RONMnKuXuNP4VC9xJs7UW1ypVRwUaXyLE/US5+pD7NUQ3+JLvcS5+hYH9RIf4ksNcaZOxYdKxVF8qJdYVCzqQnyoIQ7iQxGbEm91KT7VEHtxUEPs1BCUoE7ElxpiJ/aKOKiXKOKtjuJMDbGJnRriqBYxqYM4V6lYxaaIT7WISU1SxKUaYhGbSuNTvaViUpOUuFFDzGJVxJcaUmJSm7hVQ0xiUUN8qVm81F7cK2ISsxriW81iqKO4VUO8xayIEzUJ6kvcK+IlJkWcqUmoE3GriJeYFHGmJlFn4l4RQ7yVOFWzqDPxQ4kh3oo4U7OoU3GvCOKlxLkaUqFOxb0iiJcS52pIhToTvxQhhhIXahLqW/xWhBhKXKhJqFXqLR4oQlDEhZoEtUgN8UwJQYkLNYtFLeKhCkGJCzWJVc3iqRJBxZWaxKwO4okSoYgLNYlJfYoHKkKJKzWJtzoRP1WEEhdqFkOdip8qosSVmoW6Er+URIkrNYu6FD9VosSVmoS6Er9VosSVmoSapY7it0qUuFCzoM7EI5UocaFmQS1Ss3iopIgLNYuhZqm3eKykiAs1i5c6iH+oFHGhZrGoRfxHpYgLNYlFLeI/Soq4UJOY1So2tYhzJUVcqEm81U7qXJwoKXGlJjHUU/GlpMSVmoT6j/hQUuJKTVL/FEclJa7UJPVfcVBS4lK9pU7FQW3ioBIlrtRb1CQ1iRO1ib1KlLhUL6EO4kztxE4lSlyql6D24kztxKYkSlwr4q02caZ2YlMRSlwrsaq3lPhUe7GpCCUeqr04qr3YVIQSD9WXWNVObEqEEs/UmZjUTuxUCEr8VJfirTaxVyEo8UvdiaE2sVNCUMSJeouXuhNqE3slxFBiKGJWe1FHUZtQm9grIYYSQz0Vk5qFWsVeEWIognooFjWJWsVBCWIoYqidqKgvcVAx1Cr2iiBeiqCOYqiDOFeLOCgxxEsR1CI0JrUT52oVe0UM8VYE9ZLGXq2CxrdaxF4RL/FWxFAv0dirSVDEh1rFXom3mBQx1BCNoyLeaoiDWsVOEW8xK2Io0rhRQ+zVIvaKeItZDTEUcacmsahV7BQxiUURz9Qm1CQldoqYxaqIZ+pMVGyKWMSqhnimvqVpbIpYxaaGeKY+pYhNEavYKeKhOhGrGmITezXEM3WQEqsaYicOaoiHahMVqxpiL45qiIdqESUWNcRBfKghHqqdWNQQR/GphnioNjGrIT7ElyKNZ2oRsxriU5wp8VBNYlbEtzhVQzxSLzGpIU7EqSIeKmJSxKk4Vy/xSMVbDXEurtRLPNYUcSWu1SR+qllcihu1iBu1iBtxrzZxohZxL36qvXirD/FLPFJ34on4l9qJf/kDL2Gdat+6n0YAAAAASUVORK5CYII=",Wu=Object.freeze(Object.defineProperty({__proto__:null,default:Pu},Symbol.toStringTag,{value:"Module"})),Du="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABqCAAAAACeiPB1AAAEQklEQVRoBb3BWaKjSAIEMMX9Dx2TLPYDzFbz0VL8d+K/E/+d+Ef1J/5JvFbn4qV4o57Es3hUG6FEHcSjeFJfcaK+4lbcq4+4VIu4FTdqFV/1EVs1icaVuFSL2KqN2KohLsWVmsVBbcVWpXElztUsftVWbBVxIU7VJM7UTuwVcSZO1CzO1U7sVSp+xa+axJXai72SEgfxoyZxrXbiqCaxF0c1xK3aih+VEjtxUEM8qFVK/KqU2Iq9Ip7UKkWcKmIjdmqIB7UV52qIP7FRk3hQW3GpiK/YKOJJ7QQ1xEFT4iv+FPGkdqJWcdCU+IivIh7UjTioIVbxVcStuhcHRazio4gb9SyOSixiVcSpei2OipjFooY4U+/FUQ0xiUWJo8ZHvREnSkxiUeKgxEc9iAtFDDErcVA3Uh9xr4ghJiWO6lJqlYoHRRCTEkd1JWon7hRBDEUc1a1QH3GnBDGU+FFnQhFUqFncKEEMJX7VmagYKqhZ3ChBUMSJ2guNiqExqVncKSEocaa2QknFUDGpRdwoIShxqlYxqUkMJSa1iDsVQhFv1BCTikmt4k6JUOKNmsRQYlKruFMilHihJjGUmNRH3KqIEi/UJCYlhvqKWyVR4lnNYihiqK24VhIlHtUihhJDHcSlSpR4VIugCOpHXKlEiSf1ETUE9SvOlUSJB3UUapX6E+cqKeJeHYU6FecqKeJW/Yg6ChUXKiniRp2IWoSahIorJSXu1InULIb6iEslJW7UjRjqI66VlLhRk9SJGOojbpSUuFGrUDtBTVLEnUpKXKtVTOpPqFmKuFVJiWu1iFltpD7iSSUlrtUsFnUqHlVS4lpN4qu2UsQLlZS4VkNs1E68U4kSl0rs1J94qyRKvFQ7sagzsVESJd6ofxVfFVHiUX1EvRUfFVHiXi1iUq/FR0UocaNmQf2jWFWEEldqEtQ7MdQiFhVCiVP1/0rNYlEhlDhRT2KvjmJRIShxUC/EqfqKWQVBiY9KXQtqFZdqEosKgiIWdS0WtYp3ShAUsagL8VWreKcEQQ0xqxOxU6t4pQhiKGJSR/GjVvFKiSGGIma1FWdqFW8UMcSkiEn9iXO1ijeKGGJSxKxmca0W8UYRk5gV8VIt4o0Ss1gU8U4t4oUiZrEo4p1axLMiFrGoIV6pRTyqIRaxqiHeqEU8KmIVH0W8UYt4UsRHfBXxQi3iQRFf8aeIZzWLBzXEV/ypIR7VLO7VEH9io4Z4UrO4VUNsxFYN8aBmcaeG2IqdGuJezeJGDbETezXErZrFtRpiLw6aIm7ULC7VEAdx1BRxrWZxqYijOFPiWk3iQhG/4kxJ40oNcaGIE3GmhrhSQ5xpSpyKUzXEhRriTBHn4kINaZyoIX7VEBfiSs3iVxEHjSIuxbVaxV4RW7WKa3GnvmKjxFet4lY8qD+xKjGpP/EgntVeVGonnsVb9SfULN6Lf1STaPyr/wEZZ5J2PlnxwgAAAABJRU5ErkJggg==",Yu=Object.freeze(Object.defineProperty({__proto__:null,default:Du},Symbol.toStringTag,{value:"Module"})),Bu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABlCAAAAACAHCmeAAAEQUlEQVRoBa3BC5LqOAAEMPX9D93PSfgEsAOztVL8TZ3FH8SvaiV+Er+ob+Kr+KpO4qyG1C6uxRd1iIqJImqIK3GpNvFFU4dYigu1i1/UIRZiqYjGrxpKzMVCDWl8KGKqUcRMzBVpfKi7+NRQYiKmipiop5iqIT7ERA0xUycx1ZR4F59qiLk6ialKxZv4UNJYqU0UsdR4E+9KXKinWKhUvIg3NcSFuoulSsVZvCriUt3FWg1xEi9qiEv1IhaKeIqzIr6pNzFT0niIkyK+qiHqIWZqiLt4qiG+qImYqSFu4qmISzUXU5XGTTwUcaGWYq7SOMRdESv1KuokForYxU0RK/Um6iGWaohN3BSxUm+iDnGpiE0cilirV6ldfFPEELsirtSL+FURQ+xKXKsXafymCGJTxBd1korfFEFsirhUL1KxqZtYKUIMRVypQ1ALsVBCDEWs1S52tRRTJcRQYq02cVOb1ETMlBAUsVKbONQhmhLqLGYqBCVWiripuxjqU0yUCEosFHGop6ipmCgRlJgrcaiT1BA39RQTFaHEXIlDnaXEUz3Fp4pQMVdiV69S4qmG1CY+lYSKqSI2NREPtYka4lNJlJgqYihiaFCHeKhNUGKiEiVmagiKuKuT2NUmlJipRImZ2qXEU53FpnYpYqYSJWbqIW7qJmoTm3qIqRIlZuohDvUQlcamHmKuRImZOqRiU69Ssam7WChRYqrugnoRKo2h7mKhpIi5uouaiE3dxUpJEQt1E/UiRexqSImlkiJW6hB1liIORUqslRSxUocY6kUc6hAXSopYql3c1EMcipS4UFLEWu3iUE9B3cWVkiLWahebmkuJKyUqLtQuhlqLS5UocaE2QT1FncW1SpS4UJtQr4I6xBeVKHGhNlGvUg/xTSVKXKiJ1F38ohIlrtSH1C5+VBFKXKgPKeJ3FaHEhZqKP6gIJa7UTLyph3hTEYq4Un8XJyWCEtdK7OpH8VQhKPGT+ou4qxCU+KpOUj+IQwkxlLhS/03sSoihxEpNhPouNkWIoYhPtZD6SWxKEEMRr+r/EBRBbIrY1Y/iU51FgxJDbIrY1afUp5iru9gUMcSuiE1dCHUTa7WJTYlN7GqIoebiUDfxkyI2cShiU0SdxUMd4idF7OJQQ2zqTZzUIX5SxC5uitjVSbyqQ/yiiEPcFbGrm/hQh/hBETfxUMQ3dYjviriLhxriizrEVzXEXTzVENfqEF8V8RAnRVyrQ3xRQzzFWRGXipT4ooiTOKshrhQpca2Is3hRQ1yoXVyqIV7EmyIulFRcqSFexbsaYqmk4kIN8SY+1CYWSiqWahPv4lNtYq6ksVRDfIqZ2sRMDbFQm5iIqdrERA0xVZuYirmSEp8qjZkaYiFWmtrEmyI+1C5W4koN8arEu9rFWlyoQxonjXe1iwtxrW5irlGb+CK+qrM41Iv4Kn5Rl+IX8Sf1EH/0DyR8qGp+1pBYAAAAAElFTkSuQmCC",Gu=Object.freeze(Object.defineProperty({__proto__:null,default:Bu},Symbol.toStringTag,{value:"Module"})),Xu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABsCAAAAACu+NgsAAAFfklEQVRoBb3BUULbCgJFMZ39L/qOnRCIIWnp+xgpvzF/ll/KX82v5BfyF/NN7ua7/FX+aL7khXmWv8gfzIf80TR3+aO8Mw/5jfmQ9/LGfMhvzV3eykvzIf9gPuSNvDI3+Vdzl9fy09zlP5i7vJIf5ibPRn5lzSGv5Ls55WLu8gtzygv5Zk65mE/5hTnlh1zNKVfzJX83N/kuF3PKN/MkvzCnfJNnc8p38yy/MKdc5cmc8sNc5BfmlIt8mVN+WnPTHPIbc8qzfJpTXpon+ZU55Fk+DXljnuR35pQv+TCnvDF3DfmlOeRLPswh78xdQ35pTvmUuznlnblpyK/NKQ+5mVPemptG/sEc8pCbOeStuWvklTXywxzyIac55L35lJ/mU67mlLuc5pD35lN+mGe5mEPucphD/mA+5Zv5Ls/mkJsc5pD35lmezAt5MofchDnknfkhD/OheZYvQ27CkHfmhdzNG3ky5BRzyEvzWu7mnXwZcsoc8tK8kdE8yzzJpyGnzCE/zSvNIXOV03zKpznkkDnku3mlOcXcNS0f5ks+DTlkyDfzUnMK85Av8yWfhhwy5DByM80fhDnlar7kyxAachjChHknp7nLxXzKkyE05DB3zWvNIac5NHI1D3kyhIYwNzEvNYfczKEhQyOHeciTOUQjpzmEeSt3c5d5EvOQZ0M0cprXmlNDbuZJ86X5kIshGrmZFzJfcppfyMUc0sjN/NQ8y2F+I1dDGrmbv8hhfiUXc0iTD/NNcxHmSfNOLuaQJg9z1dA8xPxJ5kMu5pAmD3NqnmQeMn8S8yFXQ5p8mu9iXmuuYh5yNaTJl7kKc9dcNM9ymIdcDWnyZJ6FuWrNQ/OQwzzkakiTZ/Mlh7loWebUfMjNPORqSJNv5i6n+dCcYplTc2q5m4dcDWny3RxyM18acprvcpiHXA1p8ifzIYac5tAyGrEwD7ka0uQP5qE55GZOMaccFvOQqyFN3puHpslhmZvMKadpHnI1pJF3lrlrWk6L+aF5kqshjbyxrLlpcreYv8jVkEZeW8ynfFhM5qfmLhdzSCOvLIf5lA/LvJE55WqIRn6anOYhD8s0mpvmJqc55WKIRr6Z3MyXPCxzajIPWRjyzRCNXI2c5kkeltGcMocWFoZ8M0RGLoaYJy1PRsvcZTksDLmaQ2TkYl7JwzJac5OHhZFv5hANuZgX8mw0N5ncLYxczSE0h1zMT3k2mrtcDLmaQ2gOuZif8mkZzSnfDLkacsiQq/mm5dMymnxYPg25GnLIHPJkzTctn5aR08hp5DCHXMwhhzDyZM03LReTkS8j5tDybHITc8iToXnS8mkxTX6aQ8uXtZZTrJFnE0bm1PJpMS0fhtzMIcunNS2nHEaejbCsNVmuRsyXHOaQ5dNaPuQ08mXExGKyXM17Wb5My00Oc8iXkU+T5cti3svyMIfc5bBGXllMlvfWwtzF8jDykJshLywmy5PlwzJhzYc8mUM+5G7khcVkeWn5MJlTvqwhH3Iz5IXFZHm2nJZPa80py92ylofcrCE/LCbfTZZnoyFf1pCH3K2RHxaj5e/mlE9DnuTDmrw0h/zVMmS5WUO+5MMa8sIc8guj5dOQJ3lYQ14Y8ndrstzMTZ7k0xpytRjyC5PlZhm5yJc15IchvzAtd3PKRZ6sId8N+TdDy1WerZGrNflHc8o3uVhzyLMh/2IOLd/lam7ybORfDHkh36zR8p+tOeSF/DCHlv9mTZZX8tPc5D9YRstLeWFO+XdzaPJaXptT/ska8l5eW3OTX5rmJm/ljblr+YV5yB/krfmSP5uGlj/KH0zmLm/NTZa/yJ8tc5EP803+Kn8zr8R8iJFfyC/MH2Tkd/I7c9U0Dfm9/JP5kn+X/6v8X/0Phhh8i1Cy6vcAAAAASUVORK5CYII=",zu=Object.freeze(Object.defineProperty({__proto__:null,default:Xu},Symbol.toStringTag,{value:"Module"})),Zu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABrCAAAAACz/eiUAAAFdklEQVRoBb3BCRabSgIEMNX9D13TzWKDwUuSeV+KH9R38Yv4qn4T38VndRIndRLfxCe1icYb9RSfxXu1iy9qF5/EO7WKH9Uq3ot7tYmf1SbeiVu1iD9Tq3gjbtQi/lyt4lZc1SL+Si3iTlzUIqghbpW4U4u4Ea9qCmoVN2qKOzXFVZzVFFNt4qpWcaOmuIizmmKqXVzVJq5qildxVItYVGoVV7WJq5riRRzUFE+1iYt6iIua4iwOaoiD2sRVPcRFTXESTzXEUe3iop7ioqY4ioca4qR2cVEHcVFTHMSupjipXVzUQVzVFE+xqSFe1C5e1VHcqCGeYlNDvKhdvKijuFVDPMSqhnhVuzirVWqIN2qIXSxqiFf1EGe1SA3xTg2xi0UN8ap2cVYHoTZxVkNsYqohLmoXJ3WQeooXNcQqhprionZxUJ/ESQ2xiqGGuKpNHNRncVLEKqghbtRBbOqLOKohFkENcaOm1CIW9VUc1RBTqCHuNIrUIqb6Lg5qiCnUEKsSD416iqnuBPUQTzXEFIpY1RSbRhE1xVQvYlcP8VRDDFFDbGoRi6am1CKGeoqTeoqHGmKIGmJXU0y1iloFTa3iRT3FUxFDFPFQi6CuQm3iVT3EQQ1BaoiHWkXdCEUaN+ohDmoIUsRTTWnqIhqKWNUQm3qIkyJIEU/1QRzUQyxqF2c1hBTxVB/ErobUlIqpdnFWQ0gRT/VW7GqKmlKC2sWLGkJKPNVFaopdTamjUJu4KEJKPNRFvKg7Ubu4KEJKPNRVHJSoG6lNXBUhJXa1Se3ioIbUWdRBXBUhJTb1EE1NcVCr1FEqtYkbRUiJVT2lqUU81VVKmtrFjSKkxKKOohZx1NQiakoRahO3ikjFqg5CLeKkVlGpVdQubhWRilUdhFrESVNTGtQQU63iVhGpWNVTqEWc1EOoKaZaxL0iUrGqp1CLOKmHqKu4V0QqVvUQ1CJOakjFULuoRbxRRCo2tYmhFnFSJ6EO4p0iUrGpTVCrOKkXUQ/xTg2Rik2tYqhVHJVU6k4a79QQKbGpKaZ6il2jNlFp6iHeKkJKbEoai3pIxapRUoIKagiN94qQErsSi9rEVLEpqUVMNUTjgyKkxI3axVBCQ0URu5rikyKkxI16iKFCo6RxVEN8VISUuKijUESjiJOKL4ogKi7qRjRKvKj4rAiixIumFqmnaDQV31U8FUGUeFGbaAxFNIr4QeOphiBKnDW1CBoU0dQQP2g81RCEEie1iqlBiaaG+K7EQw1BFHHU1CIWDSpqEd81jYcihijirBaxatBoaojvmsauhhiiKXFUUzwVoab4QdPYFDEFJU5qiBdNTfFVU7FpSkyhKbFr1BQvmpriBxWbpmlMQRGbRg1x0dQUv2gaU9M0FkFTcVBDvGpqih9UGotKYxE0JaaGCo2LphbxXaUxNEUsYihiaChxrzbxVmPRWNUQqxhqCA0lGncaRSjxSYWGksYmVvUQjVsNJYaa4qnEpogGlcYmVrVLxRsNRXxWQ0wVT7FoahfvNagh3qlVDBUHsWpKfNWYakjjoDHUIhU1xVPsiviqsagpHuokKNJ4iocivqt4qBtpTDXEQeyaEj+peGiaEmc1xUkclPhZEbcqFGkcxVERf6JWUVNqCJoiTuKkxP9FU2mcxVkR/66pNF7EUS3iXxVpvIqTRhH/pIY0LuJVScXfa0oaV/GiKan4S40St+Kihvg7tYh7cauG+CuVxr24U6v4I5Wa4o24V1P8rkQN8Va80RSp+ElFDfFBvNXUIr5qFKn4JD6oXXxUUzQ+i0/qRZzUUyq+ic/qjdSUGqLiB/FdpW6kFtE0fhG/KKFeBCV+Fr+rmBpUSvyZ+GM1ROPPxX8q/lP/A9zVYIqTjIeUAAAAAElFTkSuQmCC",Hu=Object.freeze(Object.defineProperty({__proto__:null,default:Zu},Symbol.toStringTag,{value:"Module"})),$u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABsCAAAAACu+NgsAAAE+klEQVRoBb3BC3bqSgLAQGn/i9a0P4DbNoTkvjNV8o34TL4kP4mvyDfksziSp7iQH8kH8SK34kh+IO/FTj6KF/lI3okH+ULs5AN5I1YmX4qdvCW3YiO/Eit5R27ERn4tFvKGXMVK/iJWcksuYiV/Eyu5Iyexkj+LldyQWazkX8RCrmQSC/lObOQkFnIhR7GQl0DeiBeZxELO5CAWchAgt+JIJrGQE3mJhRzFQm7EkcxiITN5iUFmsZCrmMgsFjKRh1jIWSzkInbGICexkCN5iEEuYiNncSRnsZAD2cVCzuJBTmIiZ7GQF9nEIFfxJLOYyEUM8iKbGOQqnmQWE7mKQZ5kFYPciBeZxZFcxSBPsgqQG3EgsziSGzHIgyxikBtxILM4kjsxyE6GGORGHMksDuRWDLITiEFuxERmcSS3YpCNQAxyFTOZxYG8EYOshBjkRsxkFgfyRgyyEmKQO3EkJ3Eg7wTISgiQGxlHchIH8k4MspAY5CqJlTHIWRzIOzHIQmKQi4yNMchFHMhbMchgDHIVO2OQqziQt2KQwRjkInbGIDfiQHbJWYAMBshVHMmdOBAIkJBZDAIGyFnsjEFuxYkEEjKJQcBALuLA5E7MJGMjkwABAzmLidyKiUnsZBKDYCAnMZF7Ge/IJAbBQM7iQN7IeE8OYhAMZJKxMgZ5Iz6SowDBkEnM5E5CfCJHAYIhkziSi0AW8ZEcBAiGHMXOGOQkkFV8JgcBgiEvMZOjANnET+QgQDDkKWbyFMhD/EyOYhBDHuJENjHILr4hkwAxeYgTWcVGhrgyMAYhVjKJQQzZxZkM8RNjJ5tkFoMYsosLIe4ZDxKDZMidGMSQTcaFgRAI8WDM5LMYxJBNxh3ZBDLEDfksBjFkk7ES4kUekiR2Eg/yWQxiyC4GyYTYyFFm7CQe5LMYxJBdgEkyxEomITEYEg/yWQxiyC7ATBaxkpMMhIRYCMlnAYIhuwB5iI3cS4iFkHwWIBiyi0F2sZF7CbEQks8CBAN5SJ5iI/cSYiEknwUIBnIjdnIvIRbyswDBQG7ETu4lxEJ+FCBgIDdiJ2/FSkI+ChAwkBuxk7diJYQMIbcCBAzkRuzkndjIT2IQkECuYifvxEaOkosYBCSQq9jJVSAQOzlIzmIQEEIuYidnIZt4EAiQITkJkEEI5Cx2Mgl5iCuBZBaDDEIgZ7GTh0AO4o5AMgmQhWQgJ7GTTTKJe3IjkIVkIBexkqv4QM4yk4UMgUwSYiFPyRA/EJKjQFYyBDLJjIXsMiYGMgsEkqNMVgIxyFFmLOQlHkw+SA4CZCUQCznIWMkkBpPvxSAbWQTIJFZyFCCz2MitQJ5kESBHsZGjkKckOcmQozDZySJAZrEweQrZJV8J5EU2YXIQBpK8ZPIbgRzIKgPkJSFkkvxSgDzJJpOzkH+RAfIiDyFnyb8JkBfZZYBMkn8QYHIgDxkmT0nI3wUmR/IUYPIUIH8UEshEjgL5b8RCZnKQgfwXAgyZySyQfxdgciYnAfKPMkwuZBaDyT/IQO7ISQYmf5aEyQ05ywD5qwxM7shFLEz+IAlMbsmNGOT3MlZyT27FYMgvJAQm78itMFbypYRYyFvyRjzIF2IlyQfyXjzIZ4GxkI/kg8BYmLwTGCv5gXyWxEoyeQrjxZAfyU/iwbglBPIF+Vl8IIR8Sb4TM1mF/Ib8QsaL/J78X8n/1f8Am9IOixOlrIUAAAAASUVORK5CYII=",ea=Object.freeze(Object.defineProperty({__proto__:null,default:$u},Symbol.toStringTag,{value:"Module"})),ta="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABsCAAAAACu+NgsAAAF5klEQVRoBb3BSWLjRgAEMNT/H13p5k6JsuU5BIhv1M/iS/Gr+kZ8I35RpzQ29S5+FT+pUzypq/hFfFaH+Ent4mfxSe3iV7VJ4wfxQW3iS7WJj+JRbeI3tQi1iU/iSa3iV7ULtYoP4l2t4nd1CmqRxpN4U4sYivhBnWKqRTyJVzXFohbxSZ1iUYt4EC9qik2t4lldxKoW8SbuaopdreJZHdLY1CJexVVNcVGreFSHNHa1iBdxUVNc1S4e1EWcaoq7uKghbuoQ72pILeKqhriJUw1xUxfxrtLUFHc1xFXsaoqruol3jaYWcVNDXMWuhriqu3hSqUXc1RAXsakpTvUqHjW1iBc1xCk2RZzqTTyq1BRvijjFqoY41Jt4VqkpStzUELtY1BCHpq7is0aR2sSphtjFVFPs6iZ+UilSQ5oShxpiE1MNsatFahE/qtQUtYtNDbGJqYhDXcQvKvUmNjXEKoYiTo1axaqGeFKvUsSmhljEUMShoabYlBTxpp7FpoZYBEWcmloFRUxFvGrUk9gUsQg1xKmpIShiqkVMRRpDox7FpoaYQhEXNYUSQ72JChpqF3WIXRFT1BAXdYihHqREQ+1SF7ErYooibuobKaE+iEMRQxRxU6TeRUWlCHUT1C52NcSQGuKiqSEq6iIVi3oQQ+3iUMQQJa6aGkLFVKcY6kFMtYtTEaSIq6aGmIrUIiWm2qQOMdUuTkWQIq6aGmJRU4pULOpBTLWLUw0hRVw1NcShUYtY1IOYahenGkJKvKghDo2aYlW7qE1MtYuLIqTEi5LGpkJNsapd1Cam2sVFEVLipilpLCooUrGqTahNTLWLixoiJW5qkSIWtYlFbUJtYqpdXNQQKXFVm9jUKabahNrEVLu4qCFS4qqGlKB2qSk2NYXaxFS7uKghUuKqppjqVaxqEWoTU+3iooZIiat6kRpCxa6moDYx1S6uikjFTb0LJU6VEtQmptrFVRGpuKkptUot4tSoKdQuptrETRGpuKlDmlrFRaOmUIcYahM3RaTiphapXbxo1BRqkRJDbeKmiFRc1So1BbWKTaOmUItUGtQmbopIxVWdgopNiU1FhdpFo3ZxU0QqrmoVFHFRQUPFog5Rp7gpIhVXdYpNDUGFRokGjTqEWsVNEam4qik2dRUVjRINGnVI7eKmiJS4qEUs6l0aRUwNJfUibopIiYt6E+qURg0xNGqRuoi7IlLioq5iqqs0aoihUavUJhU3NURKnOoUi0pNqRgaRUyNIirqEDc1REpc1CINNQQ1pAgalcbUKKJC7eKmhkiJi7qIRa3SGBqVxtQookJN0bgrQkpc1CJOTS1i1RSxKaEx1BCNuyKkiFMt4tCoKTZNEVOjhKahpjTuipAiTrWIVQU1pLEpYtEoodFQQuOmhpAa4lCr1BBTDWnsKo1Fo8SuROOuCFJDHJoiLmqKxq5pLColFg0VjZsagtQQh6aIQ61C401Ncag07moIoobYNUpQd9F4U1OsmiJeFDFEDXFRh6hdNN7UIlZFvKghhlDEoVHEi8aDWqWxqHhVQwyhhtg1Kt4U8ap28UkNMQVF7BoVRZwqHtQuPqkhpqCIXVNDfKV28UENsQhqiF1N8ZXaxQc1xCKGGmJTU3yldvGshljFUENsaorv1Cae1RCrmGqITRFfqk08qiE2MdUUqyK+VJt4UlNsYlFDbCq+Vqt4UkPsYlVD/INaxYOaYhermuIf1CIe1BCH2NQUf1dTvKspTrGrKf6spnhXU5ziUFP8WQ3xpqa4iFNN8Vc1xKua4ipOtYg/qiFe1BQ3cVGL+Jsa4q6muIurmuJvirirKV7ETU3xJ0Vc1SJexV1N8SclLmoRb+JVDfGtRomLWsS7eFNTfKdR4lSLeBAPaoivNEocaopH8aSG+E6JXS3iWTyqKb5QxKoW8Uk8q0X8qoipVvFRfFCH+EkJdYjP4qM6xWeVOsRP4id1ikd1FT+LX9SraKh38Zv4TX0pfhdfaOoX8ZX4Sv0gvhZ/UK/S+Iv4X8X/6j/OzIuL68bXyAAAAABJRU5ErkJggg==",sa=Object.freeze(Object.defineProperty({__proto__:null,default:ta},Symbol.toStringTag,{value:"Module"})),na="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABsCAAAAABBOrMSAAAFg0lEQVRoBb3BSYKkRgAEMMX/Hx1OloKEWnsOluIX9UX8KL6r79L4RXxWV7GpF+Kr+KhO8UrN4ov4oA7xQZ3io3irHuKr2qXxQbxTu/hN7eK9eK028Qe1i3fipdrE39Qm3ogXahN/V5t4KZ7VKv5NreKVuKtV/KY2cahVvBA3tYrf1CEOtYoncVOLODVeq6s41Cru4qIWMSnxQt3FqRZxF7NaxKyIu3ohJjXETUxqEbNaxKrEql6IiyKu4lSLuKhVLIqgblLEVQ1xEYdaxEXtYqhF6iY1xE0NMYtDDXFVuxjqENRF3NUQk3ioIW7qIYZ6CGoWz4qYxK6GuKlDDLWLoVYp4pUa4hSbWsRNHWKoXQx1ipdqiENsaoibOsVQu6BO8UYRh1jVEDc1iaF2oSbxRg3xEIsa4q4mMdQm1EW8UUPsYlFD3NQshtqk7uKNInYx1BB3NYlFvRXvlNjFUEPc1CQW9V68U8QmqCHuapMSq3ov3qkhVkERd7VJEat6JTXEW0WsgiJuahKb2qROKdJ4q4ZYhCJuapMSD7VJ3cUHRSxCETd1iofapA6pIT6pIYYo4qYm8VCb1FV8VEMMUcRVbVLiVJuoWXxRxBBFXNQmRRxqF6vaxRc1BKkhLuoUp9rEqibxSQ1Birio1EOcahNDXcUnRZAiLpoaUmJWm6B2qU18UAQpYtaoXcxqE/VCvFdDSBGTmsSsNqlX4r0aQkpM6hQXtUu9Eh8UISVONYmL2kRdpVLxXg0hJQ41i4vaRM1SpOKDIqTEoWZxUZuoSYo0PipCShxqFhe1ibqJb4qQEoe6CCo2tYk6pMR3NURKHOoiqFjVLtRFfFVDpMSpZqHEqnZBbVLxixoiJU51ERWb2sSqFmkap8ZrNURKnOoiKja1iaEOsapJ3NUQKTGpWSp2tYmh3osSVzVESkxqiHqIXW2ChvokrmqIlJiUoB7ioVYpUl/ERQ2REs9qF4d6LdSzmNUQKfGsdnEoQh1SH8SkCCnxrHZxqCHqJk1jV6c4FSElntUuDkXqSczqEKcipMST2sWkpFKzuKpTHIqQEk9qF5MijZrEVZ3iUIQUcVe7mNUQahKzhtrFoQgp4q52MStiVZM4NNQuHoogRdzVLi4qNk3NYtNQu3goghRxV5t4ry5i1ahdHIogRdzVJl6rqJugUbs41BCkhripTbxSQt2FRu3iUEOQGuKmdvFCiVqkJtEoKeJUxBBFXNVD7GoXKorUVTRqFacaYoga4qImQVOTKKlZlKBWcSpiETXERZ1SpE6hHmKoIUXUKk41xCIUcVGnoJ6kFrEqUkSt4lRDLEINMatZapW6i4ciGrWKQw2xCoqYNPUsqE1qEVcNtYhTDbEKipg0tUodYlGnaFw0ilScaohVUEOcapd6iF1tQombWsSphtjEUEMcaheVGuJQq1BDHBpqiEkNsYlFEYfahaaGmJQYahEPjSIVhxpiF4sa4lCbUKt4oYZ4aCipONQQD7GoRTzUJihpvFRDUEMoUvFQi3iIVQ3xUJtYVLzRlHioIRUPNcQhNrWITVOL+KJWsapNPNQiDrGpRWxqFV/VJtQiJXa1iFPsahGrpob4rq6iYleLOMVDLWLVVBo/qLvY1SImcahFrGqIX9RV7GoRszjVEJuKHzVNPcSuFnERp1rFX1XULja1iKuY1Cr+qlG7WNUibmJWq/ireohVLeIuLmoRf1abWNQqnsRVLeKvahOLWsSzuKsh/qqGWNQqXogntYg/KrGoVbwSL9QQ/6YW8Vq8UkP8g1rFG/FSLeKPahVvxWu1it/VLt6LN+oQ39VDfBJv1Sk+qkN8FJ/UKV6qSXwTn9VVDA31LL6Kb+pH8YP4QVOfxY/iJ/VB/C7+oG6i8Sfx/4r/13856SmLbWlT4gAAAABJRU5ErkJggg==",oa=Object.freeze(Object.defineProperty({__proto__:null,default:na},Symbol.toStringTag,{value:"Module"})),ia="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABqCAAAAAB4oTsxAAAEb0lEQVRoBb3BC5KDVgIEMPX9D937wGCD+XmS1Erxi3oSP4lH9Zt4FvdqJ3ZqJ57EndqIc/UR9+JareJBreJOXKlV/KAWcSPO1SJ+Vi9xKU7VS/xJzeJKnKiXOFUvcVSzOBdHNYkrtYqDeokzcVCzuFarOKhZnIhvNYk79RHfahZH8aUmcas24qAmcRB7NYlbtRVHNYlvsVWzuFV7caKG+BIbNYlb9S1O1CT2YqOGuFUHcaqG2ImPGuJOnYkzNYmteKshbtRBijhVk9iIVU3iUh2EpnGhJvERixriSp2IBzXERyxqiHN1Kp7UEG/xUkOcqi+hhjQe1BCrmNUQp2onSmoST2qIVcyKOFVboUQRP6ghFjGpIU7VVlQ0flVDLGKoSZyqL/EnNcRLDEVcqK34syJeghriQr3FlxriXg0xC2qIC/UWO7WKOzXEJCjiSn3ERm3EtRpiEhRxpTbirXbiUg0xCUVcqq1Y1Je4VEMMUUNcq42Y1FFcqiGGqCFu1Eeoc3GpiCGKuFe/iCs1BKkh7tUv4koNQWqIe/WLuFQEKeJB/SIuFUGKuFc/iUs1hBRxrw6ivsS1GkKKuFd7oQ7iRhFS4kFtpc7EnSKkxIP6CEWonbhThJS4V6uYNA21E7dqiJS4V4vQ0BhqJ27VEClxqxah4qV24l4NkRK36iVKvNROPKghUuJOLaLES71FxYMaIiXu1CI0ZvUWKp7UEClxpxbRmNVHaDyqIVLiTi2iMamPUPGohkiJO/URQ30EjWc1RCpu1UdQqZf4WQ2Rilv1FtRHKo1f1BCpuFVvUVtR0nhWQ6TEnXpLPYpTRUiJW7WRehYHRUiJW/VPxE4RUuJa/VOxVYSUOKp/L95qCCmxqiH1H4lVEaSIWf2XUmJRBCliUrNQp6KuhfoSiyJIEZP6z8VLDUEUMdSP4q0uhIpFDUEUMdSD2Ksb0VjUEEMUMdSlOFFbsVNiVUMMUUMMdRTXGr8pYhKKGGov/hs1xCTUENRHzIr4l4qYhRpiUkN8FHGqPuJOEbNQkzhRxEcRL7UTV4p4CWqIo6bErBaxqL04V8RLDEUc1CyGeom9WqVxpoZ4iaGG+FIHcVCrNI5qiEUMNYmtSr2kZnGm3uKohljErIi92otT9RHfaohVzGqIj6Z24qi+xJcijVW81BBvTW3FUR3EXg3xFi9NEataBBVn6lvs1BAfsaghVvUSRVyovdiqITZiVUMsmpqkxLXaiY2axEasahKrGlJp3Kit+CjS2Iq3GmLRKClxqz7ioyaxEx81iVmjpMS9eou3msRebNQkJk3N4kkt4q1msRdbNYlJvcSTSk1iVZP4Fjs1iUlN4lnNYlWTOIi9msVQxA9qEquaxFF8qVn8RRGrIo0T8a1m8Q/VLM7EQc3in6iXOBVnahJ/VYs4F6dqiL+pl7gUp2oVP6pVXIoL9RaP6i1uxKVaxb16i1txoz7iXG3Eg7hX31IX4lE8qB/FD+JZPYrfxE/qUvxB/EFtpdH4k/i/iv+r/wEEcJN6pgU6cwAAAABJRU5ErkJggg==",ra=Object.freeze(Object.defineProperty({__proto__:null,default:ia},Symbol.toStringTag,{value:"Module"})),la="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABsCAAAAABBOrMSAAAFa0lEQVRoBb3BR4IjRwADMPD/j6arc5Q0ezEQf1I/xN/Eb/UHafxB/FB3Mamn+Cm+qpN4UyfxQ3xTu/iidvFVfFS7+KlW8U18Uqv4o1rFR/GuVvEPahGfxKtaxD+qRbyLNzWLr2qIm1rEm3iqRXxVq7ioRbyIh5rFd7WLq5rEi7irWfxSu7iqWTzETU3ipPGmdnFTs7iLqxrirMSb2sVdTeImzmoWZ0W8qF081RBXcVaTOKsh3tQmnmoSF3FSk7ioSbyoQzzUJM7iUJO4qlk81Vnc1SRO4lBDXNUinuoqbmoSh9jVEFe1ibu6i5sa4hCbGuKmdnFWL+KmJrGLVQ1xU4c41Lu4qUlsYlGTuKlDLOohahJPRWxiVpO4qZOY1V1qES9qiFXMaoibOolFfRCvahKLmNUQN3USi3oTH9UQi5jUEDdNHWJVZ6khvqghZjEp4q5O4lAX8V0NMYuhhripVUqc1EX8UMQsqCFuapUiDnUVtYkXNcQkqCFuapESh1qEehN3NcQk1BB3NUuJXc1iUg8pcVfEJNQQN3WITU1iVu/iroYYQg1xVYdY1SQm9UXcFDFEDXHVqFWsaohJ7VIPcVPEEDXEVVNDilgVMdQh9SJuiiCKuGrUKlZFDPUQQ+3ipgiiiIs6xKKGGOomVrWLqyKIEle1i0URQz3Eog5xVUNIERd1iEUR1EOs6hBXNYQUcdbUJlZFqFWoTcxqFzc1hBRxUouU2NQuFnWIoXZxV0OkiEOdxKY2sajUJqhD3NUQKWJXJ7GpXUwa6hBqFw81RIrY1UnsapEGFeok1CaeaoiUONRZbJqapFGpQyoNtYmnGiIldnUWk8bQ1Cx1kYqhNvGihkiJQ10EjUl9FEOt4lURKXGoi1AxqY9iqFW8KiIlDnURKmY1C0pqE5NaxLsiUuKkzqJiVbMY6hBDLeKDIlLipM6iYlWzmNQmqE18UERKnNQQNUuJVc1iUS/ikyJS4qyEmqViV5OY1SbUKj4pIiWeahO7mkRFvYlPaoiUeKpN7GqShnoRn9UQKfFUqzjUImqX2sRnNURKPNUqDjWL2qRW8VUNkRJPtYqzukoNafxShBTxUKs4adRd/EURUsRDLeKsoc7S+JMipIiHWsRFU4uoIY1d7eKqhpAiHmoRV7VLkTqLTcVJDSE1xF0t4oNKzeKDxq6GkBrirmbx1CihhrioVdBY1RCkhripRdw0FbP6LjQWNQSpIW5qEZ/UT1ExK2KIGuKqFrErsai/icasiCEUcVWLmFWs6iw1iaGhpM5iqCGGUMRVreKirlKpQyxqE0MNMYQa4qJ2sahdTGoRJ0UMtYihiEmoIS7qENQuhhI1xEOJSRHUEJOghjipReomaBqNIt7VIoYaYhJDESeNGlJnocSmxG81xCyGGuJQi2ioIYaKkxI/NSUWMdQQh1qExq5x0Wj8UkMsYlJD7GoRVFDirvFbEZuYFbGrRXzU0Gj8UEOsYlZDbJqaxEeNisZ3NYlVLGqIVVOT+KrR+KomsYlFTWLRqCG+qWh8U5PYxaqGWDRqiG8qGt/UEIdY1SQWjSK+qfiuSOMQm5rErKHiq0rji5rESexqErOm4rtK44sa4iwONYlZEV9VGh/VJC7ipCYxa/xQaXxSs7iIs5rE31QaH9QsruKsZvEnJT6oIR7iqob4g6bEu5rEQ9zUEL81JV7VJJ7irob4gxIvahYv4qFm8UMRTzWLN/GihvihaTzUIl7Fm5rEv6tFvIt3NYl/U4v4JN7VLP6uNvFRfFKb+K128UV8VCfxTe3iq/imDvGmTtL4IX6ou5jUU/wUv9SrUIdU/EH8Qf0UfxN/U5/F38U/qJto/JP4f8X/6z8dVxuL55I6qgAAAABJRU5ErkJggg==",ca=Object.freeze(Object.defineProperty({__proto__:null,default:la},Symbol.toStringTag,{value:"Module"})),ua=Object.assign({"/assets/chess_templates/black_bishop.png":Au,"/assets/chess_templates/black_cannon.png":Ou,"/assets/chess_templates/black_guard.png":Ju,"/assets/chess_templates/black_king.png":Lu,"/assets/chess_templates/black_knight.png":Wu,"/assets/chess_templates/black_pawn.png":Yu,"/assets/chess_templates/black_rook.png":Gu,"/assets/chess_templates/red_bishop.png":zu,"/assets/chess_templates/red_cannon.png":Hu,"/assets/chess_templates/red_guard.png":ea,"/assets/chess_templates/red_king.png":sa,"/assets/chess_templates/red_knight.png":oa,"/assets/chess_templates/red_pawn.png":ra,"/assets/chess_templates/red_rook.png":ca});async function aa(){var t;const e={};for(const[o,l]of Object.entries(ua)){const c=(t=o.split("/").pop())==null?void 0:t.split(".")[0];if(c){const a=new Image;a.src=l.default,await new Promise(p=>{a.onload=p});const f=cv.imread(a),h=new cv.Mat;cv.cvtColor(f,h,cv.COLOR_RGBA2GRAY),e[c]=h,f.delete()}}return e}function fa(e,t,o){let l=-1,c="none";const a=[e.cols,e.rows],f=new cv.Mat;e.channels()===4?cv.cvtColor(e,f,cv.COLOR_RGBA2GRAY):e.channels()===3?cv.cvtColor(e,f,cv.COLOR_RGB2GRAY):e.copyTo(f);const h=Object.entries(t).filter(([y,S])=>o==="red"?y.startsWith("red_"):o==="black"?y.startsWith("black_"):!0);for(const[y,S]of h){const b=new cv.Mat;cv.resize(S,b,new cv.Size(a[0],a[1]));const F=new cv.Mat;cv.matchTemplate(f,b,F,cv.TM_CCOEFF_NORMED);const V=cv.minMaxLoc(F);if(V.maxVal>l){l=V.maxVal;const k={king:"k",guard:"a",bishop:"b",knight:"n",rook:"r",cannon:"c",pawn:"p"},O=y.split("_")[1];c=k[O]||"none"}b.delete(),F.delete()}return f.delete(),l>.3?c:"none"}function Pr(e,t){const[o,l]=e.trim().split(/\s+/),c=o.split("/");if(c.length!==10)throw new Error("无效的 FEN：行数不正确");const a=[];for(const B of c){const ne=[];for(const ye of B)if(ye>="1"&&ye<="9"){const Fe=parseInt(ye,10);for(let de=0;de<Fe;de++)ne.push(null)}else ne.push(ye);if(ne.length!==9)throw new Error("无效的 FEN：某一行的列数不正确");a.push(ne)}if(t.length!==4)throw new Error("无效的走棋格式");const f="abcdefghi",h=t.charAt(0),p=t.charAt(1),y=t.charAt(2),S=t.charAt(3),b=f.indexOf(h),F=9-parseInt(p,10),V=f.indexOf(y),k=9-parseInt(S,10);if(b===-1||V===-1||isNaN(F)||isNaN(k))throw new Error("无效的走棋格式");const O=a[F][b];if(!O)throw console.error("fen:",e),console.error("move:",t),new Error("起始位置没有棋子");a[k][V]=O,a[F][b]=null;const Z=l==="w"?"b":"w";return`${a.map(B=>{let ne="",ye=0;for(const Fe of B)Fe?(ye>0&&(ne+=ye.toString(),ye=0),ne+=Fe):ye+=1;return ye>0&&(ne+=ye.toString()),ne}).join("/")} ${Z} - - 0 1`}function yi(e,t){const o={K:"帅",A:"仕",B:"相",N:"马",R:"车",C:"炮",P:"兵",k:"将",a:"士",b:"象",n:"马",r:"车",c:"炮",p:"卒"},l="abcdefghi",c=["零","一","二","三","四","五","六","七","八","九"],[a]=e.trim().split(/\s+/),f=a.split("/"),h=[];for(const X of f){const oe=[];for(const B of X)if(B>="1"&&B<="9"){const ne=parseInt(B,10);for(let ye=0;ye<ne;ye++)oe.push(null)}else oe.push(B);h.push(oe)}const p=l.indexOf(t.charAt(0)),y=9-parseInt(t.charAt(1),10),S=l.indexOf(t.charAt(2)),b=9-parseInt(t.charAt(3),10),F=h[y][p];if(!F)throw console.error("fen:",e),console.error("move:",t),new Error("起始位置没有棋子");const V=F>="A"&&F<="Z",k=o[F],O=V?c[9-p]:` ${p+1} `;let Z="",H="";return p===S?(Z=V?y>b?"进":"退":y<b?"进":"退",H=V?c[Math.abs(y-b)]:` ${Math.abs(y-b)} `):(Z="平",H=V?c[9-S]:` ${S+1} `),(k==="马"||k==="象"||k==="相"||k==="仕"||k==="士")&&(Z=V?y>b?"进":"退":y<b?"进":"退",H=V?c[9-S]:` ${S+1} `),`${k}${O}${Z}${H}`}const ha=(e,t)=>({k:t==="red"?"K":"k",a:t==="red"?"A":"a",b:t==="red"?"B":"b",n:t==="red"?"N":"n",r:t==="red"?"R":"r",c:t==="red"?"C":"c",p:t==="red"?"P":"p",none:""})[e];function da(e,t="red"){const o=[];for(const f of e){let h=0,p="";for(const y of f)if(y==="none")h++;else{h>0&&(p+=h.toString(),h=0);const[S,b]=y.split("_");p+=ha(b,S)}h>0&&(p+=h.toString()),o.push(p),console.log(`FEN row: ${p}`)}const a=`${o.join("/")} ${t==="red"?"w":"b"} - - 0 1`;return console.log(`Generated FEN: ${a}`),a}function Si(e){const t=e.split(" ")[0].split("/"),o=[];for(let l of t){const c=[];for(let a of l)if(isNaN(parseInt(a))){const f=a===a.toUpperCase()?"red":"black",h=a.toLowerCase();c.push({color:f,type:h})}else{const f=parseInt(a);for(let h=0;h<f;h++)c.push(null)}o.push(c)}return o}const bi={k:"将",a:"士",b:"象",n:"馬",r:"車",c:"砲",p:"卒",K:"帥",A:"仕",B:"相",N:"傌",R:"俥",C:"炮",P:"兵"},eo="9/9/9/9/9/9/9/9/9/9 w - - 0 1",es=ku("chess",()=>{const e=Le(""),t=Le(null),o=Le({width:0,height:0}),l=Le(eo),c=Le([]),a=Le([]),f=Le(""),h=Le(!1),p=Le(null),y=Le(Number(localStorage.getItem("depth"))||15),S=Le(!1),b=X=>{console.error("[Store] 错误:",X),p.value=X},F=X=>{try{console.log("[Store] 设置 FEN:",{current:l.value,new:X,isProcessing:S.value,bestMove:f.value}),l.value=X,c.value.push(X)}catch(oe){b(`设置 FEN 码时出错: ${oe.message}`)}},V=X=>{console.log("[Store] 设置最佳着法:",{current:f.value,new:X,isProcessing:S.value}),f.value=X};return{overlayImageSrc:e,chessboardRect:t,originalImageSize:o,fenCode:l,fenHistory:c,moveHistory:a,bestMove:f,isCalculating:h,error:p,depth:y,isProcessing:S,setError:b,setFenCode:F,setBestMove:V,handleNextMove:()=>{if(!(!f.value||f.value==="red_wins"||f.value==="black_wins"))try{const X=Pr(l.value,f.value);F(X),a.value.push(f.value),V("")}catch(X){b(`执行下一步时出错: ${X.message}`)}},handlePreviousMove:()=>{c.value.length>1&&(c.value.pop(),a.value.pop(),l.value=c.value[c.value.length-1],V(""))},resetHistory:()=>{console.log("[Store] 重置历史"),f.value="",c.value=[eo],l.value=eo,e.value="",t.value=null,o.value={width:0,height:0},p.value=null,h.value=!1,S.value=!0},setDepth:X=>{y.value=X,localStorage.setItem("depth",X.toString())}}});function pa(){const e=Al(),t=10;let o=0;const l=es(),c=async()=>{console.log("OpenCV.js is ready");try{const f=await aa();if(Object.keys(f).length===0){l.setError("没有成功加载任何模板");return}e.value=Vn(f)}catch(f){throw l.setError(`加载模板时出错: ${f.message}`),f}};let a;return Tn(()=>{(async()=>{a=window.setInterval(async()=>{if(o>=t){l.setError("在最大重试次数后仍未能加载 OpenCV.js"),clearInterval(a);return}o++,!e.value&&typeof cv<"u"&&typeof cv.Mat=="function"?(clearInterval(a),await c()):e.value&&clearInterval(a)},500),typeof cv<"u"?(await new Promise(h=>{cv.onRuntimeInitialized=h}),await c()):document.addEventListener("opencv-loaded",c)})()}),To(()=>{document.removeEventListener("opencv-loaded",c),a&&clearInterval(a)}),{templates:e}}const ga="modulepreload",ma=function(e){return"/xiangqi-analysis/"+e},vi={},wa=function(t,o,l){let c=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));c=Promise.allSettled(o.map(p=>{if(p=ma(p),p in vi)return;vi[p]=!0;const y=p.endsWith(".css"),S=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${S}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":ga,y||(b.as="script"),b.crossOrigin="",b.href=p,h&&b.setAttribute("nonce",h),document.head.appendChild(b),y)return new Promise((F,V)=>{b.addEventListener("load",F),b.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return c.then(f=>{for(const h of f||[])h.status==="rejected"&&a(h.reason);return t().catch(a)})};class Ea{constructor(){Ms(this,"engineInstance");Ms(this,"engineReady",!1);Ms(this,"currentResolve",null)}async initEngine(){if(!this.engineReady)try{const t=await wa(()=>import("./pikafish-ZteQ764f.js"),[]),o=t.default||t;window.Pikafish=o,this.engineInstance=await o({locateFile:l=>l==="pikafish.data"?`https://xiangqiai.com/wasm/data/${l}`:`https://xiangqiai.com/wasm/single/${l}`}),await this.engineInstance.ready,this.engineInstance.read_stdout=l=>{if(l.includes("id name")||l.includes("bestmove"))console.log("[Engine] >",l);else if(l.includes("info depth")&&l.includes("score")){const a=l.match(/depth\s(\d+)/),f=l.match(/score\s(cp|mate)\s(-?\d+)/);a&&f&&a[1]==="14"&&console.log(`[Engine] 深度 ${a[1]}, 评分 ${f[1]} ${f[2]}`)}const c=l.match(/bestmove\s(\S+)/);c&&this.currentResolve&&(this.currentResolve(c[1]),this.currentResolve=null)},this.engineInstance.send_command("uci"),console.log("[Engine] 引擎初始化完成"),this.engineReady=!0}catch(t){throw console.error("[Engine] 初始化失败:",t),t}}async getBestMove(t,o=14){if(!this.engineReady)throw new Error("Engine is not ready");return console.log("[Engine] 开始分析:",{fen:t,depth:o}),new Promise((l,c)=>{try{this.currentResolve=a=>{if(a==="(none)"){const p=t.split(" ")[1]==="b"?"red_wins":"black_wins";console.log("[Engine] 分析结束:",p),l(p)}else console.log("[Engine] 分析结束:",a),l(a)},this.engineInstance.send_command(`position fen ${t}`),this.engineInstance.send_command(`go depth ${o}`),setTimeout(()=>{this.currentResolve&&(console.error("[Engine] 分析超时"),c(new Error("Engine timeout")),this.currentResolve=null)},5e3)}catch(a){console.error("[Engine] 分析错误:",a),c(a)}})}}function ya(){const e=Le(!1),t=es(),{isCalculating:o}=Zs(t),l=new Ea;return(async()=>{try{await l.initEngine(),e.value=!0}catch(f){t.setError(`初始化引擎失败: ${f.message}`)}})(),{isEngineReady:e,fetchBestMove:async(f,h)=>{o.value=!0;try{const p=await l.getBestMove(f,h);t.setBestMove(p)}catch(p){t.setError(`获取最佳移动失败: ${p.message}`)}finally{o.value=!1}}}}function Sa(e,t=30){const o=cv.matFromImageData(e),l=new cv.Mat;cv.cvtColor(o,l,cv.COLOR_RGBA2GRAY);const c=new cv.Mat,a=new cv.Mat;cv.meanStdDev(l,c,a);const f=a.doubleAt(0,0);return o.delete(),l.delete(),c.delete(),a.delete(),f>t}function ba(e){const t=Ao(e),o=vn(t,[0,120,120],[10,255,255],[160,120,120],[179,255,255]),l=vn(t,[0,0,0],[180,255,80]),c=e.width*e.height,a=cv.countNonZero(o),f=cv.countNonZero(l),h=a/c,p=f/c;return t.delete(),o.delete(),l.delete(),h>.05?"red":p>.05?"black":"unknown"}function va(e,t){let o;if(t==="red")o=Ra(e);else if(t==="black")o=Ua(e);else return e;const l=_a(o);let c=new cv.Mat;l.channels()===1?cv.cvtColor(l,c,cv.COLOR_GRAY2RGBA):l.channels()===3?cv.cvtColor(l,c,cv.COLOR_RGB2RGBA):c=l.clone();const a=new ImageData(new Uint8ClampedArray(c.data),c.cols,c.rows);return o.delete(),l.delete(),c.delete(),a}function Ra(e){const t=Ao(e),o=vn(t,[0,100,100],[10,255,255],[160,100,100],[179,255,255]);return t.delete(),o}function Ua(e){const t=Ao(e),o=new cv.MatVector;cv.split(t,o);const l=o.get(2);cv.equalizeHist(l,l),o.set(2,l),cv.merge(o,t);const c=new cv.Mat;cv.Canny(t,c,400,600);const a=cv.Mat.ones(3,3,cv.CV_8U),f=new cv.Mat;cv.morphologyEx(c,f,cv.MORPH_CLOSE,a);const h=new cv.MatVector,p=new cv.Mat;cv.findContours(f,h,p,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE);let y;if(h.size()===0)y=cv.Mat.zeros(t.rows,t.cols,cv.CV_8UC1);else{let S=0,b=h.get(0);for(let B=0;B<h.size();B++){const ne=h.get(B),ye=cv.contourArea(ne);ye>S&&(S=ye,b=ne)}const F=cv.moments(b,!1),V=F.m10/F.m00,k=F.m01/F.m00,O=new cv.Point(V,k),Z=.98,H=new cv.Mat(b.rows,1,cv.CV_32SC2);for(let B=0;B<b.rows;B++){const ne=b.data32S[B*2],ye=b.data32S[B*2+1],Fe=O.x+(ne-O.x)*Z,de=O.y+(ye-O.y)*Z;H.intPtr(B,0)[0]=Fe,H.intPtr(B,0)[1]=de}y=vn(t,[0,0,0],[180,255,80]);const X=cv.Mat.zeros(y.rows,y.cols,cv.CV_8UC1),oe=new cv.MatVector;oe.push_back(H),cv.drawContours(X,oe,0,new cv.Scalar(255),cv.FILLED),cv.bitwise_and(y,X,y),H.delete(),oe.delete()}return t.delete(),o.delete(),l.delete(),c.delete(),f.delete(),h.delete(),p.delete(),a.delete(),y}function _a(e){const t=e.clone(),o=cv.Mat.ones(3,3,cv.CV_8U);cv.morphologyEx(e,e,cv.MORPH_CLOSE,o,new cv.Point(-1,-1),3);const l=new cv.MatVector,c=new cv.Mat;if(cv.findContours(e,l,c,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE),l.size()===0)return o.delete(),l.delete(),c.delete(),t;const a=e.cols*e.rows,f=[];for(let V=0;V<l.size();V++){const k=l.get(V),O=cv.boundingRect(k),Z=O.width/O.height;if(.9<=Z&&Z<=1.1){const H=O.width*O.height;H/a>=.5&&f.push({contour:k,contourArea:H,rect:O})}k.delete()}if(f.length===0)return o.delete(),l.delete(),c.delete(),t;f.sort((V,k)=>k.contourArea-V.contourArea);const h=f[0],{x:p,y,width:S,height:b}=h.rect,F=t.roi(new cv.Rect(p,y,S,b));return o.delete(),l.delete(),c.delete(),t.delete(),F}function Ao(e){const t=cv.matFromImageData(e),o=new cv.Mat;cv.cvtColor(t,o,cv.COLOR_RGBA2RGB);const l=new cv.Mat;return cv.cvtColor(o,l,cv.COLOR_RGB2HSV),t.delete(),o.delete(),l}function Ri(e,t,o){const l=new cv.Mat;return cv.inRange(e,cv.matFromArray(1,3,cv.CV_8UC1,t),cv.matFromArray(1,3,cv.CV_8UC1,o),l),l}function vn(e,t,o,l,c){const a=Ri(e,t,o);if(l&&c){const f=Ri(e,l,c),h=new cv.Mat;return cv.bitwise_or(a,f,h),a.delete(),f.delete(),h}return a}const Ia={red_king:"帥",red_guard:"仕",red_bishop:"相",red_knight:"傌",red_rook:"俥",red_cannon:"炮",red_pawn:"兵",black_king:"将",black_guard:"士",black_bishop:"象",black_knight:"馬",black_rook:"車",black_cannon:"炮",black_pawn:"卒"};function qa(e,t,o,l){const c=document.createElement("canvas");c.width=e.width,c.height=e.height;const a=c.getContext("2d");a.drawImage(e,0,0,c.width,c.height),a.strokeStyle="rgba(0, 255, 0, 0.5)",a.lineWidth=2,a.strokeRect(t.x,t.y,t.width,t.height);const f=t.width/9;a.strokeStyle="rgba(0, 255, 0, 0.3)",a.lineWidth=1;for(let p=0;p<=9;p++){const y=t.x+p*f;a.beginPath(),a.moveTo(y,t.y),a.lineTo(y,t.y+t.height),a.stroke()}let h=t.y;for(let p=0;p<=10;p++)a.beginPath(),a.moveTo(t.x,h),a.lineTo(t.x+t.width,h),a.stroke(),p<10&&(h+=o[p]);return l.forEach(p=>{const[y,S]=p.position,b=t.x+S*f;let F=t.y;for(let k=0;k<y;k++)F+=o[k];const V=o[y];if(a.strokeStyle=p.color==="red"?"rgba(255, 0, 0, 0.7)":"rgba(0, 0, 0, 0.7)",a.lineWidth=2,a.strokeRect(b,F,f,V),p.type&&p.type!=="none"){const k=`${p.color}_${Fa(p.type)}`,O=Ia[k]||"";a.fillStyle=p.color==="red"?"rgba(255, 50, 50, 0.9)":"rgba(50, 50, 50, 0.9)",a.font="bold 24px Arial",a.textAlign="right",a.textBaseline="bottom",a.fillText(O,b+f-5,F+V-5)}}),c}function Fa(e){return{k:"king",a:"guard",b:"bishop",n:"knight",r:"rook",c:"cannon",p:"pawn",none:"none"}[e]}function Kn(e,t){let o=0;for(let l=0;l<e.length;l++)o+=(e[l]-t[l])*(e[l]-t[l]);return o}const to={distanceFunction:Kn};function Va(e,t,o=to){const l=o.distanceFunction||to.distanceFunction,c=o.similarityFunction||to.similarityFunction;let a=-1;if(typeof c=="function"){let f=Number.MIN_VALUE;for(let h=0;h<e.length;h++){const p=c(t,e[h]);p>f&&(f=p,a=h)}}else if(typeof l=="function"){let f=Number.MAX_VALUE;for(let h=0;h<e.length;h++){const p=l(t,e[h]);p<f&&(f=p,a=h)}}else throw new Error("A similarity or distance function it's required");return a}function Ma(e,t){let o=new Array(e.length);for(let l=0;l<e.length;++l)for(let c=l;c<e.length;++c){o[l]||(o[l]=new Array(e.length)),o[c]||(o[c]=new Array(e.length));const a=t(e[l],e[c]);o[l][c]=a,o[c][l]=a}return o}function Wr(e,t,o,l){for(let c=0;c<e.length;c++)o[c]=Va(t,e[c],{distanceFunction:l});return o}function xa(e,t,o,l){const c=t[0].length;let a=new Array(l),f=new Array(l);for(let h=0;h<l;h++){a[h]=new Array(c),f[h]=0;for(let p=0;p<c;p++)a[h][p]=0}for(let h=0;h<t.length;h++){f[o[h]]++;for(let p=0;p<c;p++)a[o[h]][p]+=t[h][p]}for(let h=0;h<l;h++)for(let p=0;p<c;p++)f[h]?a[h][p]/=f[h]:a[h][p]=e[h][p];return a}function Ta(e,t,o,l){for(let c=0;c<e.length;c++)if(o(e[c],t[c])>l)return!1;return!0}class Ca{constructor(t,o,l,c,a){this.clusters=t,this.centroids=o,this.converged=l,this.iterations=c,this.distance=a}nearest(t){const o=new Array(t.length);return Wr(t,this.centroids,o,this.distance)}computeInformation(t){let o=this.centroids.map(l=>({centroid:l,error:0,size:0}));for(let l=0;l<t.length;l++)o[this.clusters[l]].error+=this.distance(t[l],this.centroids[this.clusters[l]]),o[this.clusters[l]].size++;for(let l=0;l<this.centroids.length;l++){let c=o[l].error;o[l].size&&c!==-1?c/=o[l].size:o[l].error=-1}return o}}function ka(e,t){throw new Error(`${t}: "${String(e)}"`)}function Na(e,t){if(t<=0||t>e.length||!Number.isInteger(t))throw new Error("K should be a positive integer smaller than the number of points")}function Aa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Dr(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var o=function l(){return this instanceof l?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};o.prototype=t.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach(function(l){var c=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(o,l,c.get?c:{enumerable:!0,get:function(){return e[l]}})}),o}var be={};const Ka=Object.prototype.toString;function Gs(e){const t=Ka.call(e);return t.endsWith("Array]")&&!t.includes("Big")}const Oa=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:Gs},Symbol.toStringTag,{value:"Module"})),ja=Dr(Oa);function Ja(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Gs(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var o=t.fromIndex,l=o===void 0?0:o,c=t.toIndex,a=c===void 0?e.length:c;if(l<0||l>=e.length||!Number.isInteger(l))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=l||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var f=e[l],h=l+1;h<a;h++)e[h]>f&&(f=e[h]);return f}function Qa(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Gs(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var o=t.fromIndex,l=o===void 0?0:o,c=t.toIndex,a=c===void 0?e.length:c;if(l<0||l>=e.length||!Number.isInteger(l))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=l||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var f=e[l],h=l+1;h<a;h++)e[h]<f&&(f=e[h]);return f}function La(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Gs(e)){if(e.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var o;if(t.output!==void 0){if(!Gs(t.output))throw new TypeError("output option must be an array if specified");o=t.output}else o=new Array(e.length);var l=Qa(e),c=Ja(e);if(l===c)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=t.min,f=a===void 0?t.autoMinMax?l:0:a,h=t.max,p=h===void 0?t.autoMinMax?c:1:h;if(f>=p)throw new RangeError("min option must be smaller than max option");for(var y=(p-f)/(c-l),S=0;S<e.length;S++)o[S]=(e[S]-l)*y+f;return o}const Pa=Object.freeze(Object.defineProperty({__proto__:null,default:La},Symbol.toStringTag,{value:"Module"})),Wa=Dr(Pa);var Ui;function Da(){var Vs,mo,it;if(Ui)return be;Ui=1,Object.defineProperty(be,"__esModule",{value:!0});var e=ja,t=Wa;const o=" ".repeat(2),l=" ".repeat(4);function c(){return a(this)}function a(d,r={}){const{maxRows:n=15,maxColumns:s=10,maxNumSize:i=8,padMinus:u="auto"}=r;return`${d.constructor.name} {
${o}[
${l}${f(d,n,s,i,u)}
${o}]
${o}rows: ${d.rows}
${o}columns: ${d.columns}
}`}function f(d,r,n,s,i){const{rows:u,columns:g}=d,m=Math.min(u,r),w=Math.min(g,n),E=[];if(i==="auto"){i=!1;e:for(let q=0;q<m;q++)for(let v=0;v<w;v++)if(d.get(q,v)<0){i=!0;break e}}for(let q=0;q<m;q++){let v=[];for(let x=0;x<w;x++)v.push(h(d.get(q,x),s,i));E.push(`${v.join(" ")}`)}return w!==g&&(E[E.length-1]+=` ... ${g-n} more columns`),m!==u&&E.push(`... ${u-r} more rows`),E.join(`
${l}`)}function h(d,r,n){return(d>=0&&n?` ${p(d,r-1)}`:p(d,r)).padEnd(r)}function p(d,r){let n=d.toString();if(n.length<=r)return n;let s=d.toFixed(r);if(s.length>r&&(s=d.toFixed(Math.max(0,r-(s.length-r)))),s.length<=r&&!s.startsWith("0.000")&&!s.startsWith("-0.000"))return s;let i=d.toExponential(r);return i.length>r&&(i=d.toExponential(Math.max(0,r-(i.length-r)))),i.slice(0)}function y(d,r){d.prototype.add=function(s){return typeof s=="number"?this.addS(s):this.addM(s)},d.prototype.addS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)+s);return this},d.prototype.addM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)+s.get(i,u));return this},d.add=function(s,i){return new r(s).add(i)},d.prototype.sub=function(s){return typeof s=="number"?this.subS(s):this.subM(s)},d.prototype.subS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)-s);return this},d.prototype.subM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)-s.get(i,u));return this},d.sub=function(s,i){return new r(s).sub(i)},d.prototype.subtract=d.prototype.sub,d.prototype.subtractS=d.prototype.subS,d.prototype.subtractM=d.prototype.subM,d.subtract=d.sub,d.prototype.mul=function(s){return typeof s=="number"?this.mulS(s):this.mulM(s)},d.prototype.mulS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)*s);return this},d.prototype.mulM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)*s.get(i,u));return this},d.mul=function(s,i){return new r(s).mul(i)},d.prototype.multiply=d.prototype.mul,d.prototype.multiplyS=d.prototype.mulS,d.prototype.multiplyM=d.prototype.mulM,d.multiply=d.mul,d.prototype.div=function(s){return typeof s=="number"?this.divS(s):this.divM(s)},d.prototype.divS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)/s);return this},d.prototype.divM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)/s.get(i,u));return this},d.div=function(s,i){return new r(s).div(i)},d.prototype.divide=d.prototype.div,d.prototype.divideS=d.prototype.divS,d.prototype.divideM=d.prototype.divM,d.divide=d.div,d.prototype.mod=function(s){return typeof s=="number"?this.modS(s):this.modM(s)},d.prototype.modS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)%s);return this},d.prototype.modM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)%s.get(i,u));return this},d.mod=function(s,i){return new r(s).mod(i)},d.prototype.modulus=d.prototype.mod,d.prototype.modulusS=d.prototype.modS,d.prototype.modulusM=d.prototype.modM,d.modulus=d.mod,d.prototype.and=function(s){return typeof s=="number"?this.andS(s):this.andM(s)},d.prototype.andS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)&s);return this},d.prototype.andM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)&s.get(i,u));return this},d.and=function(s,i){return new r(s).and(i)},d.prototype.or=function(s){return typeof s=="number"?this.orS(s):this.orM(s)},d.prototype.orS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)|s);return this},d.prototype.orM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)|s.get(i,u));return this},d.or=function(s,i){return new r(s).or(i)},d.prototype.xor=function(s){return typeof s=="number"?this.xorS(s):this.xorM(s)},d.prototype.xorS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)^s);return this},d.prototype.xorM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)^s.get(i,u));return this},d.xor=function(s,i){return new r(s).xor(i)},d.prototype.leftShift=function(s){return typeof s=="number"?this.leftShiftS(s):this.leftShiftM(s)},d.prototype.leftShiftS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)<<s);return this},d.prototype.leftShiftM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)<<s.get(i,u));return this},d.leftShift=function(s,i){return new r(s).leftShift(i)},d.prototype.signPropagatingRightShift=function(s){return typeof s=="number"?this.signPropagatingRightShiftS(s):this.signPropagatingRightShiftM(s)},d.prototype.signPropagatingRightShiftS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)>>s);return this},d.prototype.signPropagatingRightShiftM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)>>s.get(i,u));return this},d.signPropagatingRightShift=function(s,i){return new r(s).signPropagatingRightShift(i)},d.prototype.rightShift=function(s){return typeof s=="number"?this.rightShiftS(s):this.rightShiftM(s)},d.prototype.rightShiftS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)>>>s);return this},d.prototype.rightShiftM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)>>>s.get(i,u));return this},d.rightShift=function(s,i){return new r(s).rightShift(i)},d.prototype.zeroFillRightShift=d.prototype.rightShift,d.prototype.zeroFillRightShiftS=d.prototype.rightShiftS,d.prototype.zeroFillRightShiftM=d.prototype.rightShiftM,d.zeroFillRightShift=d.rightShift,d.prototype.not=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,~this.get(s,i));return this},d.not=function(s){return new r(s).not()},d.prototype.abs=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.abs(this.get(s,i)));return this},d.abs=function(s){return new r(s).abs()},d.prototype.acos=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.acos(this.get(s,i)));return this},d.acos=function(s){return new r(s).acos()},d.prototype.acosh=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.acosh(this.get(s,i)));return this},d.acosh=function(s){return new r(s).acosh()},d.prototype.asin=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.asin(this.get(s,i)));return this},d.asin=function(s){return new r(s).asin()},d.prototype.asinh=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.asinh(this.get(s,i)));return this},d.asinh=function(s){return new r(s).asinh()},d.prototype.atan=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.atan(this.get(s,i)));return this},d.atan=function(s){return new r(s).atan()},d.prototype.atanh=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.atanh(this.get(s,i)));return this},d.atanh=function(s){return new r(s).atanh()},d.prototype.cbrt=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.cbrt(this.get(s,i)));return this},d.cbrt=function(s){return new r(s).cbrt()},d.prototype.ceil=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.ceil(this.get(s,i)));return this},d.ceil=function(s){return new r(s).ceil()},d.prototype.clz32=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.clz32(this.get(s,i)));return this},d.clz32=function(s){return new r(s).clz32()},d.prototype.cos=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.cos(this.get(s,i)));return this},d.cos=function(s){return new r(s).cos()},d.prototype.cosh=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.cosh(this.get(s,i)));return this},d.cosh=function(s){return new r(s).cosh()},d.prototype.exp=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.exp(this.get(s,i)));return this},d.exp=function(s){return new r(s).exp()},d.prototype.expm1=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.expm1(this.get(s,i)));return this},d.expm1=function(s){return new r(s).expm1()},d.prototype.floor=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.floor(this.get(s,i)));return this},d.floor=function(s){return new r(s).floor()},d.prototype.fround=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.fround(this.get(s,i)));return this},d.fround=function(s){return new r(s).fround()},d.prototype.log=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.log(this.get(s,i)));return this},d.log=function(s){return new r(s).log()},d.prototype.log1p=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.log1p(this.get(s,i)));return this},d.log1p=function(s){return new r(s).log1p()},d.prototype.log10=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.log10(this.get(s,i)));return this},d.log10=function(s){return new r(s).log10()},d.prototype.log2=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.log2(this.get(s,i)));return this},d.log2=function(s){return new r(s).log2()},d.prototype.round=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.round(this.get(s,i)));return this},d.round=function(s){return new r(s).round()},d.prototype.sign=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.sign(this.get(s,i)));return this},d.sign=function(s){return new r(s).sign()},d.prototype.sin=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.sin(this.get(s,i)));return this},d.sin=function(s){return new r(s).sin()},d.prototype.sinh=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.sinh(this.get(s,i)));return this},d.sinh=function(s){return new r(s).sinh()},d.prototype.sqrt=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.sqrt(this.get(s,i)));return this},d.sqrt=function(s){return new r(s).sqrt()},d.prototype.tan=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.tan(this.get(s,i)));return this},d.tan=function(s){return new r(s).tan()},d.prototype.tanh=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.tanh(this.get(s,i)));return this},d.tanh=function(s){return new r(s).tanh()},d.prototype.trunc=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.trunc(this.get(s,i)));return this},d.trunc=function(s){return new r(s).trunc()},d.pow=function(s,i){return new r(s).pow(i)},d.prototype.pow=function(s){return typeof s=="number"?this.powS(s):this.powM(s)},d.prototype.powS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)**s);return this},d.prototype.powM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)**s.get(i,u));return this}}function S(d,r,n){let s=n?d.rows:d.rows-1;if(r<0||r>s)throw new RangeError("Row index out of range")}function b(d,r,n){let s=n?d.columns:d.columns-1;if(r<0||r>s)throw new RangeError("Column index out of range")}function F(d,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==d.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function V(d,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==d.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function k(d,r){if(!e.isAnyArray(r))throw new TypeError("row indices must be an array");for(let n=0;n<r.length;n++)if(r[n]<0||r[n]>=d.rows)throw new RangeError("row indices are out of range")}function O(d,r){if(!e.isAnyArray(r))throw new TypeError("column indices must be an array");for(let n=0;n<r.length;n++)if(r[n]<0||r[n]>=d.columns)throw new RangeError("column indices are out of range")}function Z(d,r,n,s,i){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(X("startRow",r),X("endRow",n),X("startColumn",s),X("endColumn",i),r>n||s>i||r<0||r>=d.rows||n<0||n>=d.rows||s<0||s>=d.columns||i<0||i>=d.columns)throw new RangeError("Submatrix indices are out of range")}function H(d,r=0){let n=[];for(let s=0;s<d;s++)n.push(r);return n}function X(d,r){if(typeof r!="number")throw new TypeError(`${d} must be a number`)}function oe(d){if(d.isEmpty())throw new Error("Empty matrix has no elements to index")}function B(d){let r=H(d.rows);for(let n=0;n<d.rows;++n)for(let s=0;s<d.columns;++s)r[n]+=d.get(n,s);return r}function ne(d){let r=H(d.columns);for(let n=0;n<d.rows;++n)for(let s=0;s<d.columns;++s)r[s]+=d.get(n,s);return r}function ye(d){let r=0;for(let n=0;n<d.rows;n++)for(let s=0;s<d.columns;s++)r+=d.get(n,s);return r}function Fe(d){let r=H(d.rows,1);for(let n=0;n<d.rows;++n)for(let s=0;s<d.columns;++s)r[n]*=d.get(n,s);return r}function de(d){let r=H(d.columns,1);for(let n=0;n<d.rows;++n)for(let s=0;s<d.columns;++s)r[s]*=d.get(n,s);return r}function we(d){let r=1;for(let n=0;n<d.rows;n++)for(let s=0;s<d.columns;s++)r*=d.get(n,s);return r}function Ne(d,r,n){const s=d.rows,i=d.columns,u=[];for(let g=0;g<s;g++){let m=0,w=0,E=0;for(let q=0;q<i;q++)E=d.get(g,q)-n[g],m+=E,w+=E*E;r?u.push((w-m*m/i)/(i-1)):u.push((w-m*m/i)/i)}return u}function tt(d,r,n){const s=d.rows,i=d.columns,u=[];for(let g=0;g<i;g++){let m=0,w=0,E=0;for(let q=0;q<s;q++)E=d.get(q,g)-n[g],m+=E,w+=E*E;r?u.push((w-m*m/s)/(s-1)):u.push((w-m*m/s)/s)}return u}function ot(d,r,n){const s=d.rows,i=d.columns,u=s*i;let g=0,m=0,w=0;for(let E=0;E<s;E++)for(let q=0;q<i;q++)w=d.get(E,q)-n,g+=w,m+=w*w;return r?(m-g*g/u)/(u-1):(m-g*g/u)/u}function wt(d,r){for(let n=0;n<d.rows;n++)for(let s=0;s<d.columns;s++)d.set(n,s,d.get(n,s)-r[n])}function Vt(d,r){for(let n=0;n<d.rows;n++)for(let s=0;s<d.columns;s++)d.set(n,s,d.get(n,s)-r[s])}function At(d,r){for(let n=0;n<d.rows;n++)for(let s=0;s<d.columns;s++)d.set(n,s,d.get(n,s)-r)}function Ce(d){const r=[];for(let n=0;n<d.rows;n++){let s=0;for(let i=0;i<d.columns;i++)s+=d.get(n,i)**2/(d.columns-1);r.push(Math.sqrt(s))}return r}function Ee(d,r){for(let n=0;n<d.rows;n++)for(let s=0;s<d.columns;s++)d.set(n,s,d.get(n,s)/r[n])}function _e(d){const r=[];for(let n=0;n<d.columns;n++){let s=0;for(let i=0;i<d.rows;i++)s+=d.get(i,n)**2/(d.rows-1);r.push(Math.sqrt(s))}return r}function _t(d,r){for(let n=0;n<d.rows;n++)for(let s=0;s<d.columns;s++)d.set(n,s,d.get(n,s)/r[s])}function Yt(d){const r=d.size-1;let n=0;for(let s=0;s<d.columns;s++)for(let i=0;i<d.rows;i++)n+=d.get(i,s)**2/r;return Math.sqrt(n)}function It(d,r){for(let n=0;n<d.rows;n++)for(let s=0;s<d.columns;s++)d.set(n,s,d.get(n,s)/r)}class le{static from1DArray(r,n,s){if(r*n!==s.length)throw new RangeError("data length does not match given dimensions");let u=new P(r,n);for(let g=0;g<r;g++)for(let m=0;m<n;m++)u.set(g,m,s[g*n+m]);return u}static rowVector(r){let n=new P(1,r.length);for(let s=0;s<r.length;s++)n.set(0,s,r[s]);return n}static columnVector(r){let n=new P(r.length,1);for(let s=0;s<r.length;s++)n.set(s,0,r[s]);return n}static zeros(r,n){return new P(r,n)}static ones(r,n){return new P(r,n).fill(1)}static rand(r,n,s={}){if(typeof s!="object")throw new TypeError("options must be an object");const{random:i=Math.random}=s;let u=new P(r,n);for(let g=0;g<r;g++)for(let m=0;m<n;m++)u.set(g,m,i());return u}static randInt(r,n,s={}){if(typeof s!="object")throw new TypeError("options must be an object");const{min:i=0,max:u=1e3,random:g=Math.random}=s;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(u))throw new TypeError("max must be an integer");if(i>=u)throw new RangeError("min must be smaller than max");let m=u-i,w=new P(r,n);for(let E=0;E<r;E++)for(let q=0;q<n;q++){let v=i+Math.round(g()*m);w.set(E,q,v)}return w}static eye(r,n,s){n===void 0&&(n=r),s===void 0&&(s=1);let i=Math.min(r,n),u=this.zeros(r,n);for(let g=0;g<i;g++)u.set(g,g,s);return u}static diag(r,n,s){let i=r.length;n===void 0&&(n=i),s===void 0&&(s=n);let u=Math.min(i,n,s),g=this.zeros(n,s);for(let m=0;m<u;m++)g.set(m,m,r[m]);return g}static min(r,n){r=this.checkMatrix(r),n=this.checkMatrix(n);let s=r.rows,i=r.columns,u=new P(s,i);for(let g=0;g<s;g++)for(let m=0;m<i;m++)u.set(g,m,Math.min(r.get(g,m),n.get(g,m)));return u}static max(r,n){r=this.checkMatrix(r),n=this.checkMatrix(n);let s=r.rows,i=r.columns,u=new this(s,i);for(let g=0;g<s;g++)for(let m=0;m<i;m++)u.set(g,m,Math.max(r.get(g,m),n.get(g,m)));return u}static checkMatrix(r){return le.isMatrix(r)?r:new P(r)}static isMatrix(r){return r!=null&&r.klass==="Matrix"}get size(){return this.rows*this.columns}apply(r){if(typeof r!="function")throw new TypeError("callback must be a function");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)r.call(this,n,s);return this}to1DArray(){let r=[];for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)r.push(this.get(n,s));return r}to2DArray(){let r=[];for(let n=0;n<this.rows;n++){r.push([]);for(let s=0;s<this.columns;s++)r[n].push(this.get(n,s))}return r}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let r=0;r<this.rows;r++)for(let n=0;n<=r;n++)if(this.get(r,n)!==this.get(n,r))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let r=0;r<this.rows;r++)if(this.get(r,r)!==0)return!1;return!0}isEchelonForm(){let r=0,n=0,s=-1,i=!0,u=!1;for(;r<this.rows&&i;){for(n=0,u=!1;n<this.columns&&u===!1;)this.get(r,n)===0?n++:this.get(r,n)===1&&n>s?(u=!0,s=n):(i=!1,u=!0);r++}return i}isReducedEchelonForm(){let r=0,n=0,s=-1,i=!0,u=!1;for(;r<this.rows&&i;){for(n=0,u=!1;n<this.columns&&u===!1;)this.get(r,n)===0?n++:this.get(r,n)===1&&n>s?(u=!0,s=n):(i=!1,u=!0);for(let g=n+1;g<this.rows;g++)this.get(r,g)!==0&&(i=!1);r++}return i}echelonForm(){let r=this.clone(),n=0,s=0;for(;n<r.rows&&s<r.columns;){let i=n;for(let u=n;u<r.rows;u++)r.get(u,s)>r.get(i,s)&&(i=u);if(r.get(i,s)===0)s++;else{r.swapRows(n,i);let u=r.get(n,s);for(let g=s;g<r.columns;g++)r.set(n,g,r.get(n,g)/u);for(let g=n+1;g<r.rows;g++){let m=r.get(g,s)/r.get(n,s);r.set(g,s,0);for(let w=s+1;w<r.columns;w++)r.set(g,w,r.get(g,w)-r.get(n,w)*m)}n++,s++}}return r}reducedEchelonForm(){let r=this.echelonForm(),n=r.columns,s=r.rows,i=s-1;for(;i>=0;)if(r.maxRow(i)===0)i--;else{let u=0,g=!1;for(;u<s&&g===!1;)r.get(i,u)===1?g=!0:u++;for(let m=0;m<i;m++){let w=r.get(m,u);for(let E=u;E<n;E++){let q=r.get(m,E)-w*r.get(i,E);r.set(m,E,q)}}i--}return r}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{rows:n=1,columns:s=1}=r;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(s)||s<=0)throw new TypeError("columns must be a positive integer");let i=new P(this.rows*n,this.columns*s);for(let u=0;u<n;u++)for(let g=0;g<s;g++)i.setSubMatrix(this,this.rows*u,this.columns*g);return i}fill(r){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,r);return this}neg(){return this.mulS(-1)}getRow(r){S(this,r);let n=[];for(let s=0;s<this.columns;s++)n.push(this.get(r,s));return n}getRowVector(r){return P.rowVector(this.getRow(r))}setRow(r,n){S(this,r),n=F(this,n);for(let s=0;s<this.columns;s++)this.set(r,s,n[s]);return this}swapRows(r,n){S(this,r),S(this,n);for(let s=0;s<this.columns;s++){let i=this.get(r,s);this.set(r,s,this.get(n,s)),this.set(n,s,i)}return this}getColumn(r){b(this,r);let n=[];for(let s=0;s<this.rows;s++)n.push(this.get(s,r));return n}getColumnVector(r){return P.columnVector(this.getColumn(r))}setColumn(r,n){b(this,r),n=V(this,n);for(let s=0;s<this.rows;s++)this.set(s,r,n[s]);return this}swapColumns(r,n){b(this,r),b(this,n);for(let s=0;s<this.rows;s++){let i=this.get(s,r);this.set(s,r,this.get(s,n)),this.set(s,n,i)}return this}addRowVector(r){r=F(this,r);for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)+r[s]);return this}subRowVector(r){r=F(this,r);for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)-r[s]);return this}mulRowVector(r){r=F(this,r);for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)*r[s]);return this}divRowVector(r){r=F(this,r);for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)/r[s]);return this}addColumnVector(r){r=V(this,r);for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)+r[n]);return this}subColumnVector(r){r=V(this,r);for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)-r[n]);return this}mulColumnVector(r){r=V(this,r);for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)*r[n]);return this}divColumnVector(r){r=V(this,r);for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)/r[n]);return this}mulRow(r,n){S(this,r);for(let s=0;s<this.columns;s++)this.set(r,s,this.get(r,s)*n);return this}mulColumn(r,n){b(this,r);for(let s=0;s<this.rows;s++)this.set(s,r,this.get(s,r)*n);return this}max(r){if(this.isEmpty())return NaN;switch(r){case"row":{const n=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.get(s,i)>n[s]&&(n[s]=this.get(s,i));return n}case"column":{const n=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.get(s,i)>n[i]&&(n[i]=this.get(s,i));return n}case void 0:{let n=this.get(0,0);for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.get(s,i)>n&&(n=this.get(s,i));return n}default:throw new Error(`invalid option: ${r}`)}}maxIndex(){oe(this);let r=this.get(0,0),n=[0,0];for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.get(s,i)>r&&(r=this.get(s,i),n[0]=s,n[1]=i);return n}min(r){if(this.isEmpty())return NaN;switch(r){case"row":{const n=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.get(s,i)<n[s]&&(n[s]=this.get(s,i));return n}case"column":{const n=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.get(s,i)<n[i]&&(n[i]=this.get(s,i));return n}case void 0:{let n=this.get(0,0);for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.get(s,i)<n&&(n=this.get(s,i));return n}default:throw new Error(`invalid option: ${r}`)}}minIndex(){oe(this);let r=this.get(0,0),n=[0,0];for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.get(s,i)<r&&(r=this.get(s,i),n[0]=s,n[1]=i);return n}maxRow(r){if(S(this,r),this.isEmpty())return NaN;let n=this.get(r,0);for(let s=1;s<this.columns;s++)this.get(r,s)>n&&(n=this.get(r,s));return n}maxRowIndex(r){S(this,r),oe(this);let n=this.get(r,0),s=[r,0];for(let i=1;i<this.columns;i++)this.get(r,i)>n&&(n=this.get(r,i),s[1]=i);return s}minRow(r){if(S(this,r),this.isEmpty())return NaN;let n=this.get(r,0);for(let s=1;s<this.columns;s++)this.get(r,s)<n&&(n=this.get(r,s));return n}minRowIndex(r){S(this,r),oe(this);let n=this.get(r,0),s=[r,0];for(let i=1;i<this.columns;i++)this.get(r,i)<n&&(n=this.get(r,i),s[1]=i);return s}maxColumn(r){if(b(this,r),this.isEmpty())return NaN;let n=this.get(0,r);for(let s=1;s<this.rows;s++)this.get(s,r)>n&&(n=this.get(s,r));return n}maxColumnIndex(r){b(this,r),oe(this);let n=this.get(0,r),s=[0,r];for(let i=1;i<this.rows;i++)this.get(i,r)>n&&(n=this.get(i,r),s[0]=i);return s}minColumn(r){if(b(this,r),this.isEmpty())return NaN;let n=this.get(0,r);for(let s=1;s<this.rows;s++)this.get(s,r)<n&&(n=this.get(s,r));return n}minColumnIndex(r){b(this,r),oe(this);let n=this.get(0,r),s=[0,r];for(let i=1;i<this.rows;i++)this.get(i,r)<n&&(n=this.get(i,r),s[0]=i);return s}diag(){let r=Math.min(this.rows,this.columns),n=[];for(let s=0;s<r;s++)n.push(this.get(s,s));return n}norm(r="frobenius"){switch(r){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${r}`)}}cumulativeSum(){let r=0;for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)r+=this.get(n,s),this.set(n,s,r);return this}dot(r){le.isMatrix(r)&&(r=r.to1DArray());let n=this.to1DArray();if(n.length!==r.length)throw new RangeError("vectors do not have the same size");let s=0;for(let i=0;i<n.length;i++)s+=n[i]*r[i];return s}mmul(r){r=P.checkMatrix(r);let n=this.rows,s=this.columns,i=r.columns,u=new P(n,i),g=new Float64Array(s);for(let m=0;m<i;m++){for(let w=0;w<s;w++)g[w]=r.get(w,m);for(let w=0;w<n;w++){let E=0;for(let q=0;q<s;q++)E+=this.get(w,q)*g[q];u.set(w,m,E)}}return u}strassen2x2(r){r=P.checkMatrix(r);let n=new P(2,2);const s=this.get(0,0),i=r.get(0,0),u=this.get(0,1),g=r.get(0,1),m=this.get(1,0),w=r.get(1,0),E=this.get(1,1),q=r.get(1,1),v=(s+E)*(i+q),x=(m+E)*i,W=s*(g-q),M=E*(w-i),C=(s+u)*q,$=(m-s)*(i+g),U=(u-E)*(w+q),L=v+M-C+U,te=W+C,he=x+M,pe=v-x+W+$;return n.set(0,0,L),n.set(0,1,te),n.set(1,0,he),n.set(1,1,pe),n}strassen3x3(r){r=P.checkMatrix(r);let n=new P(3,3);const s=this.get(0,0),i=this.get(0,1),u=this.get(0,2),g=this.get(1,0),m=this.get(1,1),w=this.get(1,2),E=this.get(2,0),q=this.get(2,1),v=this.get(2,2),x=r.get(0,0),W=r.get(0,1),M=r.get(0,2),C=r.get(1,0),$=r.get(1,1),U=r.get(1,2),L=r.get(2,0),te=r.get(2,1),he=r.get(2,2),pe=(s+i+u-g-m-q-v)*$,Ke=(s-g)*(-W+$),re=m*(-x+W+C-$-U-L+he),ue=(-s+g+m)*(x-W+$),xe=(g+m)*(-x+W),I=s*x,N=(-s+E+q)*(x-M+U),ee=(-s+E)*(M-U),J=(E+q)*(-x+M),Oe=(s+i+u-m-w-E-q)*U,Ve=q*(-x+M+C-$-U-L+te),Ae=(-u+q+v)*($+L-te),je=(u-v)*($-te),st=u*L,xt=(q+v)*(-L+te),Xe=(-u+m+w)*(U+L-he),Ot=(u-w)*(U-he),Bt=(m+w)*(-L+he),ve=i*C,nt=w*te,St=g*M,bt=E*W,ze=v*he,Br=I+st+ve,Gr=pe+ue+xe+I+Ae+st+xt,Xr=I+N+J+Oe+st+Xe+Bt,zr=Ke+re+ue+I+st+Xe+Ot,Zr=Ke+ue+xe+I+nt,Hr=st+Xe+Ot+Bt+St,$r=I+N+ee+Ve+Ae+je+st,el=Ae+je+st+xt+bt,tl=I+N+ee+J+ze;return n.set(0,0,Br),n.set(0,1,Gr),n.set(0,2,Xr),n.set(1,0,zr),n.set(1,1,Zr),n.set(1,2,Hr),n.set(2,0,$r),n.set(2,1,el),n.set(2,2,tl),n}mmulStrassen(r){r=P.checkMatrix(r);let n=this.clone(),s=n.rows,i=n.columns,u=r.rows,g=r.columns;i!==u&&console.warn(`Multiplying ${s} x ${i} and ${u} x ${g} matrix: dimensions do not match.`);function m(v,x,W){let M=v.rows,C=v.columns;if(M===x&&C===W)return v;{let $=le.zeros(x,W);return $=$.setSubMatrix(v,0,0),$}}let w=Math.max(s,u),E=Math.max(i,g);n=m(n,w,E),r=m(r,w,E);function q(v,x,W,M){if(W<=512||M<=512)return v.mmul(x);W%2===1&&M%2===1?(v=m(v,W+1,M+1),x=m(x,W+1,M+1)):W%2===1?(v=m(v,W+1,M),x=m(x,W+1,M)):M%2===1&&(v=m(v,W,M+1),x=m(x,W,M+1));let C=parseInt(v.rows/2,10),$=parseInt(v.columns/2,10),U=v.subMatrix(0,C-1,0,$-1),L=x.subMatrix(0,C-1,0,$-1),te=v.subMatrix(0,C-1,$,v.columns-1),he=x.subMatrix(0,C-1,$,x.columns-1),pe=v.subMatrix(C,v.rows-1,0,$-1),Ke=x.subMatrix(C,x.rows-1,0,$-1),re=v.subMatrix(C,v.rows-1,$,v.columns-1),ue=x.subMatrix(C,x.rows-1,$,x.columns-1),xe=q(le.add(U,re),le.add(L,ue),C,$),I=q(le.add(pe,re),L,C,$),N=q(U,le.sub(he,ue),C,$),ee=q(re,le.sub(Ke,L),C,$),J=q(le.add(U,te),ue,C,$),Oe=q(le.sub(pe,U),le.add(L,he),C,$),Ve=q(le.sub(te,re),le.add(Ke,ue),C,$),Ae=le.add(xe,ee);Ae.sub(J),Ae.add(Ve);let je=le.add(N,J),st=le.add(I,ee),xt=le.sub(xe,I);xt.add(N),xt.add(Oe);let Xe=le.zeros(2*Ae.rows,2*Ae.columns);return Xe=Xe.setSubMatrix(Ae,0,0),Xe=Xe.setSubMatrix(je,Ae.rows,0),Xe=Xe.setSubMatrix(st,0,Ae.columns),Xe=Xe.setSubMatrix(xt,Ae.rows,Ae.columns),Xe.subMatrix(0,W-1,0,M-1)}return q(n,r,w,E)}scaleRows(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:n=0,max:s=1}=r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(s))throw new TypeError("max must be a number");if(n>=s)throw new RangeError("min must be smaller than max");let i=new P(this.rows,this.columns);for(let u=0;u<this.rows;u++){const g=this.getRow(u);g.length>0&&t(g,{min:n,max:s,output:g}),i.setRow(u,g)}return i}scaleColumns(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:n=0,max:s=1}=r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(s))throw new TypeError("max must be a number");if(n>=s)throw new RangeError("min must be smaller than max");let i=new P(this.rows,this.columns);for(let u=0;u<this.columns;u++){const g=this.getColumn(u);g.length&&t(g,{min:n,max:s,output:g}),i.setColumn(u,g)}return i}flipRows(){const r=Math.ceil(this.columns/2);for(let n=0;n<this.rows;n++)for(let s=0;s<r;s++){let i=this.get(n,s),u=this.get(n,this.columns-1-s);this.set(n,s,u),this.set(n,this.columns-1-s,i)}return this}flipColumns(){const r=Math.ceil(this.rows/2);for(let n=0;n<this.columns;n++)for(let s=0;s<r;s++){let i=this.get(s,n),u=this.get(this.rows-1-s,n);this.set(s,n,u),this.set(this.rows-1-s,n,i)}return this}kroneckerProduct(r){r=P.checkMatrix(r);let n=this.rows,s=this.columns,i=r.rows,u=r.columns,g=new P(n*i,s*u);for(let m=0;m<n;m++)for(let w=0;w<s;w++)for(let E=0;E<i;E++)for(let q=0;q<u;q++)g.set(i*m+E,u*w+q,this.get(m,w)*r.get(E,q));return g}kroneckerSum(r){if(r=P.checkMatrix(r),!this.isSquare()||!r.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let n=this.rows,s=r.rows,i=this.kroneckerProduct(P.eye(s,s)),u=P.eye(n,n).kroneckerProduct(r);return i.add(u)}transpose(){let r=new P(this.columns,this.rows);for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)r.set(s,n,this.get(n,s));return r}sortRows(r=Ue){for(let n=0;n<this.rows;n++)this.setRow(n,this.getRow(n).sort(r));return this}sortColumns(r=Ue){for(let n=0;n<this.columns;n++)this.setColumn(n,this.getColumn(n).sort(r));return this}subMatrix(r,n,s,i){Z(this,r,n,s,i);let u=new P(n-r+1,i-s+1);for(let g=r;g<=n;g++)for(let m=s;m<=i;m++)u.set(g-r,m-s,this.get(g,m));return u}subMatrixRow(r,n,s){if(n===void 0&&(n=0),s===void 0&&(s=this.columns-1),n>s||n<0||n>=this.columns||s<0||s>=this.columns)throw new RangeError("Argument out of range");let i=new P(r.length,s-n+1);for(let u=0;u<r.length;u++)for(let g=n;g<=s;g++){if(r[u]<0||r[u]>=this.rows)throw new RangeError(`Row index out of range: ${r[u]}`);i.set(u,g-n,this.get(r[u],g))}return i}subMatrixColumn(r,n,s){if(n===void 0&&(n=0),s===void 0&&(s=this.rows-1),n>s||n<0||n>=this.rows||s<0||s>=this.rows)throw new RangeError("Argument out of range");let i=new P(s-n+1,r.length);for(let u=0;u<r.length;u++)for(let g=n;g<=s;g++){if(r[u]<0||r[u]>=this.columns)throw new RangeError(`Column index out of range: ${r[u]}`);i.set(g-n,u,this.get(g,r[u]))}return i}setSubMatrix(r,n,s){if(r=P.checkMatrix(r),r.isEmpty())return this;let i=n+r.rows-1,u=s+r.columns-1;Z(this,n,i,s,u);for(let g=0;g<r.rows;g++)for(let m=0;m<r.columns;m++)this.set(n+g,s+m,r.get(g,m));return this}selection(r,n){k(this,r),O(this,n);let s=new P(r.length,n.length);for(let i=0;i<r.length;i++){let u=r[i];for(let g=0;g<n.length;g++){let m=n[g];s.set(i,g,this.get(u,m))}}return s}trace(){let r=Math.min(this.rows,this.columns),n=0;for(let s=0;s<r;s++)n+=this.get(s,s);return n}clone(){return this.constructor.copy(this,new P(this.rows,this.columns))}static copy(r,n){for(const[s,i,u]of r.entries())n.set(s,i,u);return n}sum(r){switch(r){case"row":return B(this);case"column":return ne(this);case void 0:return ye(this);default:throw new Error(`invalid option: ${r}`)}}product(r){switch(r){case"row":return Fe(this);case"column":return de(this);case void 0:return we(this);default:throw new Error(`invalid option: ${r}`)}}mean(r){const n=this.sum(r);switch(r){case"row":{for(let s=0;s<this.rows;s++)n[s]/=this.columns;return n}case"column":{for(let s=0;s<this.columns;s++)n[s]/=this.rows;return n}case void 0:return n/this.size;default:throw new Error(`invalid option: ${r}`)}}variance(r,n={}){if(typeof r=="object"&&(n=r,r=void 0),typeof n!="object")throw new TypeError("options must be an object");const{unbiased:s=!0,mean:i=this.mean(r)}=n;if(typeof s!="boolean")throw new TypeError("unbiased must be a boolean");switch(r){case"row":{if(!e.isAnyArray(i))throw new TypeError("mean must be an array");return Ne(this,s,i)}case"column":{if(!e.isAnyArray(i))throw new TypeError("mean must be an array");return tt(this,s,i)}case void 0:{if(typeof i!="number")throw new TypeError("mean must be a number");return ot(this,s,i)}default:throw new Error(`invalid option: ${r}`)}}standardDeviation(r,n){typeof r=="object"&&(n=r,r=void 0);const s=this.variance(r,n);if(r===void 0)return Math.sqrt(s);for(let i=0;i<s.length;i++)s[i]=Math.sqrt(s[i]);return s}center(r,n={}){if(typeof r=="object"&&(n=r,r=void 0),typeof n!="object")throw new TypeError("options must be an object");const{center:s=this.mean(r)}=n;switch(r){case"row":{if(!e.isAnyArray(s))throw new TypeError("center must be an array");return wt(this,s),this}case"column":{if(!e.isAnyArray(s))throw new TypeError("center must be an array");return Vt(this,s),this}case void 0:{if(typeof s!="number")throw new TypeError("center must be a number");return At(this,s),this}default:throw new Error(`invalid option: ${r}`)}}scale(r,n={}){if(typeof r=="object"&&(n=r,r=void 0),typeof n!="object")throw new TypeError("options must be an object");let s=n.scale;switch(r){case"row":{if(s===void 0)s=Ce(this);else if(!e.isAnyArray(s))throw new TypeError("scale must be an array");return Ee(this,s),this}case"column":{if(s===void 0)s=_e(this);else if(!e.isAnyArray(s))throw new TypeError("scale must be an array");return _t(this,s),this}case void 0:{if(s===void 0)s=Yt(this);else if(typeof s!="number")throw new TypeError("scale must be a number");return It(this,s),this}default:throw new Error(`invalid option: ${r}`)}}toString(r){return a(this,r)}[Symbol.iterator](){return this.entries()}*entries(){for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)yield[r,n,this.get(r,n)]}*values(){for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)yield this.get(r,n)}}le.prototype.klass="Matrix",typeof Symbol<"u"&&(le.prototype[Symbol.for("nodejs.util.inspect.custom")]=c);function Ue(d,r){return d-r}function Et(d){return d.every(r=>typeof r=="number")}le.random=le.rand,le.randomInt=le.randInt,le.diagonal=le.diag,le.prototype.diagonal=le.prototype.diag,le.identity=le.eye,le.prototype.negate=le.prototype.neg,le.prototype.tensorProduct=le.prototype.kroneckerProduct;const nn=class nn extends le{constructor(n,s){super();jn(this,Vs);Ms(this,"data");if(nn.isMatrix(n))Jn(this,Vs,mo).call(this,n.rows,n.columns),nn.copy(n,this);else if(Number.isInteger(n)&&n>=0)Jn(this,Vs,mo).call(this,n,s);else if(e.isAnyArray(n)){const i=n;if(n=i.length,s=n?i[0].length:0,typeof s!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let u=0;u<n;u++){if(i[u].length!==s)throw new RangeError("Inconsistent array dimensions");if(!Et(i[u]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(i[u]))}this.rows=n,this.columns=s}else throw new TypeError("First argument must be a positive number or an array")}set(n,s,i){return this.data[n][s]=i,this}get(n,s){return this.data[n][s]}removeRow(n){return S(this,n),this.data.splice(n,1),this.rows-=1,this}addRow(n,s){return s===void 0&&(s=n,n=this.rows),S(this,n,!0),s=Float64Array.from(F(this,s)),this.data.splice(n,0,s),this.rows+=1,this}removeColumn(n){b(this,n);for(let s=0;s<this.rows;s++){const i=new Float64Array(this.columns-1);for(let u=0;u<n;u++)i[u]=this.data[s][u];for(let u=n+1;u<this.columns;u++)i[u-1]=this.data[s][u];this.data[s]=i}return this.columns-=1,this}addColumn(n,s){typeof s>"u"&&(s=n,n=this.columns),b(this,n,!0),s=V(this,s);for(let i=0;i<this.rows;i++){const u=new Float64Array(this.columns+1);let g=0;for(;g<n;g++)u[g]=this.data[i][g];for(u[g++]=s[i];g<this.columns+1;g++)u[g]=this.data[i][g-1];this.data[i]=u}return this.columns+=1,this}};Vs=new WeakSet,mo=function(n,s){if(this.data=[],Number.isInteger(s)&&s>=0)for(let i=0;i<n;i++)this.data.push(new Float64Array(s));else throw new TypeError("nColumns must be a positive integer");this.rows=n,this.columns=s};let P=nn;y(le,P);const on=class on extends le{constructor(n){super();jn(this,it);if(P.isMatrix(n)){if(!n.isSymmetric())throw new TypeError("not symmetric data");rn(this,it,P.copy(n,new P(n.rows,n.rows)))}else if(Number.isInteger(n)&&n>=0)rn(this,it,new P(n,n));else if(rn(this,it,new P(n)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return Tt(this,it).size}get rows(){return Tt(this,it).rows}get columns(){return Tt(this,it).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(n){return P.isMatrix(n)&&n.klassType==="SymmetricMatrix"}static zeros(n){return new this(n)}static ones(n){return new this(n).fill(1)}clone(){const n=new on(this.diagonalSize);for(const[s,i,u]of this.upperRightEntries())n.set(s,i,u);return n}toMatrix(){return new P(this)}get(n,s){return Tt(this,it).get(n,s)}set(n,s,i){return Tt(this,it).set(n,s,i),Tt(this,it).set(s,n,i),this}removeCross(n){return Tt(this,it).removeRow(n),Tt(this,it).removeColumn(n),this}addCross(n,s){s===void 0&&(s=n,n=this.diagonalSize);const i=s.slice();return i.splice(n,1),Tt(this,it).addRow(n,i),Tt(this,it).addColumn(n,s),this}applyMask(n){if(n.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const s=[];for(const[i,u]of n.entries())u||s.push(i);s.reverse();for(const i of s)this.removeCross(i);return this}toCompact(){const{diagonalSize:n}=this,s=new Array(n*(n+1)/2);for(let i=0,u=0,g=0;g<s.length;g++)s[g]=this.get(u,i),++i>=n&&(i=++u);return s}static fromCompact(n){const s=n.length,i=(Math.sqrt(8*s+1)-1)/2;if(!Number.isInteger(i))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(n)}`);const u=new on(i);for(let g=0,m=0,w=0;w<s;w++)u.set(g,m,n[w]),++g>=i&&(g=++m);return u}*upperRightEntries(){for(let n=0,s=0;n<this.diagonalSize;void 0){const i=this.get(n,s);yield[n,s,i],++s>=this.diagonalSize&&(s=++n)}}*upperRightValues(){for(let n=0,s=0;n<this.diagonalSize;void 0)yield this.get(n,s),++s>=this.diagonalSize&&(s=++n)}};it=new WeakMap;let Ye=on;Ye.prototype.klassType="SymmetricMatrix";class ut extends Ye{static isDistanceMatrix(r){return Ye.isSymmetricMatrix(r)&&r.klassSubType==="DistanceMatrix"}constructor(r){if(super(r),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(r,n,s){return r===n&&(s=0),super.set(r,n,s)}addCross(r,n){return n===void 0&&(n=r,r=this.diagonalSize),n=n.slice(),n[r]=0,super.addCross(r,n)}toSymmetricMatrix(){return new Ye(this)}clone(){const r=new ut(this.diagonalSize);for(const[n,s,i]of this.upperRightEntries())n!==s&&r.set(n,s,i);return r}toCompact(){const{diagonalSize:r}=this,n=(r-1)*r/2,s=new Array(n);for(let i=1,u=0,g=0;g<s.length;g++)s[g]=this.get(u,i),++i>=r&&(i=++u+1);return s}static fromCompact(r){const n=r.length;if(n===0)return new this(0);const s=(Math.sqrt(8*n+1)+1)/2;if(!Number.isInteger(s))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(r)}`);const i=new this(s);for(let u=1,g=0,m=0;m<n;m++)i.set(u,g,r[m]),++u>=s&&(u=++g+1);return i}}ut.prototype.klassSubType="DistanceMatrix";class De extends le{constructor(r,n,s){super(),this.matrix=r,this.rows=n,this.columns=s}}class Mt extends De{constructor(r,n){b(r,n),super(r,r.rows,1),this.column=n}set(r,n,s){return this.matrix.set(r,this.column,s),this}get(r){return this.matrix.get(r,this.column)}}class Kt extends De{constructor(r,n){O(r,n),super(r,r.rows,n.length),this.columnIndices=n}set(r,n,s){return this.matrix.set(r,this.columnIndices[n],s),this}get(r,n){return this.matrix.get(r,this.columnIndices[n])}}class Hs extends De{constructor(r){super(r,r.rows,r.columns)}set(r,n,s){return this.matrix.set(r,this.columns-n-1,s),this}get(r,n){return this.matrix.get(r,this.columns-n-1)}}class $s extends De{constructor(r){super(r,r.rows,r.columns)}set(r,n,s){return this.matrix.set(this.rows-r-1,n,s),this}get(r,n){return this.matrix.get(this.rows-r-1,n)}}class R extends De{constructor(r,n){S(r,n),super(r,1,r.columns),this.row=n}set(r,n,s){return this.matrix.set(this.row,n,s),this}get(r,n){return this.matrix.get(this.row,n)}}class _ extends De{constructor(r,n){k(r,n),super(r,n.length,r.columns),this.rowIndices=n}set(r,n,s){return this.matrix.set(this.rowIndices[r],n,s),this}get(r,n){return this.matrix.get(this.rowIndices[r],n)}}class T extends De{constructor(r,n,s){k(r,n),O(r,s),super(r,n.length,s.length),this.rowIndices=n,this.columnIndices=s}set(r,n,s){return this.matrix.set(this.rowIndices[r],this.columnIndices[n],s),this}get(r,n){return this.matrix.get(this.rowIndices[r],this.columnIndices[n])}}class Q extends De{constructor(r,n,s,i,u){Z(r,n,s,i,u),super(r,s-n+1,u-i+1),this.startRow=n,this.startColumn=i}set(r,n,s){return this.matrix.set(this.startRow+r,this.startColumn+n,s),this}get(r,n){return this.matrix.get(this.startRow+r,this.startColumn+n)}}class A extends De{constructor(r){super(r,r.columns,r.rows)}set(r,n,s){return this.matrix.set(n,r,s),this}get(r,n){return this.matrix.get(n,r)}}class j extends le{constructor(r,n={}){const{rows:s=1}=n;if(r.length%s!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=s,this.columns=r.length/s,this.data=r}set(r,n,s){let i=this._calculateIndex(r,n);return this.data[i]=s,this}get(r,n){let s=this._calculateIndex(r,n);return this.data[s]}_calculateIndex(r,n){return r*this.columns+n}}class D extends le{constructor(r){super(),this.data=r,this.rows=r.length,this.columns=r[0].length}set(r,n,s){return this.data[r][n]=s,this}get(r,n){return this.data[r][n]}}function G(d,r){if(e.isAnyArray(d))return d[0]&&e.isAnyArray(d[0])?new D(d):new j(d,r);throw new Error("the argument is not an array")}class Y{constructor(r){r=D.checkMatrix(r);let n=r.clone(),s=n.rows,i=n.columns,u=new Float64Array(s),g=1,m,w,E,q,v,x,W,M,C;for(m=0;m<s;m++)u[m]=m;for(M=new Float64Array(s),w=0;w<i;w++){for(m=0;m<s;m++)M[m]=n.get(m,w);for(m=0;m<s;m++){for(C=Math.min(m,w),v=0,E=0;E<C;E++)v+=n.get(m,E)*M[E];M[m]-=v,n.set(m,w,M[m])}for(q=w,m=w+1;m<s;m++)Math.abs(M[m])>Math.abs(M[q])&&(q=m);if(q!==w){for(E=0;E<i;E++)x=n.get(q,E),n.set(q,E,n.get(w,E)),n.set(w,E,x);W=u[q],u[q]=u[w],u[w]=W,g=-g}if(w<s&&n.get(w,w)!==0)for(m=w+1;m<s;m++)n.set(m,w,n.get(m,w)/n.get(w,w))}this.LU=n,this.pivotVector=u,this.pivotSign=g}isSingular(){let r=this.LU,n=r.columns;for(let s=0;s<n;s++)if(r.get(s,s)===0)return!0;return!1}solve(r){r=P.checkMatrix(r);let n=this.LU;if(n.rows!==r.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let i=r.columns,u=r.subMatrixRow(this.pivotVector,0,i-1),g=n.columns,m,w,E;for(E=0;E<g;E++)for(m=E+1;m<g;m++)for(w=0;w<i;w++)u.set(m,w,u.get(m,w)-u.get(E,w)*n.get(m,E));for(E=g-1;E>=0;E--){for(w=0;w<i;w++)u.set(E,w,u.get(E,w)/n.get(E,E));for(m=0;m<E;m++)for(w=0;w<i;w++)u.set(m,w,u.get(m,w)-u.get(E,w)*n.get(m,E))}return u}get determinant(){let r=this.LU;if(!r.isSquare())throw new Error("Matrix must be square");let n=this.pivotSign,s=r.columns;for(let i=0;i<s;i++)n*=r.get(i,i);return n}get lowerTriangularMatrix(){let r=this.LU,n=r.rows,s=r.columns,i=new P(n,s);for(let u=0;u<n;u++)for(let g=0;g<s;g++)u>g?i.set(u,g,r.get(u,g)):u===g?i.set(u,g,1):i.set(u,g,0);return i}get upperTriangularMatrix(){let r=this.LU,n=r.rows,s=r.columns,i=new P(n,s);for(let u=0;u<n;u++)for(let g=0;g<s;g++)u<=g?i.set(u,g,r.get(u,g)):i.set(u,g,0);return i}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function K(d,r){let n=0;return Math.abs(d)>Math.abs(r)?(n=r/d,Math.abs(d)*Math.sqrt(1+n*n)):r!==0?(n=d/r,Math.abs(r)*Math.sqrt(1+n*n)):0}class ce{constructor(r){r=D.checkMatrix(r);let n=r.clone(),s=r.rows,i=r.columns,u=new Float64Array(i),g,m,w,E;for(w=0;w<i;w++){let q=0;for(g=w;g<s;g++)q=K(q,n.get(g,w));if(q!==0){for(n.get(w,w)<0&&(q=-q),g=w;g<s;g++)n.set(g,w,n.get(g,w)/q);for(n.set(w,w,n.get(w,w)+1),m=w+1;m<i;m++){for(E=0,g=w;g<s;g++)E+=n.get(g,w)*n.get(g,m);for(E=-E/n.get(w,w),g=w;g<s;g++)n.set(g,m,n.get(g,m)+E*n.get(g,w))}}u[w]=-q}this.QR=n,this.Rdiag=u}solve(r){r=P.checkMatrix(r);let n=this.QR,s=n.rows;if(r.rows!==s)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let i=r.columns,u=r.clone(),g=n.columns,m,w,E,q;for(E=0;E<g;E++)for(w=0;w<i;w++){for(q=0,m=E;m<s;m++)q+=n.get(m,E)*u.get(m,w);for(q=-q/n.get(E,E),m=E;m<s;m++)u.set(m,w,u.get(m,w)+q*n.get(m,E))}for(E=g-1;E>=0;E--){for(w=0;w<i;w++)u.set(E,w,u.get(E,w)/this.Rdiag[E]);for(m=0;m<E;m++)for(w=0;w<i;w++)u.set(m,w,u.get(m,w)-u.get(E,w)*n.get(m,E))}return u.subMatrix(0,g-1,0,i-1)}isFullRank(){let r=this.QR.columns;for(let n=0;n<r;n++)if(this.Rdiag[n]===0)return!1;return!0}get upperTriangularMatrix(){let r=this.QR,n=r.columns,s=new P(n,n),i,u;for(i=0;i<n;i++)for(u=0;u<n;u++)i<u?s.set(i,u,r.get(i,u)):i===u?s.set(i,u,this.Rdiag[i]):s.set(i,u,0);return s}get orthogonalMatrix(){let r=this.QR,n=r.rows,s=r.columns,i=new P(n,s),u,g,m,w;for(m=s-1;m>=0;m--){for(u=0;u<n;u++)i.set(u,m,0);for(i.set(m,m,1),g=m;g<s;g++)if(r.get(m,m)!==0){for(w=0,u=m;u<n;u++)w+=r.get(u,m)*i.get(u,g);for(w=-w/r.get(m,m),u=m;u<n;u++)i.set(u,g,i.get(u,g)+w*r.get(u,m))}}return i}}class z{constructor(r,n={}){if(r=D.checkMatrix(r),r.isEmpty())throw new Error("Matrix must be non-empty");let s=r.rows,i=r.columns;const{computeLeftSingularVectors:u=!0,computeRightSingularVectors:g=!0,autoTranspose:m=!1}=n;let w=!!u,E=!!g,q=!1,v;if(s<i)if(!m)v=r.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{v=r.transpose(),s=v.rows,i=v.columns,q=!0;let I=w;w=E,E=I}else v=r.clone();let x=Math.min(s,i),W=Math.min(s+1,i),M=new Float64Array(W),C=new P(s,x),$=new P(i,i),U=new Float64Array(i),L=new Float64Array(s),te=new Float64Array(W);for(let I=0;I<W;I++)te[I]=I;let he=Math.min(s-1,i),pe=Math.max(0,Math.min(i-2,s)),Ke=Math.max(he,pe);for(let I=0;I<Ke;I++){if(I<he){M[I]=0;for(let N=I;N<s;N++)M[I]=K(M[I],v.get(N,I));if(M[I]!==0){v.get(I,I)<0&&(M[I]=-M[I]);for(let N=I;N<s;N++)v.set(N,I,v.get(N,I)/M[I]);v.set(I,I,v.get(I,I)+1)}M[I]=-M[I]}for(let N=I+1;N<i;N++){if(I<he&&M[I]!==0){let ee=0;for(let J=I;J<s;J++)ee+=v.get(J,I)*v.get(J,N);ee=-ee/v.get(I,I);for(let J=I;J<s;J++)v.set(J,N,v.get(J,N)+ee*v.get(J,I))}U[N]=v.get(I,N)}if(w&&I<he)for(let N=I;N<s;N++)C.set(N,I,v.get(N,I));if(I<pe){U[I]=0;for(let N=I+1;N<i;N++)U[I]=K(U[I],U[N]);if(U[I]!==0){U[I+1]<0&&(U[I]=0-U[I]);for(let N=I+1;N<i;N++)U[N]/=U[I];U[I+1]+=1}if(U[I]=-U[I],I+1<s&&U[I]!==0){for(let N=I+1;N<s;N++)L[N]=0;for(let N=I+1;N<s;N++)for(let ee=I+1;ee<i;ee++)L[N]+=U[ee]*v.get(N,ee);for(let N=I+1;N<i;N++){let ee=-U[N]/U[I+1];for(let J=I+1;J<s;J++)v.set(J,N,v.get(J,N)+ee*L[J])}}if(E)for(let N=I+1;N<i;N++)$.set(N,I,U[N])}}let re=Math.min(i,s+1);if(he<i&&(M[he]=v.get(he,he)),s<re&&(M[re-1]=0),pe+1<re&&(U[pe]=v.get(pe,re-1)),U[re-1]=0,w){for(let I=he;I<x;I++){for(let N=0;N<s;N++)C.set(N,I,0);C.set(I,I,1)}for(let I=he-1;I>=0;I--)if(M[I]!==0){for(let N=I+1;N<x;N++){let ee=0;for(let J=I;J<s;J++)ee+=C.get(J,I)*C.get(J,N);ee=-ee/C.get(I,I);for(let J=I;J<s;J++)C.set(J,N,C.get(J,N)+ee*C.get(J,I))}for(let N=I;N<s;N++)C.set(N,I,-C.get(N,I));C.set(I,I,1+C.get(I,I));for(let N=0;N<I-1;N++)C.set(N,I,0)}else{for(let N=0;N<s;N++)C.set(N,I,0);C.set(I,I,1)}}if(E)for(let I=i-1;I>=0;I--){if(I<pe&&U[I]!==0)for(let N=I+1;N<i;N++){let ee=0;for(let J=I+1;J<i;J++)ee+=$.get(J,I)*$.get(J,N);ee=-ee/$.get(I+1,I);for(let J=I+1;J<i;J++)$.set(J,N,$.get(J,N)+ee*$.get(J,I))}for(let N=0;N<i;N++)$.set(N,I,0);$.set(I,I,1)}let ue=re-1,xe=Number.EPSILON;for(;re>0;){let I,N;for(I=re-2;I>=-1&&I!==-1;I--){const ee=Number.MIN_VALUE+xe*Math.abs(M[I]+Math.abs(M[I+1]));if(Math.abs(U[I])<=ee||Number.isNaN(U[I])){U[I]=0;break}}if(I===re-2)N=4;else{let ee;for(ee=re-1;ee>=I&&ee!==I;ee--){let J=(ee!==re?Math.abs(U[ee]):0)+(ee!==I+1?Math.abs(U[ee-1]):0);if(Math.abs(M[ee])<=xe*J){M[ee]=0;break}}ee===I?N=3:ee===re-1?N=1:(N=2,I=ee)}switch(I++,N){case 1:{let ee=U[re-2];U[re-2]=0;for(let J=re-2;J>=I;J--){let Oe=K(M[J],ee),Ve=M[J]/Oe,Ae=ee/Oe;if(M[J]=Oe,J!==I&&(ee=-Ae*U[J-1],U[J-1]=Ve*U[J-1]),E)for(let je=0;je<i;je++)Oe=Ve*$.get(je,J)+Ae*$.get(je,re-1),$.set(je,re-1,-Ae*$.get(je,J)+Ve*$.get(je,re-1)),$.set(je,J,Oe)}break}case 2:{let ee=U[I-1];U[I-1]=0;for(let J=I;J<re;J++){let Oe=K(M[J],ee),Ve=M[J]/Oe,Ae=ee/Oe;if(M[J]=Oe,ee=-Ae*U[J],U[J]=Ve*U[J],w)for(let je=0;je<s;je++)Oe=Ve*C.get(je,J)+Ae*C.get(je,I-1),C.set(je,I-1,-Ae*C.get(je,J)+Ve*C.get(je,I-1)),C.set(je,J,Oe)}break}case 3:{const ee=Math.max(Math.abs(M[re-1]),Math.abs(M[re-2]),Math.abs(U[re-2]),Math.abs(M[I]),Math.abs(U[I])),J=M[re-1]/ee,Oe=M[re-2]/ee,Ve=U[re-2]/ee,Ae=M[I]/ee,je=U[I]/ee,st=((Oe+J)*(Oe-J)+Ve*Ve)/2,xt=J*Ve*(J*Ve);let Xe=0;(st!==0||xt!==0)&&(st<0?Xe=0-Math.sqrt(st*st+xt):Xe=Math.sqrt(st*st+xt),Xe=xt/(st+Xe));let Ot=(Ae+J)*(Ae-J)+Xe,Bt=Ae*je;for(let ve=I;ve<re-1;ve++){let nt=K(Ot,Bt);nt===0&&(nt=Number.MIN_VALUE);let St=Ot/nt,bt=Bt/nt;if(ve!==I&&(U[ve-1]=nt),Ot=St*M[ve]+bt*U[ve],U[ve]=St*U[ve]-bt*M[ve],Bt=bt*M[ve+1],M[ve+1]=St*M[ve+1],E)for(let ze=0;ze<i;ze++)nt=St*$.get(ze,ve)+bt*$.get(ze,ve+1),$.set(ze,ve+1,-bt*$.get(ze,ve)+St*$.get(ze,ve+1)),$.set(ze,ve,nt);if(nt=K(Ot,Bt),nt===0&&(nt=Number.MIN_VALUE),St=Ot/nt,bt=Bt/nt,M[ve]=nt,Ot=St*U[ve]+bt*M[ve+1],M[ve+1]=-bt*U[ve]+St*M[ve+1],Bt=bt*U[ve+1],U[ve+1]=St*U[ve+1],w&&ve<s-1)for(let ze=0;ze<s;ze++)nt=St*C.get(ze,ve)+bt*C.get(ze,ve+1),C.set(ze,ve+1,-bt*C.get(ze,ve)+St*C.get(ze,ve+1)),C.set(ze,ve,nt)}U[re-2]=Ot;break}case 4:{if(M[I]<=0&&(M[I]=M[I]<0?-M[I]:0,E))for(let ee=0;ee<=ue;ee++)$.set(ee,I,-$.get(ee,I));for(;I<ue&&!(M[I]>=M[I+1]);){let ee=M[I];if(M[I]=M[I+1],M[I+1]=ee,E&&I<i-1)for(let J=0;J<i;J++)ee=$.get(J,I+1),$.set(J,I+1,$.get(J,I)),$.set(J,I,ee);if(w&&I<s-1)for(let J=0;J<s;J++)ee=C.get(J,I+1),C.set(J,I+1,C.get(J,I)),C.set(J,I,ee);I++}re--;break}}}if(q){let I=$;$=C,C=I}this.m=s,this.n=i,this.s=M,this.U=C,this.V=$}solve(r){let n=r,s=this.threshold,i=this.s.length,u=P.zeros(i,i);for(let x=0;x<i;x++)Math.abs(this.s[x])<=s?u.set(x,x,0):u.set(x,x,1/this.s[x]);let g=this.U,m=this.rightSingularVectors,w=m.mmul(u),E=m.rows,q=g.rows,v=P.zeros(E,q);for(let x=0;x<E;x++)for(let W=0;W<q;W++){let M=0;for(let C=0;C<i;C++)M+=w.get(x,C)*g.get(W,C);v.set(x,W,M)}return v.mmul(n)}solveForDiagonal(r){return this.solve(P.diag(r))}inverse(){let r=this.V,n=this.threshold,s=r.rows,i=r.columns,u=new P(s,this.s.length);for(let q=0;q<s;q++)for(let v=0;v<i;v++)Math.abs(this.s[v])>n&&u.set(q,v,r.get(q,v)/this.s[v]);let g=this.U,m=g.rows,w=g.columns,E=new P(s,m);for(let q=0;q<s;q++)for(let v=0;v<m;v++){let x=0;for(let W=0;W<w;W++)x+=u.get(q,W)*g.get(v,W);E.set(q,v,x)}return E}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let r=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,n=0,s=this.s;for(let i=0,u=s.length;i<u;i++)s[i]>r&&n++;return n}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return P.diag(this.s)}}function ie(d,r=!1){return d=D.checkMatrix(d),r?new z(d).inverse():fe(d,P.eye(d.rows))}function fe(d,r,n=!1){return d=D.checkMatrix(d),r=D.checkMatrix(r),n?new z(d).solve(r):d.isSquare()?new Y(d).solve(r):new ce(d).solve(r)}function Se(d){if(d=P.checkMatrix(d),d.isSquare()){if(d.columns===0)return 1;let r,n,s,i;if(d.columns===2)return r=d.get(0,0),n=d.get(0,1),s=d.get(1,0),i=d.get(1,1),r*i-n*s;if(d.columns===3){let u,g,m;return u=new T(d,[1,2],[1,2]),g=new T(d,[1,2],[0,2]),m=new T(d,[1,2],[0,1]),r=d.get(0,0),n=d.get(0,1),s=d.get(0,2),r*Se(u)-n*Se(g)+s*Se(m)}else return new Y(d).determinant}else throw Error("determinant can only be calculated for a square matrix")}function Me(d,r){let n=[];for(let s=0;s<d;s++)s!==r&&n.push(s);return n}function Ie(d,r,n,s=1e-9,i=1e-9){if(d>i)return new Array(r.rows+1).fill(0);{let u=r.addRow(n,[0]);for(let g=0;g<u.rows;g++)Math.abs(u.get(g,0))<s&&u.set(g,0,0);return u.to1DArray()}}function at(d,r={}){const{thresholdValue:n=1e-9,thresholdError:s=1e-9}=r;d=P.checkMatrix(d);let i=d.rows,u=new P(i,i);for(let g=0;g<i;g++){let m=P.columnVector(d.getRow(g)),w=d.subMatrixRow(Me(i,g)).transpose(),q=new z(w).solve(m),v=P.sub(m,w.mmul(q)).abs().max();u.setRow(g,Ie(v,q,g,n,s))}return u}function He(d,r=Number.EPSILON){if(d=P.checkMatrix(d),d.isEmpty())return d.transpose();let n=new z(d,{autoTranspose:!0}),s=n.leftSingularVectors,i=n.rightSingularVectors,u=n.diagonal;for(let g=0;g<u.length;g++)Math.abs(u[g])>r?u[g]=1/u[g]:u[g]=0;return i.mmul(P.diag(u).mmul(s.transpose()))}function yt(d,r=d,n={}){d=new P(d);let s=!1;if(typeof r=="object"&&!P.isMatrix(r)&&!e.isAnyArray(r)?(n=r,r=d,s=!0):r=new P(r),d.rows!==r.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:i=!0}=n;i&&(d=d.center("column"),s||(r=r.center("column")));const u=d.transpose().mmul(r);for(let g=0;g<u.rows;g++)for(let m=0;m<u.columns;m++)u.set(g,m,u.get(g,m)*(1/(d.rows-1)));return u}function ft(d,r=d,n={}){d=new P(d);let s=!1;if(typeof r=="object"&&!P.isMatrix(r)&&!e.isAnyArray(r)?(n=r,r=d,s=!0):r=new P(r),d.rows!==r.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:i=!0,scale:u=!0}=n;i&&(d.center("column"),s||r.center("column")),u&&(d.scale("column"),s||r.scale("column"));const g=d.standardDeviation("column",{unbiased:!0}),m=s?g:r.standardDeviation("column",{unbiased:!0}),w=d.transpose().mmul(r);for(let E=0;E<w.rows;E++)for(let q=0;q<w.columns;q++)w.set(E,q,w.get(E,q)*(1/(g[E]*m[q]))*(1/(d.rows-1)));return w}class ts{constructor(r,n={}){const{assumeSymmetric:s=!1}=n;if(r=D.checkMatrix(r),!r.isSquare())throw new Error("Matrix is not a square matrix");if(r.isEmpty())throw new Error("Matrix must be non-empty");let i=r.columns,u=new P(i,i),g=new Float64Array(i),m=new Float64Array(i),w=r,E,q,v=!1;if(s?v=!0:v=r.isSymmetric(),v){for(E=0;E<i;E++)for(q=0;q<i;q++)u.set(E,q,w.get(E,q));en(i,m,g,u),ht(i,m,g,u)}else{let x=new P(i,i),W=new Float64Array(i);for(q=0;q<i;q++)for(E=0;E<i;E++)x.set(E,q,w.get(E,q));qt(i,x,W,u),tn(i,m,g,u,x)}this.n=i,this.e=m,this.d=g,this.V=u}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let r=this.n,n=this.e,s=this.d,i=new P(r,r),u,g;for(u=0;u<r;u++){for(g=0;g<r;g++)i.set(u,g,0);i.set(u,u,s[u]),n[u]>0?i.set(u,u+1,n[u]):n[u]<0&&i.set(u,u-1,n[u])}return i}}function en(d,r,n,s){let i,u,g,m,w,E,q,v;for(w=0;w<d;w++)n[w]=s.get(d-1,w);for(m=d-1;m>0;m--){for(v=0,g=0,E=0;E<m;E++)v=v+Math.abs(n[E]);if(v===0)for(r[m]=n[m-1],w=0;w<m;w++)n[w]=s.get(m-1,w),s.set(m,w,0),s.set(w,m,0);else{for(E=0;E<m;E++)n[E]/=v,g+=n[E]*n[E];for(i=n[m-1],u=Math.sqrt(g),i>0&&(u=-u),r[m]=v*u,g=g-i*u,n[m-1]=i-u,w=0;w<m;w++)r[w]=0;for(w=0;w<m;w++){for(i=n[w],s.set(w,m,i),u=r[w]+s.get(w,w)*i,E=w+1;E<=m-1;E++)u+=s.get(E,w)*n[E],r[E]+=s.get(E,w)*i;r[w]=u}for(i=0,w=0;w<m;w++)r[w]/=g,i+=r[w]*n[w];for(q=i/(g+g),w=0;w<m;w++)r[w]-=q*n[w];for(w=0;w<m;w++){for(i=n[w],u=r[w],E=w;E<=m-1;E++)s.set(E,w,s.get(E,w)-(i*r[E]+u*n[E]));n[w]=s.get(m-1,w),s.set(m,w,0)}}n[m]=g}for(m=0;m<d-1;m++){if(s.set(d-1,m,s.get(m,m)),s.set(m,m,1),g=n[m+1],g!==0){for(E=0;E<=m;E++)n[E]=s.get(E,m+1)/g;for(w=0;w<=m;w++){for(u=0,E=0;E<=m;E++)u+=s.get(E,m+1)*s.get(E,w);for(E=0;E<=m;E++)s.set(E,w,s.get(E,w)-u*n[E])}}for(E=0;E<=m;E++)s.set(E,m+1,0)}for(w=0;w<d;w++)n[w]=s.get(d-1,w),s.set(d-1,w,0);s.set(d-1,d-1,1),r[0]=0}function ht(d,r,n,s){let i,u,g,m,w,E,q,v,x,W,M,C,$,U,L,te;for(g=1;g<d;g++)r[g-1]=r[g];r[d-1]=0;let he=0,pe=0,Ke=Number.EPSILON;for(E=0;E<d;E++){for(pe=Math.max(pe,Math.abs(n[E])+Math.abs(r[E])),q=E;q<d&&!(Math.abs(r[q])<=Ke*pe);)q++;if(q>E)do{for(i=n[E],v=(n[E+1]-i)/(2*r[E]),x=K(v,1),v<0&&(x=-x),n[E]=r[E]/(v+x),n[E+1]=r[E]*(v+x),W=n[E+1],u=i-n[E],g=E+2;g<d;g++)n[g]-=u;for(he=he+u,v=n[q],M=1,C=M,$=M,U=r[E+1],L=0,te=0,g=q-1;g>=E;g--)for($=C,C=M,te=L,i=M*r[g],u=M*v,x=K(v,r[g]),r[g+1]=L*x,L=r[g]/x,M=v/x,v=M*n[g]-L*i,n[g+1]=u+L*(M*i+L*n[g]),w=0;w<d;w++)u=s.get(w,g+1),s.set(w,g+1,L*s.get(w,g)+M*u),s.set(w,g,M*s.get(w,g)-L*u);v=-L*te*$*U*r[E]/W,r[E]=L*v,n[E]=M*v}while(Math.abs(r[E])>Ke*pe);n[E]=n[E]+he,r[E]=0}for(g=0;g<d-1;g++){for(w=g,v=n[g],m=g+1;m<d;m++)n[m]<v&&(w=m,v=n[m]);if(w!==g)for(n[w]=n[g],n[g]=v,m=0;m<d;m++)v=s.get(m,g),s.set(m,g,s.get(m,w)),s.set(m,w,v)}}function qt(d,r,n,s){let i=0,u=d-1,g,m,w,E,q,v,x;for(v=i+1;v<=u-1;v++){for(x=0,E=v;E<=u;E++)x=x+Math.abs(r.get(E,v-1));if(x!==0){for(w=0,E=u;E>=v;E--)n[E]=r.get(E,v-1)/x,w+=n[E]*n[E];for(m=Math.sqrt(w),n[v]>0&&(m=-m),w=w-n[v]*m,n[v]=n[v]-m,q=v;q<d;q++){for(g=0,E=u;E>=v;E--)g+=n[E]*r.get(E,q);for(g=g/w,E=v;E<=u;E++)r.set(E,q,r.get(E,q)-g*n[E])}for(E=0;E<=u;E++){for(g=0,q=u;q>=v;q--)g+=n[q]*r.get(E,q);for(g=g/w,q=v;q<=u;q++)r.set(E,q,r.get(E,q)-g*n[q])}n[v]=x*n[v],r.set(v,v-1,x*m)}}for(E=0;E<d;E++)for(q=0;q<d;q++)s.set(E,q,E===q?1:0);for(v=u-1;v>=i+1;v--)if(r.get(v,v-1)!==0){for(E=v+1;E<=u;E++)n[E]=r.get(E,v-1);for(q=v;q<=u;q++){for(m=0,E=v;E<=u;E++)m+=n[E]*s.get(E,q);for(m=m/n[v]/r.get(v,v-1),E=v;E<=u;E++)s.set(E,q,s.get(E,q)+m*n[E])}}}function tn(d,r,n,s,i){let u=d-1,g=0,m=d-1,w=Number.EPSILON,E=0,q=0,v=0,x=0,W=0,M=0,C=0,$=0,U,L,te,he,pe,Ke,re,ue,xe,I,N,ee,J,Oe,Ve;for(U=0;U<d;U++)for((U<g||U>m)&&(n[U]=i.get(U,U),r[U]=0),L=Math.max(U-1,0);L<d;L++)q=q+Math.abs(i.get(U,L));for(;u>=g;){for(he=u;he>g&&(M=Math.abs(i.get(he-1,he-1))+Math.abs(i.get(he,he)),M===0&&(M=q),!(Math.abs(i.get(he,he-1))<w*M));)he--;if(he===u)i.set(u,u,i.get(u,u)+E),n[u]=i.get(u,u),r[u]=0,u--,$=0;else if(he===u-1){if(re=i.get(u,u-1)*i.get(u-1,u),v=(i.get(u-1,u-1)-i.get(u,u))/2,x=v*v+re,C=Math.sqrt(Math.abs(x)),i.set(u,u,i.get(u,u)+E),i.set(u-1,u-1,i.get(u-1,u-1)+E),ue=i.get(u,u),x>=0){for(C=v>=0?v+C:v-C,n[u-1]=ue+C,n[u]=n[u-1],C!==0&&(n[u]=ue-re/C),r[u-1]=0,r[u]=0,ue=i.get(u,u-1),M=Math.abs(ue)+Math.abs(C),v=ue/M,x=C/M,W=Math.sqrt(v*v+x*x),v=v/W,x=x/W,L=u-1;L<d;L++)C=i.get(u-1,L),i.set(u-1,L,x*C+v*i.get(u,L)),i.set(u,L,x*i.get(u,L)-v*C);for(U=0;U<=u;U++)C=i.get(U,u-1),i.set(U,u-1,x*C+v*i.get(U,u)),i.set(U,u,x*i.get(U,u)-v*C);for(U=g;U<=m;U++)C=s.get(U,u-1),s.set(U,u-1,x*C+v*s.get(U,u)),s.set(U,u,x*s.get(U,u)-v*C)}else n[u-1]=ue+v,n[u]=ue+v,r[u-1]=C,r[u]=-C;u=u-2,$=0}else{if(ue=i.get(u,u),xe=0,re=0,he<u&&(xe=i.get(u-1,u-1),re=i.get(u,u-1)*i.get(u-1,u)),$===10){for(E+=ue,U=g;U<=u;U++)i.set(U,U,i.get(U,U)-ue);M=Math.abs(i.get(u,u-1))+Math.abs(i.get(u-1,u-2)),ue=xe=.75*M,re=-.4375*M*M}if($===30&&(M=(xe-ue)/2,M=M*M+re,M>0)){for(M=Math.sqrt(M),xe<ue&&(M=-M),M=ue-re/((xe-ue)/2+M),U=g;U<=u;U++)i.set(U,U,i.get(U,U)-M);E+=M,ue=xe=re=.964}for($=$+1,pe=u-2;pe>=he&&(C=i.get(pe,pe),W=ue-C,M=xe-C,v=(W*M-re)/i.get(pe+1,pe)+i.get(pe,pe+1),x=i.get(pe+1,pe+1)-C-W-M,W=i.get(pe+2,pe+1),M=Math.abs(v)+Math.abs(x)+Math.abs(W),v=v/M,x=x/M,W=W/M,!(pe===he||Math.abs(i.get(pe,pe-1))*(Math.abs(x)+Math.abs(W))<w*(Math.abs(v)*(Math.abs(i.get(pe-1,pe-1))+Math.abs(C)+Math.abs(i.get(pe+1,pe+1))))));)pe--;for(U=pe+2;U<=u;U++)i.set(U,U-2,0),U>pe+2&&i.set(U,U-3,0);for(te=pe;te<=u-1&&(Oe=te!==u-1,te!==pe&&(v=i.get(te,te-1),x=i.get(te+1,te-1),W=Oe?i.get(te+2,te-1):0,ue=Math.abs(v)+Math.abs(x)+Math.abs(W),ue!==0&&(v=v/ue,x=x/ue,W=W/ue)),ue!==0);te++)if(M=Math.sqrt(v*v+x*x+W*W),v<0&&(M=-M),M!==0){for(te!==pe?i.set(te,te-1,-M*ue):he!==pe&&i.set(te,te-1,-i.get(te,te-1)),v=v+M,ue=v/M,xe=x/M,C=W/M,x=x/v,W=W/v,L=te;L<d;L++)v=i.get(te,L)+x*i.get(te+1,L),Oe&&(v=v+W*i.get(te+2,L),i.set(te+2,L,i.get(te+2,L)-v*C)),i.set(te,L,i.get(te,L)-v*ue),i.set(te+1,L,i.get(te+1,L)-v*xe);for(U=0;U<=Math.min(u,te+3);U++)v=ue*i.get(U,te)+xe*i.get(U,te+1),Oe&&(v=v+C*i.get(U,te+2),i.set(U,te+2,i.get(U,te+2)-v*W)),i.set(U,te,i.get(U,te)-v),i.set(U,te+1,i.get(U,te+1)-v*x);for(U=g;U<=m;U++)v=ue*s.get(U,te)+xe*s.get(U,te+1),Oe&&(v=v+C*s.get(U,te+2),s.set(U,te+2,s.get(U,te+2)-v*W)),s.set(U,te,s.get(U,te)-v),s.set(U,te+1,s.get(U,te+1)-v*x)}}}if(q!==0){for(u=d-1;u>=0;u--)if(v=n[u],x=r[u],x===0)for(he=u,i.set(u,u,1),U=u-1;U>=0;U--){for(re=i.get(U,U)-v,W=0,L=he;L<=u;L++)W=W+i.get(U,L)*i.get(L,u);if(r[U]<0)C=re,M=W;else if(he=U,r[U]===0?i.set(U,u,re!==0?-W/re:-W/(w*q)):(ue=i.get(U,U+1),xe=i.get(U+1,U),x=(n[U]-v)*(n[U]-v)+r[U]*r[U],Ke=(ue*M-C*W)/x,i.set(U,u,Ke),i.set(U+1,u,Math.abs(ue)>Math.abs(C)?(-W-re*Ke)/ue:(-M-xe*Ke)/C)),Ke=Math.abs(i.get(U,u)),w*Ke*Ke>1)for(L=U;L<=u;L++)i.set(L,u,i.get(L,u)/Ke)}else if(x<0)for(he=u-1,Math.abs(i.get(u,u-1))>Math.abs(i.get(u-1,u))?(i.set(u-1,u-1,x/i.get(u,u-1)),i.set(u-1,u,-(i.get(u,u)-v)/i.get(u,u-1))):(Ve=sn(0,-i.get(u-1,u),i.get(u-1,u-1)-v,x),i.set(u-1,u-1,Ve[0]),i.set(u-1,u,Ve[1])),i.set(u,u-1,0),i.set(u,u,1),U=u-2;U>=0;U--){for(I=0,N=0,L=he;L<=u;L++)I=I+i.get(U,L)*i.get(L,u-1),N=N+i.get(U,L)*i.get(L,u);if(re=i.get(U,U)-v,r[U]<0)C=re,W=I,M=N;else if(he=U,r[U]===0?(Ve=sn(-I,-N,re,x),i.set(U,u-1,Ve[0]),i.set(U,u,Ve[1])):(ue=i.get(U,U+1),xe=i.get(U+1,U),ee=(n[U]-v)*(n[U]-v)+r[U]*r[U]-x*x,J=(n[U]-v)*2*x,ee===0&&J===0&&(ee=w*q*(Math.abs(re)+Math.abs(x)+Math.abs(ue)+Math.abs(xe)+Math.abs(C))),Ve=sn(ue*W-C*I+x*N,ue*M-C*N-x*I,ee,J),i.set(U,u-1,Ve[0]),i.set(U,u,Ve[1]),Math.abs(ue)>Math.abs(C)+Math.abs(x)?(i.set(U+1,u-1,(-I-re*i.get(U,u-1)+x*i.get(U,u))/ue),i.set(U+1,u,(-N-re*i.get(U,u)-x*i.get(U,u-1))/ue)):(Ve=sn(-W-xe*i.get(U,u-1),-M-xe*i.get(U,u),C,x),i.set(U+1,u-1,Ve[0]),i.set(U+1,u,Ve[1]))),Ke=Math.max(Math.abs(i.get(U,u-1)),Math.abs(i.get(U,u))),w*Ke*Ke>1)for(L=U;L<=u;L++)i.set(L,u-1,i.get(L,u-1)/Ke),i.set(L,u,i.get(L,u)/Ke)}for(U=0;U<d;U++)if(U<g||U>m)for(L=U;L<d;L++)s.set(U,L,i.get(U,L));for(L=d-1;L>=g;L--)for(U=g;U<=m;U++){for(C=0,te=g;te<=Math.min(L,m);te++)C=C+s.get(U,te)*i.get(te,L);s.set(U,L,C)}}}function sn(d,r,n,s){let i,u;return Math.abs(n)>Math.abs(s)?(i=s/n,u=n+i*s,[(d+i*r)/u,(r-i*d)/u]):(i=n/s,u=s+i*n,[(i*d+r)/u,(i*r-d)/u])}class jo{constructor(r){if(r=D.checkMatrix(r),!r.isSymmetric())throw new Error("Matrix is not symmetric");let n=r,s=n.rows,i=new P(s,s),u=!0,g,m,w;for(m=0;m<s;m++){let E=0;for(w=0;w<m;w++){let q=0;for(g=0;g<w;g++)q+=i.get(w,g)*i.get(m,g);q=(n.get(m,w)-q)/i.get(w,w),i.set(m,w,q),E=E+q*q}for(E=n.get(m,m)-E,u&=E>0,i.set(m,m,Math.sqrt(Math.max(E,0))),w=m+1;w<s;w++)i.set(m,w,0)}this.L=i,this.positiveDefinite=!!u}isPositiveDefinite(){return this.positiveDefinite}solve(r){r=D.checkMatrix(r);let n=this.L,s=n.rows;if(r.rows!==s)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let i=r.columns,u=r.clone(),g,m,w;for(w=0;w<s;w++)for(m=0;m<i;m++){for(g=0;g<w;g++)u.set(w,m,u.get(w,m)-u.get(g,m)*n.get(w,g));u.set(w,m,u.get(w,m)/n.get(w,w))}for(w=s-1;w>=0;w--)for(m=0;m<i;m++){for(g=w+1;g<s;g++)u.set(w,m,u.get(w,m)-u.get(g,m)*n.get(g,w));u.set(w,m,u.get(w,m)/n.get(w,w))}return u}get lowerTriangularMatrix(){return this.L}}class Jo{constructor(r,n={}){r=D.checkMatrix(r);let{Y:s}=n;const{scaleScores:i=!1,maxIterations:u=1e3,terminationCriteria:g=1e-10}=n;let m;if(s){if(e.isAnyArray(s)&&typeof s[0]=="number"?s=P.columnVector(s):s=D.checkMatrix(s),s.rows!==r.rows)throw new Error("Y should have the same number of rows as X");m=s.getColumnVector(0)}else m=r.getColumnVector(0);let w=1,E,q,v,x;for(let W=0;W<u&&w>g;W++)v=r.transpose().mmul(m).div(m.transpose().mmul(m).get(0,0)),v=v.div(v.norm()),E=r.mmul(v).div(v.transpose().mmul(v).get(0,0)),W>0&&(w=E.clone().sub(x).pow(2).sum()),x=E.clone(),s?(q=s.transpose().mmul(E).div(E.transpose().mmul(E).get(0,0)),q=q.div(q.norm()),m=s.mmul(q).div(q.transpose().mmul(q).get(0,0))):m=E;if(s){let W=r.transpose().mmul(E).div(E.transpose().mmul(E).get(0,0));W=W.div(W.norm());let M=r.clone().sub(E.clone().mmul(W.transpose())),C=m.transpose().mmul(E).div(E.transpose().mmul(E).get(0,0)),$=s.clone().sub(E.clone().mulS(C.get(0,0)).mmul(q.transpose()));this.t=E,this.p=W.transpose(),this.w=v.transpose(),this.q=q,this.u=m,this.s=E.transpose().mmul(E),this.xResidual=M,this.yResidual=$,this.betas=C}else this.w=v.transpose(),this.s=E.transpose().mmul(E).sqrt(),i?this.t=E.clone().div(this.s.get(0,0)):this.t=E,this.xResidual=r.sub(E.mmul(v.transpose()))}}return be.AbstractMatrix=le,be.CHO=jo,be.CholeskyDecomposition=jo,be.DistanceMatrix=ut,be.EVD=ts,be.EigenvalueDecomposition=ts,be.LU=Y,be.LuDecomposition=Y,be.Matrix=P,be.MatrixColumnSelectionView=Kt,be.MatrixColumnView=Mt,be.MatrixFlipColumnView=Hs,be.MatrixFlipRowView=$s,be.MatrixRowSelectionView=_,be.MatrixRowView=R,be.MatrixSelectionView=T,be.MatrixSubView=Q,be.MatrixTransposeView=A,be.NIPALS=Jo,be.Nipals=Jo,be.QR=ce,be.QrDecomposition=ce,be.SVD=z,be.SingularValueDecomposition=z,be.SymmetricMatrix=Ye,be.WrapperMatrix1D=j,be.WrapperMatrix2D=D,be.correlation=ft,be.covariance=yt,be.default=P,be.determinant=Se,be.inverse=ie,be.linearDependencies=at,be.pseudoInverse=He,be.solve=fe,be.wrap=G,be}var Ko=Da();const _i=Aa(Ko),Us=Ko.Matrix;_i.Matrix?_i.Matrix:Ko.Matrix;const Ii=8,Ya=1/16777216,Ba=15,Ga=18,Xa=11;function za(e,t){e>>>=0,t>>>=0;const o=e&65535;return((e-o)*t>>>0)+o*t>>>0}class Za{constructor(t=Date.now()){this.state=new Uint32Array(4),this.init(t),this.random=this.getFloat.bind(this)}getUint32(){return this.nextState(),this.state[3]+this.state[2]>>>0}getFloat(){return(this.getUint32()>>>8)*Ya}init(t){if(!Number.isInteger(t))throw new TypeError("seed must be an integer");this.state[0]=t,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(let o=1;o<Ii;o++)this.state[o&3]^=o+za(1812433253,this.state[o-1&3]^this.state[o-1&3]>>>30>>>0)>>>0;this.periodCertification();for(let o=0;o<Ii;o++)this.nextState()}periodCertification(){this.state[0]===0&&this.state[1]===0&&this.state[2]===0&&this.state[3]===0&&(this.state[0]=88,this.state[1]=83,this.state[2]=65,this.state[3]=68)}nextState(){let t=this.state[0];t^=t<<Ba,t^=t>>>Ga,t^=this.state[3]<<Xa,this.state[0]=this.state[1],this.state[1]=this.state[2],this.state[2]=this.state[3],this.state[3]=t}}const Ha=1e-8;function qi(e,t={},o=Math.random){const{size:l=1,replace:c=!1,probabilities:a}=t;let f,h;if(typeof e=="number"?f=$a(e):f=e.slice(),a){if(!c)throw new Error("choice with probabilities and no replacement is not implemented");if(a.length!==f.length)throw new Error("the length of probabilities option should be equal to the number of choices");h=[a[0]];for(let y=1;y<a.length;y++)h[y]=h[y-1]+a[y];if(Math.abs(1-h[h.length-1])>Ha)throw new Error(`probabilities should sum to 1, but instead sums to ${h[h.length-1]}`)}if(c===!1&&l>f.length)throw new Error("size option is too large");const p=[];for(let y=0;y<l;y++){const S=ef(f.length,o,h);p.push(f[S]),c||f.splice(S,1)}return p}function $a(e){const t=[];for(let o=0;o<e;o++)t.push(o);return t}function ef(e,t,o){const l=t();if(o){let c=0;for(;l>o[c];)c++;return c}else return Math.floor(l*e)}class Oo{constructor(t=Math.random){if(typeof t=="number"){const o=new Za(t);this.randomGenerator=o.random}else this.randomGenerator=t}choice(t,o){return typeof t=="number"?qi(t,o,this.randomGenerator):qi(t,o,this.randomGenerator)}random(){return this.randomGenerator()}randInt(t,o){return o===void 0&&(o=t,t=0),t+Math.floor(this.randomGenerator()*(o-t))}randomSample(t){const o=[];for(let l=0;l<t;l++)o.push(this.random());return o}}function tf(e,t,o){return new Oo(o).choice(e,{size:t})}function sf(e,t,o,l){const c=new Oo(l);let a=new Array(t);if(a[0]=Math.floor(c.random()*e.length),t>1){let f={dist:-1,index:-1};for(let h=0;h<e.length;++h)o[a[0]][h]>f.dist&&(f.dist=o[a[0]][h],f.index=h);if(a[1]=f.index,t>2)for(let h=2;h<t;++h){let p={dist:-1,index:-1};for(let y=0;y<e.length;++y){let S={dist:Number.MAX_VALUE,index:-1};for(let b=0;b<h;++b)o[b][y]<S.dist&&!a.includes(y)&&(S={dist:o[b][y],index:y});S.dist!==Number.MAX_VALUE&&S.dist>p.dist&&(p={...S})}a[h]=p.index}}return a.map(f=>e[f])}function nf(e,t,o={}){const l=new Us(e),c=l.rows,a=new Oo(o.seed),f=[],h=o.localTrials||2+Math.floor(Math.log(t)),p=a.randInt(c);f.push(l.getRow(p));let y=new Us(1,l.rows);for(let V=0;V<l.rows;V++)y.set(0,V,Kn(l.getRow(V),f[0]));let S=[Fi(y.getRow(0))];const b=1/S[0][c-1];let F=Us.mul(y,b);for(let V=1;V<t;V++){const k=a.choice(c,{replace:!0,size:h,probabilities:F.getRow(0)}),O=l.selection(k,rf(l.columns)),Z=of(O,l);let H=1/0,X=1/0,oe=y;for(let B=0;B<h;B++){const ne=Us.min(y,[Z.getRow(B)]),ye=ne.sum();ye<X&&(H=k[B],X=ye,oe=ne)}f[V]=l.getRow(H),y=oe,S=[Fi(y.getRow(0))],F=Us.mul(y,1/S[0][c-1])}return f}function of(e,t){const o=new Us(e.rows,t.rows);for(let l=0;l<e.rows;l++)for(let c=0;c<t.rows;c++)o.set(l,c,Kn(e.getRow(l),t.getRow(c)));return o}function rf(e){let t=[];for(let o=0;o<e;o++)t.push(o);return t}function Fi(e){let t=[e[0]];for(let o=1;o<e.length;o++)t[o]=t[o-1]+e[o];return t}const lf={maxIterations:100,tolerance:1e-6,initialization:"kmeans++",distanceFunction:Kn};function cf(e,t,o,l,c,a){o=Wr(t,e,o,c.distanceFunction);let f=xa(e,t,o,l),h=Ta(f,e,c.distanceFunction,c.tolerance);return new Ca(o,f,h,a,c.distanceFunction)}function Vi(e,t,o){const l=af(o);Na(e,t);let c=uf(e,t,l);l.maxIterations===0&&(l.maxIterations=Number.MAX_VALUE);let a=new Array(e.length),f=!1,h=0,p;for(;!f&&h<l.maxIterations;)p=cf(c,e,a,t,l,++h),f=p.converged,c=p.centroids;if(!p)throw new Error("unreachable: no kmeans step executed");return p}function uf(e,t,o){let l;if(Array.isArray(o.initialization)){if(o.initialization.length!==t)throw new Error("The initial centers should have the same length as K");l=o.initialization}else switch(o.initialization){case"kmeans++":l=nf(e,t,o);break;case"random":l=tf(e,t,o.seed);break;case"mostDistant":l=sf(e,t,Ma(e,o.distanceFunction),o.seed);break;default:ka(o.initialization,"Unknown initialization method")}return l}function af(e){return{...lf,...e}}const mt={EXPAND_RATIO_W:.055,EXPAND_RATIO_H:.06,BOTTOM_OFFSET_RATIO:.013,STANDARD_BOARD_RATIO:1.08,RATIO_ADJUSTMENT_FACTORS:{EXPAND_H:-.008,BOTTOM:.004},HEIGHT_VARIATION_RATIO:.0175,GAUSSIAN_BLUR_SIZE:5,CANNY_THRESHOLD1:50,CANNY_THRESHOLD2:150,HOUGH_THRESHOLD:80,MIN_LINE_LENGTH:100,MAX_LINE_GAP:50,HORIZONTAL_ANGLE_THRESHOLD:10,VERTICAL_ANGLE_THRESHOLD:80};function ff(e,t){const o=t/e,l=mt.STANDARD_BOARD_RATIO;let c=mt.EXPAND_RATIO_H,a=mt.BOTTOM_OFFSET_RATIO;return o>l&&(c+=mt.RATIO_ADJUSTMENT_FACTORS.EXPAND_H,a+=mt.RATIO_ADJUSTMENT_FACTORS.BOTTOM),{expandRatioH:c,bottomOffsetRatio:a}}function hf(e){const t=cv.imread(e),o=new cv.Mat;cv.cvtColor(t,o,cv.COLOR_RGBA2GRAY);const l=new cv.Mat;cv.GaussianBlur(o,l,new cv.Size(mt.GAUSSIAN_BLUR_SIZE,mt.GAUSSIAN_BLUR_SIZE),0);const c=new cv.Mat;cv.Canny(l,c,mt.CANNY_THRESHOLD1,mt.CANNY_THRESHOLD2);const a=cv.Mat.ones(3,3,cv.CV_8U),f=new cv.Mat;cv.dilate(c,f,a,new cv.Point(-1,-1),3);const h=new cv.Mat;cv.erode(f,h,a,new cv.Point(-1,-1),1);const p=new cv.MatVector,y=new cv.Mat;if(cv.findContours(h,p,y,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE),p.size()===0)return console.log("未检测到任何轮廓。"),{gridCells:[],chessboardRect:{x:NaN,y:NaN,width:NaN,height:NaN},gridHeights:[]};let S=0,b=0;for(let B=0;B<p.size();B++){const ne=cv.contourArea(p.get(B));ne>b&&(b=ne,S=B)}const F=p.get(S),V=cv.boundingRect(F),k=t.roi(V),{expandRatioH:O,bottomOffsetRatio:Z}=ff(V.width,V.height),{gridCells:H,expandedRect:X,gridHeights:oe}=pf(k,mt.EXPAND_RATIO_W,O,Z);return t.delete(),o.delete(),l.delete(),c.delete(),a.delete(),f.delete(),h.delete(),p.delete(),y.delete(),k.delete(),{gridCells:H,chessboardRect:{x:V.x+X.x,y:V.y+X.y,width:X.width,height:X.height},gridHeights:oe}}function df(e){const o=Math.floor(e/10),l=o*mt.HEIGHT_VARIATION_RATIO,c=[];for(let h=0;h<10;h++){const p=h/9,y=1+p*p*l/o;c.push(Math.floor(o*y))}const a=c.reduce((h,p)=>h+p,0),f=e/a;return c.map(h=>Math.floor(h*f))}function pf(e,t,o,l){const c=new cv.Mat;cv.cvtColor(e,c,cv.COLOR_RGBA2GRAY);const a=new cv.Mat;cv.GaussianBlur(c,a,new cv.Size(mt.GAUSSIAN_BLUR_SIZE,mt.GAUSSIAN_BLUR_SIZE),0);const f=new cv.Mat;cv.Canny(a,f,mt.CANNY_THRESHOLD1,mt.CANNY_THRESHOLD2);const h=new cv.Mat;if(cv.HoughLinesP(f,h,1,Math.PI/180,80,100,50),h.rows===0)return console.log("无法检测到棋盘线条。"),{gridCells:[],expandedRect:{x:0,y:0,width:0,height:0},gridHeights:[]};const p=[],y=[];for(let Ue=0;Ue<h.rows;Ue++){const[Et,P,Ye,ut]=h.data32S.slice(Ue*4,(Ue+1)*4),De=Math.atan2(ut-P,Ye-Et)*180/Math.PI;Math.abs(De)<10?p.push([Et,P,Ye,ut]):Math.abs(De)>80&&y.push([Et,P,Ye,ut])}if(p.length<10||y.length<9)return console.log("线条不足，无法进行 KMeans 聚类。"),{gridCells:[],expandedRect:{x:0,y:0,width:0,height:0},gridHeights:[]};const S=p.flatMap(Ue=>[Ue[1],Ue[3]]),b=y.flatMap(Ue=>[Ue[0],Ue[2]]),F=Vi(S.map(Ue=>[Ue]),10,{maxIterations:100}),V=Vi(b.map(Ue=>[Ue]),9,{maxIterations:100}),k=F.centroids.map(Ue=>Ue[0]).sort((Ue,Et)=>Ue-Et),O=V.centroids.map(Ue=>Ue[0]).sort((Ue,Et)=>Ue-Et),Z=Math.floor(k[0]),H=Math.ceil(k[k.length-1]),X=Math.floor(O[0]),oe=Math.ceil(O[O.length-1]),B=H-Z,ne=Math.floor(B*l),ye=H-ne,Fe=e.roi(new cv.Rect(X,Z,oe-X,ye-Z)),de=oe-X,we=ye-Z,Ne=Math.floor(de*t),tt=Math.floor(we*o),ot=Math.max(0,X-Ne),wt=Math.max(0,Z-tt),Vt=Math.min(e.cols-ot,de+2*Ne),At=Math.min(e.rows-wt,we+2*tt),Ce=e.roi(new cv.Rect(ot,wt,Vt,At)),Ee=10,_e=9,_t=Math.floor(Vt/_e),Yt=df(At),It=[];let le=0;for(let Ue=0;Ue<Ee;Ue++){const Et=Yt[Ue];for(let P=0;P<_e;P++){const Ye=P*_t,ut=(P+1)*_t,De=Ce.roi(new cv.Rect(Ye,le,ut-Ye,Et)),Mt=document.createElement("canvas");Mt.width=De.cols,Mt.height=De.rows,cv.imshow(Mt,De);const Kt=Mt.getContext("2d");Kt&&It.push(Kt.getImageData(0,0,Mt.width,Mt.height)),De.delete()}le+=Et}return c.delete(),a.delete(),f.delete(),h.delete(),Fe.delete(),Ce.delete(),{gridCells:It,expandedRect:{x:ot,y:wt,width:Vt,height:At},gridHeights:Yt}}function gf(e,t){const{gridCells:o,chessboardRect:l,gridHeights:c}=hf(e),a={x:Math.max(0,l.x),y:Math.max(0,l.y),width:Math.min(l.width,e.width-l.x),height:Math.min(l.height,e.height-l.y)},f=[],h=[];for(let y=0;y<o.length;y++){const S=o[y];if(Sa(S)){const F=ba(S);if(F!=="unknown"){const V=Math.floor(y/9),k=y%9,O=va(S,F),Z=cv.matFromImageData(O),H=fa(Z,t,F);Z.delete();const X={position:[V,k],color:F,type:H,cell:S};H==="none"?h.push(X):f.push(X)}}}const p=qa(e,a,c,[...f,...h]);return{adjustedChessboardRect:a,detectedPieces:f,unidentifiedPieces:h,overlayCanvas:p}}const mf={帥:"k",將:"k",仕:"a",士:"a",相:"b",象:"b",馬:"n",車:"r",炮:"c",砲:"c",兵:"p",卒:"p"},wf=async()=>{const e=document.createElement("canvas");return!e||!e.getContext?!1:e.toDataURL("image/webp").indexOf("data:image/webp")===0};async function Ef(e,t=128){const o=document.createElement("canvas");let l=e.width,c=e.height;(l>t||c>t)&&(l>c?(c=Math.round(c*t/l),l=t):(l=Math.round(l*t/c),c=t)),o.width=l,o.height=c;const a=o.getContext("2d");if(!a)throw new Error("无法创建 canvas context");const f=document.createElement("canvas");f.width=e.width,f.height=e.height;const h=f.getContext("2d");if(!h)throw new Error("无法创建临时 canvas context");h.putImageData(e,0,0),a.drawImage(f,0,0,l,c);const p=await wf();return new Promise(y=>{p?o.toBlob(S=>y(S),"image/webp",.8):o.toBlob(S=>y(S),"image/jpeg",.8)})}async function yf(e){var l,c,a;const t=await Promise.all(e.map(f=>Ef(f.cell))),o=[];for(let f=0;f<t.length;f+=10){const h=t.slice(f,f+10),p=new FormData;h.forEach(F=>p.append("image",F));const y=await fetch("https://workers.nicesprite.com/api/stepfun/",{method:"POST",body:p});if(!y.ok)throw new Error("StepFun API 请求失败");const S=await y.json();if(!((a=(c=(l=S.choices)==null?void 0:l[0])==null?void 0:c.message)!=null&&a.content))throw new Error("StepFun API 返回格式错误");const b=S.choices[0].message.content.split(/，|,/).map(F=>F.trim()).filter(Boolean);o.push(b)}return o}function Sf(e){const t=es();return{processUploadedImage:async l=>{if(!e.value){t.setError("模板未加载");return}console.log("[ImageProcessing] 开始处理图片"),t.isProcessing=!0,t.resetHistory(),t.originalImageSize={width:l.width,height:l.height};try{const{adjustedChessboardRect:c,detectedPieces:a,unidentifiedPieces:f,overlayCanvas:h}=gf(l,e.value);if(t.chessboardRect=c,t.overlayImageSrc=h.toDataURL(),f.length>0){console.log(`[ImageProcessing] 开始识别 ${f.length} 个未知棋子`);try{const S=await yf(f);console.log("[ImageProcessing] StepFun API 返回结果:",S),S.forEach((b,F)=>{const V=F*10;b.forEach((k,O)=>{const Z=f[V+O];if(Z){const H=mf[k];H&&(console.log(`[ImageProcessing] 识别成功: [${Z.position}] = ${k} (${H})`),Z.type=H,a.push(Z))}})})}catch(S){console.error("[ImageProcessing] StepFun API 识别失败:",S),t.setError(`部分棋子类型识别失败: ${S.message}`)}}console.log("[ImageProcessing] 生成 FEN 码");const p=Array.from({length:10},()=>Array(9).fill("none"));a.forEach(S=>{const[b,F]=S.position;S.type!=="none"&&(p[b][F]=`${S.color}_${S.type}`)});const y=da(p,"red");console.log("[ImageProcessing] 设置 FEN 码:",y),t.setFenCode(y)}catch(c){console.error("[ImageProcessing] 处理失败:",c),t.setError(`处理图像失败: ${c.message}`)}finally{console.log("[ImageProcessing] 处理完成"),t.isProcessing=!1}}}}const bf={class:"section"},vf=Dt({__name:"ImageUploader",props:{onImageUpload:{type:Function}},setup(e){const t=e,o=Le(null),l=a=>{var h;const f=(h=a.target.files)==null?void 0:h[0];if(f){const p=new FileReader;p.onload=y=>{var b;const S=new Image;S.onload=async()=>{await t.onImageUpload(S)},S.src=(b=y.target)==null?void 0:b.result},p.readAsDataURL(f)}},c=()=>{var a;(a=o.value)==null||a.click()};return(a,f)=>(Pe(),We("section",bf,[f[0]||(f[0]=ae("h2",null,"上传图片",-1)),ae("input",{ref_key:"fileInputRef",ref:o,type:"file",onChange:l,accept:"image/*",style:{display:"none"}},null,544),ae("button",{onClick:c},"选择图片")]))}}),Nt=(e,t)=>{const o=e.__vccOpts||e;for(const[l,c]of t)o[l]=c;return o},Rf=Nt(vf,[["__scopeId","data-v-0ada8626"]]),Uf={class:"section"},_f=["src"],If=360,an=15,qf=Dt({__name:"BoardResult",setup(e){const t=es(),{overlayImageSrc:o,chessboardRect:l,originalImageSize:c}=Zs(t),a=$e(()=>{var O;return Math.max(0,(((O=l.value)==null?void 0:O.x)||0)-an)}),f=$e(()=>{var O;return Math.max(0,(((O=l.value)==null?void 0:O.y)||0)-an)}),h=$e(()=>{var O,Z;return Math.min((((O=c.value)==null?void 0:O.width)||0)-a.value,(((Z=l.value)==null?void 0:Z.width)||0)+2*an)}),p=$e(()=>{var O,Z;return Math.min((((O=c.value)==null?void 0:O.height)||0)-f.value,(((Z=l.value)==null?void 0:Z.height)||0)+2*an)}),y=$e(()=>Math.min(1,If/Math.max(h.value,p.value))),S=$e(()=>{var O;return(((O=c.value)==null?void 0:O.width)||0)/h.value}),b=$e(()=>h.value*y.value),F=$e(()=>p.value*y.value),V=$e(()=>b.value*S.value),k=$e(()=>(b.value-V.value)/2);return(O,Z)=>{var H;return Pe(),We("section",Uf,[Z[0]||(Z[0]=ae("h2",null,"分析结果",-1)),ae("div",{class:"image-container",style:Ls({width:`${b.value}px`,paddingBottom:`${F.value}px`})},[Be(o)?(Pe(),We("img",{key:0,src:Be(o),alt:"分析结果",class:"overlay-image",style:Ls({left:`${k.value}px`,width:`${V.value}px`,height:`${(((H=Be(c))==null?void 0:H.height)||0)*y.value}px`,marginTop:`${-f.value*y.value}px`})},null,12,_f)):ds("",!0)],4)])}}}),Ff=Nt(qf,[["__scopeId","data-v-86c614a0"]]),Vf={class:"section"},Mf={class:"fen-container"},xf=["value"],Tf=Dt({__name:"FENDisplay",setup(e){const t=es(),{fenCode:o}=Zs(t),l=()=>{navigator.clipboard.writeText(o.value)};return(c,a)=>(Pe(),We("section",Vf,[a[0]||(a[0]=ae("h2",null,"FEN代码",-1)),ae("div",Mf,[ae("input",{type:"text",value:Be(o),readonly:""},null,8,xf),ae("button",{onClick:l},"复制")])]))}}),Cf=Nt(Tf,[["__scopeId","data-v-03305d7e"]]),kf="/xiangqi-analysis/assets/LiSu-BT8uMcwJ.woff2",se=40;function Nf(e,t,o){const l=se/2,c=8*se+2*l,a=9*se+2*l;e.width=c*o,e.height=a*o,e.style.width=`${c*o/window.devicePixelRatio}px`,e.style.height=`${a*o/window.devicePixelRatio}px`,t.scale(o,o),t.fillStyle="#f0d9b5",t.fillRect(0,0,e.width,e.height),t.strokeStyle="#000",t.lineWidth=1;for(let p=0;p<=9;p++)t.beginPath(),t.moveTo(l,p*se+l),t.lineTo(c-l,p*se+l),t.stroke();for(let p=0;p<=8;p++)t.beginPath(),t.moveTo(p*se+l,l),t.lineTo(p*se+l,4*se+l),t.stroke(),t.beginPath(),t.moveTo(p*se+l,5*se+l),t.lineTo(p*se+l,a-l),t.stroke();t.beginPath(),t.moveTo(l,4*se+l),t.lineTo(l,5*se+l),t.stroke(),t.beginPath(),t.moveTo(c-l,4*se+l),t.lineTo(c-l,5*se+l),t.stroke(),t.font='20px "LiSu", sans-serif',t.fillStyle="rgba(0, 0, 0, 0.3)",t.textAlign="center",t.textBaseline="middle",t.fillText("楚  河",2*se+l,4.6*se+l),t.fillText("汉  界",6*se+l,4.6*se+l),t.beginPath(),t.moveTo(3*se+l,l),t.lineTo(5*se+l,2*se+l),t.moveTo(5*se+l,l),t.lineTo(3*se+l,2*se+l),t.moveTo(3*se+l,7*se+l),t.lineTo(5*se+l,9*se+l),t.moveTo(5*se+l,7*se+l),t.lineTo(3*se+l,9*se+l),t.stroke();function f(p,y,S=!1){if(!t)return;const b=se*.15,F=-se*.23;t.strokeStyle="rgba(0, 0, 0, 0.4)",t.lineWidth=1,(!S||p<c/2)&&(t.beginPath(),t.moveTo(p-b-F,y-F),t.lineTo(p-b-F,y-b-F),t.lineTo(p-F,y-b-F),t.stroke(),t.beginPath(),t.moveTo(p-b-F,y+F),t.lineTo(p-b-F,y+b+F),t.lineTo(p-F,y+b+F),t.stroke()),(!S||p>c/2)&&(t.beginPath(),t.moveTo(p+b+F,y-F),t.lineTo(p+b+F,y-b-F),t.lineTo(p+F,y-b-F),t.stroke(),t.beginPath(),t.moveTo(p+b+F,y+F),t.lineTo(p+b+F,y+b+F),t.lineTo(p+F,y+b+F),t.stroke())}f(1*se+l,2*se+l),f(7*se+l,2*se+l),f(1*se+l,7*se+l),f(7*se+l,7*se+l);for(let p=0;p<5;p++){const y=p===0||p===4;f(2*p*se+l,3*se+l,y),f(2*p*se+l,6*se+l,y)}t.font="11px Arial",t.textAlign="center",t.textBaseline="middle",t.fillStyle="rgba(0, 0, 0, 0.4)";const h=["一","二","三","四","五","六","七","八","九"];for(let p=0;p<9;p++)t.fillText(h[p],(8-p)*se+l,a-l/2);for(let p=0;p<9;p++)t.fillText((9-p).toString(),(8-p)*se+l,l/2)}function Af(e,t,o,l,c){const a=se/2,[f,h]=o,p=h*se+a,y=f*se+a,S=se*.4;e.beginPath(),e.arc(p+2,y+2,S,0,Math.PI*2),e.fillStyle="rgba(0, 0, 0, 0.3)",e.fill(),e.beginPath(),e.arc(p,y,S,0,Math.PI*2),e.fillStyle=t.color==="red"?"#ffcccc":"#e0e0e0",e.fill(),e.strokeStyle=t.color==="red"?"#c00000":"#000000",e.lineWidth=2,e.stroke(),e.fillStyle=t.color==="red"?"#c00000":"#000000",e.font='22px "LiSu", sans-serif';const b=t.type.toUpperCase(),F=t.color==="red"?bi[b]:bi[b.toLowerCase()];if(e.save(),e.setTransform(l,0,0,1.3*l,p*l,y*l),e.textAlign="center",e.textBaseline="bottom",e.fillText(F,S*.05,S*.9),e.restore(),c){const V=se*.9,k=V*.25;e.strokeStyle="rgba(0, 220, 75, 0.9)",e.lineWidth=2,e.beginPath(),e.moveTo(p-V/2,y-V/2+k),e.lineTo(p-V/2,y-V/2),e.lineTo(p-V/2+k,y-V/2),e.stroke(),e.beginPath(),e.moveTo(p+V/2-k,y-V/2),e.lineTo(p+V/2,y-V/2),e.lineTo(p+V/2,y-V/2+k),e.stroke(),e.beginPath(),e.moveTo(p-V/2,y+V/2-k),e.lineTo(p-V/2,y+V/2),e.lineTo(p-V/2+k,y+V/2),e.stroke(),e.beginPath(),e.moveTo(p+V/2-k,y+V/2),e.lineTo(p+V/2,y+V/2),e.lineTo(p+V/2,y+V/2-k),e.stroke()}}function Kf(e,t){const o=se/2,[l,c]=t.match(/.{2}/g)||[];if(!l||!c)return;const a=l.charCodeAt(0)-97,f=9-parseInt(l[1]),h=c.charCodeAt(0)-97,p=9-parseInt(c[1]),y=a*se+o,S=f*se+o,b=h*se+o,F=p*se+o,V=15,k=Math.atan2(F-S,b-y),O=b-V*Math.cos(k)*.86,Z=F-V*Math.sin(k)*.86;e.beginPath(),e.moveTo(y,S),e.lineTo(O,Z),e.strokeStyle="rgba(0, 0, 255, 0.6)",e.lineWidth=3,e.stroke(),e.beginPath(),e.moveTo(b,F),e.lineTo(b-V*Math.cos(k-Math.PI/6),F-V*Math.sin(k-Math.PI/6)),e.lineTo(b-V*Math.cos(k+Math.PI/6),F-V*Math.sin(k+Math.PI/6)),e.closePath(),e.fillStyle="rgba(0, 0, 255, 0.6)",e.fill()}const Of={style:{width:"100%",display:"flex","justify-content":"center"}},jf=Dt({__name:"ChessboardDisplay",setup(e){const t=es(),o=Le(null),l=Le([]),c=Le(h()),a=Le(!1),f=Le(null);function h(){const S=window.innerWidth*.8,b=8*se+se,F=window.devicePixelRatio;return Math.min(1,S/b)*F}Tn(()=>{var F;const S=new FontFace("LiSu",`url(${kf})`);S.load().then(()=>(document.fonts.add(S),document.fonts.ready)).then(()=>{a.value=!0}).catch(V=>{t.setError(`加载字体失败: ${V.message}`)});try{l.value=Si(t.fenCode)}catch(V){t.setError(`解析 FEN 码失败: ${V.message}`)}const b=()=>{o.value&&(c.value=h())};window.addEventListener("resize",b),(F=o.value)==null||F.addEventListener("click",p),ms(()=>t.fenCode,V=>{try{l.value=Si(V)}catch(k){t.setError(`解析 FEN 码失败: ${k.message}`)}}),ms([l,()=>t.bestMove,c,a,f],()=>{Vo(()=>{o.value&&y(o.value)})}),pr(()=>{var V;window.removeEventListener("resize",b),(V=o.value)==null||V.removeEventListener("click",p)})});const p=S=>{const b=o.value;if(!b)return;const F=b.getBoundingClientRect(),V=b.width/F.width,k=b.height/F.height,O=(S.clientX-F.left)*V,Z=(S.clientY-F.top)*k,H=se/2*c.value,X=Math.round((O-H)/(se*c.value)),oe=Math.round((Z-H)/(se*c.value));if(X>=0&&X<=8&&oe>=0&&oe<=9)if(f.value){const[B,ne]=f.value,ye=`${String.fromCharCode(97+ne)}${9-B}`,Fe=`${String.fromCharCode(97+X)}${9-oe}`,de=`${ye}${Fe}`;try{const we=Pr(t.fenCode,de);t.setFenCode(we),f.value=null}catch(we){t.setError(`更新 FEN 码失败: ${we.message}`)}}else f.value=[oe,X]};function y(S){const b=S.getContext("2d");b&&(b.clearRect(0,0,S.width,S.height),Nf(S,b,c.value),l.value.forEach((F,V)=>{F.forEach((k,O)=>{if(k){const Z=f.value&&f.value[0]===V&&f.value[1]===O;Af(b,k,[V,O],c.value,!!Z)}})}),t.bestMove&&Kf(b,t.bestMove))}return(S,b)=>(Pe(),We("div",Of,[ae("canvas",{ref_key:"canvasRef",ref:o,class:"chessboard",style:{"max-width":"80vw",height:"auto"}},null,512)]))}}),Jf=Nt(jf,[["__scopeId","data-v-bb5ff191"]]),Qf={class:"section"},Lf={class:"chessboard-display"},Pf={class:"solution-controls"},Wf=["disabled"],Df=["disabled"],Yf={class:"solution-debug"},Bf={key:0},Gf={key:1,style:{color:"red"}},Xf={key:2},zf={key:3,style:{fontWeight:"bold",color:"green"}},Zf={class:"move-list"},Hf=Dt({__name:"SolutionDisplay",setup(e){const t=es(),{bestMove:o,isCalculating:l,error:c,moveHistory:a,fenCode:f,fenHistory:h}=Zs(t),p=()=>{t.handleNextMove()},y=()=>{t.handlePreviousMove()},S=Z=>{t.setFenCode(Z)},b=$e(()=>a.value.length%2===0?"红方":"黑方"),F=$e(()=>a.value.length+1),V=$e(()=>a.value.map((Z,H)=>{const X=h.value[H];return yi(X,Z)})),k=$e(()=>o.value==="red_wins"||o.value==="black_wins"),O=$e(()=>o.value==="red_wins"?"红方胜":o.value==="black_wins"?"黑方胜":"");return(Z,H)=>(Pe(),We("section",Qf,[H[0]||(H[0]=ae("h2",null,"解法展示",-1)),ae("div",Lf,[Ze(Jf,{fen:Be(f),bestMove:k.value?"":Be(o),onFenUpdate:S},null,8,["fen","bestMove"])]),ae("div",Pf,[ae("button",{onClick:y,disabled:Be(a).length===0}," 上一步 ",8,Wf),ae("button",{onClick:p,disabled:Be(l)||!Be(o)||k.value}," 下一步 ",8,Df)]),ae("div",Yf,[Be(l)?(Pe(),We("p",Bf,"正在计算最佳走法...")):ds("",!0),Be(c)?(Pe(),We("p",Gf,Qt(Be(c)),1)):ds("",!0),!k.value&&Be(o)?(Pe(),We("p",Xf,Qt(b.value)+"最佳走法： "+Qt(Be(yi)(Be(f),Be(o)))+" （第 "+Qt(F.value)+" 步） ",1)):ds("",!0),k.value?(Pe(),We("p",zf,Qt(O.value),1)):ds("",!0)]),ae("div",Zf,[(Pe(!0),We(Ct,null,gr(V.value,(X,oe)=>(Pe(),We("span",{key:oe,class:"move-item"},Qt(X),1))),128))])]))}}),$f=Nt(Hf,[["__scopeId","data-v-018bf82e"]]),eh={class:"section"},th={class:"depth-slider-container"},sh={for:"depth-slider"},nh=Dt({__name:"DepthControl",setup(e){const t=es(),{depth:o}=Zs(t);return(l,c)=>(Pe(),We("section",eh,[c[1]||(c[1]=ae("h2",null,"搜索深度控制",-1)),ae("div",th,[ae("label",sh,"当前深度: "+Qt(Be(o)),1),Zl(ae("input",{id:"depth-slider",type:"range",min:"10",max:"30","onUpdate:modelValue":c[0]||(c[0]=a=>Je(o)?o.value=a:null)},null,512),[[bu,Be(o),void 0,{number:!0}]])])]))}}),oh=Nt(nh,[["__scopeId","data-v-bab9fde6"]]),ih=`<h3>2024-11-29</h3>
<ul>
<li>使用大模型 StepFun 分析未识别的棋子</li>
<li>删除关闭行棋提示的提醒</li>
</ul>
<h3>2024-11-11</h3>
<ul>
<li>增加示例部分</li>
</ul>
<h3>2024-11-01</h3>
<ul>
<li>优化 OpenCV.js 加载完成的判断条件</li>
<li>优化全局样式，使用 scoped 样式</li>
</ul>
<h3>2024-10-15</h3>
<ul>
<li>使用 Vue 3 重构</li>
<li>改用 <code>pinia</code> 管理状态</li>
<li>优化代码结构</li>
</ul>
<h3>2024-10-08</h3>
<ul>
<li>增加 更新日志 显示</li>
<li>棋盘显示优化
<ul>
<li>棋子字体使用隶书</li>
<li>提升高清屏渲染质量</li>
</ul>
</li>
<li>支持棋子任意移动，黑方可不走最佳走法</li>
</ul>
<h3>2024-10-07</h3>
<ul>
<li>优化 <strong>OpenCV.js</strong> 库加载、使用 <code>cdn.jsdmirror.com</code> 替换 <code>jsdelivr.net</code></li>
<li><strong>Pikafish</strong> 使用 <code>xiangqiai.com</code> 的 wasm 版本</li>
<li>优化黑棋子识别</li>
<li>新增欢迎提示和加载界面</li>
</ul>
`,rh={class:"changelog"},lh={class:"changelog-arrow"},ch=["innerHTML"],uh=Dt({__name:"Changelog",setup(e){const t=Le(!1),o=()=>{t.value=!t.value},l=ih;return(c,a)=>(Pe(),We("div",rh,[ae("h3",{onClick:o,class:"changelog-title"},[ae("span",lh,Qt(t.value?"▼":"▶"),1),a[0]||(a[0]=Sn(" 更新日志 "))]),t.value?(Pe(),We("div",{key:0,class:"changelog-content markdown-content",innerHTML:Be(l)},null,8,ch)):ds("",!0)]))}}),ah=Nt(uh,[["__scopeId","data-v-046a9ede"]]),fh={key:0,class:"modal-overlay"},hh={open:"",class:"welcome-modal"},dh={class:"welcome-modal-content"},ph={class:"button-group"},gh=Dt({__name:"WelcomeModal",setup(e){const t="ccce8f9c",o=Le(!1);Tn(()=>{const c=localStorage.getItem("lastSeenVersion");(!(localStorage.getItem("skipFutureModals")==="true")||c!==t)&&(o.value=!0)});const l=c=>{o.value=!1,localStorage.setItem("lastSeenVersion",t),c?localStorage.setItem("skipFutureModals","true"):localStorage.removeItem("skipFutureModals")};return(c,a)=>o.value?(Pe(),We("div",fh,[ae("dialog",hh,[ae("div",dh,[a[2]||(a[2]=ae("h2",null,"欢迎使用",-1)),a[3]||(a[3]=ae("p",null,"该应用正在开发完善中",-1)),a[4]||(a[4]=ae("p",null,"目前在 JJ象棋 残局截图上进行了测试",-1)),Ze(ah),ae("div",ph,[ae("button",{onClick:a[0]||(a[0]=f=>l(!1)),class:"primary-button"}," 我知道了 "),ae("button",{onClick:a[1]||(a[1]=f=>l(!0)),class:"secondary-button"}," 不再提示 ")])])])])):ds("",!0)}}),mh=Nt(gh,[["__scopeId","data-v-b05a7d36"]]),wh={},Eh={class:"spinner"};function yh(e,t){return Pe(),We("div",Eh)}const Sh=Nt(wh,[["render",yh],["__scopeId","data-v-dd5449e5"]]),bh={class:"section"},vh={class:"demo-images-grid"},Rh=["onClick"],Uh=["src","alt"],_h={class:"demo-image-description"},Ih=Dt({__name:"LoadDemo",emits:["selectDemo"],setup(e,{emit:t}){const o=[{url:new URL("/xiangqi-analysis/assets/example1-C4jyedU1.jpg",import.meta.url).href,description:"示例1"},{url:new URL("/xiangqi-analysis/assets/example2-wME4h_Eg.jpg",import.meta.url).href,description:"示例2"},{url:new URL("/xiangqi-analysis/assets/example3-A9YVSqiV.jpg",import.meta.url).href,description:"示例3"}],l=t,c=a=>{const f=new Image;f.src=a.url,f.onload=async()=>{await l("selectDemo",f)}};return(a,f)=>(Pe(),We("section",bh,[f[0]||(f[0]=ae("h2",null,"示例",-1)),ae("div",vh,[(Pe(),We(Ct,null,gr(o,(h,p)=>ae("div",{key:p,class:"demo-image-item",onClick:()=>c(h)},[ae("img",{src:h.url,alt:h.description},null,8,Uh),ae("span",_h,Qt(h.description),1)],8,Rh)),64))])]))}}),qh=Nt(Ih,[["__scopeId","data-v-47a99afe"]]),Fh={key:0,class:"loading-overlay"},Vh={key:1},Mh={class:"app-container"},xh={class:"content-wrapper"},Th={class:"left-column"},Ch={class:"right-column"},kh={class:"upload-group"},Nh={class:"result-group"},Ah=Dt({__name:"App",setup(e){const{templates:t}=pa(),{fetchBestMove:o,isEngineReady:l}=ya(),c=$e(()=>{const p=!!t.value;return!l.value||!p}),a=es();ms(()=>[a.fenCode,a.depth,a.isProcessing],([p,y,S],[b])=>{console.log("[App] 状态变化:",{oldFen:b,newFen:p,isProcessing:S,bestMove:a.bestMove}),p&&!S&&p!==b?(console.log("[App] 触发引擎分析"),o(p,y)):console.log("[App] 跳过引擎分析:",{hasFen:!!p,isProcessing:S,fenChanged:p!==b})});const{processUploadedImage:f}=Sf(t),h=async p=>{console.log("[App] 开始处理新图片"),await f(p),console.log("[App] 图片处理完成")};return(p,y)=>(Pe(),We("div",null,[c.value?(Pe(),We("div",Fh,[Ze(Sh),y[0]||(y[0]=ae("p",null,"正在加载必要组件，请稍候...",-1)),y[1]||(y[1]=ae("p",null,"如果加载时间过长，请刷新页面重试。",-1))])):(Pe(),We("div",Vh,[y[2]||(y[2]=ae("header",null,[ae("h1",null,"象棋棋盘识别与分析")],-1)),ae("main",Mh,[Ze(mh),ae("div",xh,[ae("div",Th,[Ze($f)]),ae("div",Ch,[ae("div",kh,[Ze(Rf,{onImageUpload:h}),Ze(qh,{onSelectDemo:h})]),ae("div",Nh,[Ze(Ff),Ze(Cf),Ze(oh)])])])]),y[3]||(y[3]=ae("footer",null,[ae("p",null,[Sn(" 2024 象棋棋盘识别与分析系统 | Powered by "),ae("a",{href:"https://github.com/official-pikafish/Pikafish"},"Pikafish"),Sn(" |  "),ae("a",{href:"https://github.com/iFwu/xiangqi-analysis"},"GitHub 源码仓库")])],-1))]))]))}}),Kh=Nt(Ah,[["__scopeId","data-v-54164dcf"]]),Yr=Uu(Kh),Oh=Fu();Yr.use(Oh);Yr.mount("#app");
