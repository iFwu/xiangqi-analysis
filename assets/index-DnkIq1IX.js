var go=Object.defineProperty;var he=i=>{throw TypeError(i)};var po=(i,e,o)=>e in i?go(i,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[e]=o;var ae=(i,e,o)=>po(i,typeof e!="symbol"?e+"":e,o),Yt=(i,e,o)=>e.has(i)||he("Cannot "+o);var nt=(i,e,o)=>(Yt(i,e,"read from private field"),o?o.call(i):e.get(i)),Gt=(i,e,o)=>e.has(i)?he("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,o),vt=(i,e,o,t)=>(Yt(i,e,"write to private field"),t?t.call(i,o):e.set(i,o),o),Lt=(i,e,o)=>(Yt(i,e,"access private method"),o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();var Qt,Y,Te,ct,ue,Qe,Dt,$t,zt,Xt,wt={},Je=[],wo=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,te=Array.isArray;function lt(i,e){for(var o in e)i[o]=e[o];return i}function Ae(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function Eo(i,e,o){var t,n,s,l={};for(s in e)s=="key"?t=e[s]:s=="ref"?n=e[s]:l[s]=e[s];if(arguments.length>2&&(l.children=arguments.length>3?Qt.call(arguments,2):o),typeof i=="function"&&i.defaultProps!=null)for(s in i.defaultProps)l[s]===void 0&&(l[s]=i.defaultProps[s]);return kt(i,l,t,n,null)}function kt(i,e,o,t,n){var s={type:i,props:e,key:o,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:n??++Te,__i:-1,__u:0};return n==null&&Y.vnode!=null&&Y.vnode(s),s}function Ut(i){return i.children}function It(i,e){this.props=i,this.context=e}function pt(i,e){if(e==null)return i.__?pt(i.__,i.__i+1):null;for(var o;e<i.__k.length;e++)if((o=i.__k[e])!=null&&o.__e!=null)return o.__e;return typeof i.type=="function"?pt(i):null}function We(i){var e,o;if((i=i.__)!=null&&i.__c!=null){for(i.__e=i.__c.base=null,e=0;e<i.__k.length;e++)if((o=i.__k[e])!=null&&o.__e!=null){i.__e=i.__c.base=o.__e;break}return We(i)}}function fe(i){(!i.__d&&(i.__d=!0)&&ct.push(i)&&!Kt.__r++||ue!==Y.debounceRendering)&&((ue=Y.debounceRendering)||Qe)(Kt)}function Kt(){var i,e,o,t,n,s,l,r;for(ct.sort(Dt);i=ct.shift();)i.__d&&(e=ct.length,t=void 0,s=(n=(o=i).__v).__e,l=[],r=[],o.__P&&((t=lt({},n)).__v=n.__v+1,Y.vnode&&Y.vnode(t),ee(o.__P,t,n,o.__n,o.__P.namespaceURI,32&n.__u?[s]:null,l,s??pt(n),!!(32&n.__u),r),t.__v=n.__v,t.__.__k[t.__i]=t,Ge(l,t,r),t.__e!=s&&We(t)),ct.length>e&&ct.sort(Dt));Kt.__r=0}function je(i,e,o,t,n,s,l,r,c,h,m){var a,d,u,g,p,_=t&&t.__k||Je,f=e.length;for(o.__d=c,_o(o,e,_),c=o.__d,a=0;a<f;a++)(u=o.__k[a])!=null&&(d=u.__i===-1?wt:_[u.__i]||wt,u.__i=a,ee(i,u,d,n,s,l,r,c,h,m),g=u.__e,u.ref&&d.ref!=u.ref&&(d.ref&&oe(d.ref,null,u),m.push(u.ref,u.__c||g,u)),p==null&&g!=null&&(p=g),65536&u.__u||d.__k===u.__k?c=Ye(u,c,i):typeof u.type=="function"&&u.__d!==void 0?c=u.__d:g&&(c=g.nextSibling),u.__d=void 0,u.__u&=-196609);o.__d=c,o.__e=p}function _o(i,e,o){var t,n,s,l,r,c=e.length,h=o.length,m=h,a=0;for(i.__k=[],t=0;t<c;t++)(n=e[t])!=null&&typeof n!="boolean"&&typeof n!="function"?(l=t+a,(n=i.__k[t]=typeof n=="string"||typeof n=="number"||typeof n=="bigint"||n.constructor==String?kt(null,n,null,null,null):te(n)?kt(Ut,{children:n},null,null,null):n.constructor===void 0&&n.__b>0?kt(n.type,n.props,n.key,n.ref?n.ref:null,n.__v):n).__=i,n.__b=i.__b+1,s=null,(r=n.__i=yo(n,o,l,m))!==-1&&(m--,(s=o[r])&&(s.__u|=131072)),s==null||s.__v===null?(r==-1&&a--,typeof n.type!="function"&&(n.__u|=65536)):r!==l&&(r==l-1?a--:r==l+1?a++:(r>l?a--:a++,n.__u|=65536))):n=i.__k[t]=null;if(m)for(t=0;t<h;t++)(s=o[t])!=null&&!(131072&s.__u)&&(s.__e==i.__d&&(i.__d=pt(s)),Le(s,s))}function Ye(i,e,o){var t,n;if(typeof i.type=="function"){for(t=i.__k,n=0;t&&n<t.length;n++)t[n]&&(t[n].__=i,e=Ye(t[n],e,o));return e}i.__e!=e&&(e&&i.type&&!o.contains(e)&&(e=pt(i)),o.insertBefore(i.__e,e||null),e=i.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function yo(i,e,o,t){var n=i.key,s=i.type,l=o-1,r=o+1,c=e[o];if(c===null||c&&n==c.key&&s===c.type&&!(131072&c.__u))return o;if(t>(c!=null&&!(131072&c.__u)?1:0))for(;l>=0||r<e.length;){if(l>=0){if((c=e[l])&&!(131072&c.__u)&&n==c.key&&s===c.type)return l;l--}if(r<e.length){if((c=e[r])&&!(131072&c.__u)&&n==c.key&&s===c.type)return r;r++}}return-1}function me(i,e,o){e[0]==="-"?i.setProperty(e,o??""):i[e]=o==null?"":typeof o!="number"||wo.test(e)?o:o+"px"}function Rt(i,e,o,t,n){var s;t:if(e==="style")if(typeof o=="string")i.style.cssText=o;else{if(typeof t=="string"&&(i.style.cssText=t=""),t)for(e in t)o&&e in o||me(i.style,e,"");if(o)for(e in o)t&&o[e]===t[e]||me(i.style,e,o[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in i||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),i.l||(i.l={}),i.l[e+s]=o,o?t?o.u=t.u:(o.u=$t,i.addEventListener(e,s?Xt:zt,s)):i.removeEventListener(e,s?Xt:zt,s);else{if(n=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in i)try{i[e]=o??"";break t}catch{}typeof o=="function"||(o==null||o===!1&&e[4]!=="-"?i.removeAttribute(e):i.setAttribute(e,e=="popover"&&o==1?"":o))}}function ge(i){return function(e){if(this.l){var o=this.l[e.type+i];if(e.t==null)e.t=$t++;else if(e.t<o.u)return;return o(Y.event?Y.event(e):e)}}}function ee(i,e,o,t,n,s,l,r,c,h){var m,a,d,u,g,p,_,f,E,U,v,S,F,b,V,I,w=e.type;if(e.constructor!==void 0)return null;128&o.__u&&(c=!!(32&o.__u),s=[r=e.__e=o.__e]),(m=Y.__b)&&m(e);t:if(typeof w=="function")try{if(f=e.props,E="prototype"in w&&w.prototype.render,U=(m=w.contextType)&&t[m.__c],v=m?U?U.props.value:m.__:t,o.__c?_=(a=e.__c=o.__c).__=a.__E:(E?e.__c=a=new w(f,v):(e.__c=a=new It(f,v),a.constructor=w,a.render=Uo),U&&U.sub(a),a.props=f,a.state||(a.state={}),a.context=v,a.__n=t,d=a.__d=!0,a.__h=[],a._sb=[]),E&&a.__s==null&&(a.__s=a.state),E&&w.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=lt({},a.__s)),lt(a.__s,w.getDerivedStateFromProps(f,a.__s))),u=a.props,g=a.state,a.__v=e,d)E&&w.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),E&&a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(E&&w.getDerivedStateFromProps==null&&f!==u&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(f,v),!a.__e&&(a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(f,a.__s,v)===!1||e.__v===o.__v)){for(e.__v!==o.__v&&(a.props=f,a.state=a.__s,a.__d=!1),e.__e=o.__e,e.__k=o.__k,e.__k.some(function(y){y&&(y.__=e)}),S=0;S<a._sb.length;S++)a.__h.push(a._sb[S]);a._sb=[],a.__h.length&&l.push(a);break t}a.componentWillUpdate!=null&&a.componentWillUpdate(f,a.__s,v),E&&a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(u,g,p)})}if(a.context=v,a.props=f,a.__P=i,a.__e=!1,F=Y.__r,b=0,E){for(a.state=a.__s,a.__d=!1,F&&F(e),m=a.render(a.props,a.state,a.context),V=0;V<a._sb.length;V++)a.__h.push(a._sb[V]);a._sb=[]}else do a.__d=!1,F&&F(e),m=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++b<25);a.state=a.__s,a.getChildContext!=null&&(t=lt(lt({},t),a.getChildContext())),E&&!d&&a.getSnapshotBeforeUpdate!=null&&(p=a.getSnapshotBeforeUpdate(u,g)),je(i,te(I=m!=null&&m.type===Ut&&m.key==null?m.props.children:m)?I:[I],e,o,t,n,s,l,r,c,h),a.base=e.__e,e.__u&=-161,a.__h.length&&l.push(a),_&&(a.__E=a.__=null)}catch(y){if(e.__v=null,c||s!=null){for(e.__u|=c?160:32;r&&r.nodeType===8&&r.nextSibling;)r=r.nextSibling;s[s.indexOf(r)]=null,e.__e=r}else e.__e=o.__e,e.__k=o.__k;Y.__e(y,e,o)}else s==null&&e.__v===o.__v?(e.__k=o.__k,e.__e=o.__e):e.__e=So(o.__e,e,o,t,n,s,l,c,h);(m=Y.diffed)&&m(e)}function Ge(i,e,o){e.__d=void 0;for(var t=0;t<o.length;t++)oe(o[t],o[++t],o[++t]);Y.__c&&Y.__c(e,i),i.some(function(n){try{i=n.__h,n.__h=[],i.some(function(s){s.call(n)})}catch(s){Y.__e(s,n.__v)}})}function So(i,e,o,t,n,s,l,r,c){var h,m,a,d,u,g,p,_=o.props,f=e.props,E=e.type;if(E==="svg"?n="http://www.w3.org/2000/svg":E==="math"?n="http://www.w3.org/1998/Math/MathML":n||(n="http://www.w3.org/1999/xhtml"),s!=null){for(h=0;h<s.length;h++)if((u=s[h])&&"setAttribute"in u==!!E&&(E?u.localName===E:u.nodeType===3)){i=u,s[h]=null;break}}if(i==null){if(E===null)return document.createTextNode(f);i=document.createElementNS(n,E,f.is&&f),r&&(Y.__m&&Y.__m(e,s),r=!1),s=null}if(E===null)_===f||r&&i.data===f||(i.data=f);else{if(s=s&&Qt.call(i.childNodes),_=o.props||wt,!r&&s!=null)for(_={},h=0;h<i.attributes.length;h++)_[(u=i.attributes[h]).name]=u.value;for(h in _)if(u=_[h],h!="children"){if(h=="dangerouslySetInnerHTML")a=u;else if(!(h in f)){if(h=="value"&&"defaultValue"in f||h=="checked"&&"defaultChecked"in f)continue;Rt(i,h,null,u,n)}}for(h in f)u=f[h],h=="children"?d=u:h=="dangerouslySetInnerHTML"?m=u:h=="value"?g=u:h=="checked"?p=u:r&&typeof u!="function"||_[h]===u||Rt(i,h,u,_[h],n);if(m)r||a&&(m.__html===a.__html||m.__html===i.innerHTML)||(i.innerHTML=m.__html),e.__k=[];else if(a&&(i.innerHTML=""),je(i,te(d)?d:[d],e,o,t,E==="foreignObject"?"http://www.w3.org/1999/xhtml":n,s,l,s?s[0]:o.__k&&pt(o,0),r,c),s!=null)for(h=s.length;h--;)Ae(s[h]);r||(h="value",E==="progress"&&g==null?i.removeAttribute("value"):g!==void 0&&(g!==i[h]||E==="progress"&&!g||E==="option"&&g!==_[h])&&Rt(i,h,g,_[h],n),h="checked",p!==void 0&&p!==i[h]&&Rt(i,h,p,_[h],n))}return i}function oe(i,e,o){try{if(typeof i=="function"){var t=typeof i.__u=="function";t&&i.__u(),t&&e==null||(i.__u=i(e))}else i.current=e}catch(n){Y.__e(n,o)}}function Le(i,e,o){var t,n;if(Y.unmount&&Y.unmount(i),(t=i.ref)&&(t.current&&t.current!==i.__e||oe(t,null,e)),(t=i.__c)!=null){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(s){Y.__e(s,e)}t.base=t.__P=null}if(t=i.__k)for(n=0;n<t.length;n++)t[n]&&Le(t[n],e,o||typeof i.type!="function");o||Ae(i.__e),i.__c=i.__=i.__e=i.__d=void 0}function Uo(i,e,o){return this.constructor(i,o)}function qo(i,e,o){var t,n,s,l;Y.__&&Y.__(i,e),n=(t=typeof o=="function")?null:e.__k,s=[],l=[],ee(e,i=(!t&&o||e).__k=Eo(Ut,null,[i]),n||wt,wt,e.namespaceURI,!t&&o?[o]:n?null:e.firstChild?Qt.call(e.childNodes):null,s,!t&&o?o:n?n.__e:e.firstChild,t,l),Ge(s,i,l)}Qt=Je.slice,Y={__e:function(i,e,o,t){for(var n,s,l;e=e.__;)if((n=e.__c)&&!n.__)try{if((s=n.constructor)&&s.getDerivedStateFromError!=null&&(n.setState(s.getDerivedStateFromError(i)),l=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(i,t||{}),l=n.__d),l)return n.__E=n}catch(r){i=r}throw i}},Te=0,It.prototype.setState=function(i,e){var o;o=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=lt({},this.state),typeof i=="function"&&(i=i(lt({},o),this.props)),i&&lt(o,i),i!=null&&this.__v&&(e&&this._sb.push(e),fe(this))},It.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),fe(this))},It.prototype.render=Ut,ct=[],Qe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Dt=function(i,e){return i.__v.__b-e.__v.__b},Kt.__r=0,$t=0,zt=ge(!1),Xt=ge(!0);var vo=0;function x(i,e,o,t,n,s){e||(e={});var l,r,c=e;if("ref"in c)for(r in c={},e)r=="ref"?l=e[r]:c[r]=e[r];var h={type:i,props:c,key:o,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--vo,__i:-1,__u:0,__source:n,__self:s};if(typeof i=="function"&&(l=i.defaultProps))for(r in l)c[r]===void 0&&(c[r]=l[r]);return Y.vnode&&Y.vnode(h),h}var Et,D,Ot,pe,_t=0,Oe=[],z=Y,de=z.__b,we=z.__r,Ee=z.diffed,_e=z.__c,ye=z.unmount,Se=z.__;function ne(i,e){z.__h&&z.__h(D,i,_t||e),_t=0;var o=D.__H||(D.__H={__:[],__h:[]});return i>=o.__.length&&o.__.push({}),o.__[i]}function Z(i){return _t=1,Ro(Xe,i)}function Ro(i,e,o){var t=ne(Et++,2);if(t.t=i,!t.__c&&(t.__=[Xe(void 0,e),function(r){var c=t.__N?t.__N[0]:t.__[0],h=t.t(c,r);c!==h&&(t.__N=[h,t.__[1]],t.__c.setState({}))}],t.__c=D,!D.u)){var n=function(r,c,h){if(!t.__c.__H)return!0;var m=t.__c.__H.__.filter(function(d){return!!d.__c});if(m.every(function(d){return!d.__N}))return!s||s.call(this,r,c,h);var a=!1;return m.forEach(function(d){if(d.__N){var u=d.__[0];d.__=d.__N,d.__N=void 0,u!==d.__[0]&&(a=!0)}}),!(!a&&t.__c.props===r)&&(!s||s.call(this,r,c,h))};D.u=!0;var s=D.shouldComponentUpdate,l=D.componentWillUpdate;D.componentWillUpdate=function(r,c,h){if(this.__e){var m=s;s=void 0,n(r,c,h),s=m}l&&l.call(this,r,c,h)},D.shouldComponentUpdate=n}return t.__N||t.__}function it(i,e){var o=ne(Et++,3);!z.__s&&ze(o.__H,e)&&(o.__=i,o.i=e,D.__H.__h.push(o))}function Be(i){return _t=5,De(function(){return{current:i}},[])}function De(i,e){var o=ne(Et++,7);return ze(o.__H,e)&&(o.__=i(),o.__H=e,o.__h=i),o.__}function Vo(i,e){return _t=8,De(function(){return i},e)}function bo(){for(var i;i=Oe.shift();)if(i.__P&&i.__H)try{i.__H.__h.forEach(xt),i.__H.__h.forEach(Pt),i.__H.__h=[]}catch(e){i.__H.__h=[],z.__e(e,i.__v)}}z.__b=function(i){D=null,de&&de(i)},z.__=function(i,e){i&&e.__k&&e.__k.__m&&(i.__m=e.__k.__m),Se&&Se(i,e)},z.__r=function(i){we&&we(i),Et=0;var e=(D=i.__c).__H;e&&(Ot===D?(e.__h=[],D.__h=[],e.__.forEach(function(o){o.__N&&(o.__=o.__N),o.i=o.__N=void 0})):(e.__h.forEach(xt),e.__h.forEach(Pt),e.__h=[],Et=0)),Ot=D},z.diffed=function(i){Ee&&Ee(i);var e=i.__c;e&&e.__H&&(e.__H.__h.length&&(Oe.push(e)!==1&&pe===z.requestAnimationFrame||((pe=z.requestAnimationFrame)||Fo)(bo)),e.__H.__.forEach(function(o){o.i&&(o.__H=o.i),o.i=void 0})),Ot=D=null},z.__c=function(i,e){e.some(function(o){try{o.__h.forEach(xt),o.__h=o.__h.filter(function(t){return!t.__||Pt(t)})}catch(t){e.some(function(n){n.__h&&(n.__h=[])}),e=[],z.__e(t,o.__v)}}),_e&&_e(i,e)},z.unmount=function(i){ye&&ye(i);var e,o=i.__c;o&&o.__H&&(o.__H.__.forEach(function(t){try{xt(t)}catch(n){e=n}}),o.__H=void 0,e&&z.__e(e,o.__v))};var Ue=typeof requestAnimationFrame=="function";function Fo(i){var e,o=function(){clearTimeout(t),Ue&&cancelAnimationFrame(e),setTimeout(i)},t=setTimeout(o,100);Ue&&(e=requestAnimationFrame(o))}function xt(i){var e=D,o=i.__c;typeof o=="function"&&(i.__c=void 0,o()),D=e}function Pt(i){var e=D;i.__c=i.__(),D=e}function ze(i,e){return!i||i.length!==e.length||e.some(function(o,t){return o!==i[t]})}function Xe(i,e){return typeof e=="function"?e(i):e}function Jt(i,e){let o=0;for(let t=0;t<i.length;t++)o+=(i[t]-e[t])*(i[t]-e[t]);return o}const Bt={distanceFunction:Jt};function ko(i,e,o=Bt){const t=o.distanceFunction||Bt.distanceFunction,n=o.similarityFunction||Bt.similarityFunction;let s=-1;if(typeof n=="function"){let l=Number.MIN_VALUE;for(let r=0;r<i.length;r++){const c=n(e,i[r]);c>l&&(l=c,s=r)}}else if(typeof t=="function"){let l=Number.MAX_VALUE;for(let r=0;r<i.length;r++){const c=t(e,i[r]);c<l&&(l=c,s=r)}}else throw new Error("A similarity or distance function it's required");return s}function Io(i,e){let o=new Array(i.length);for(let t=0;t<i.length;++t)for(let n=t;n<i.length;++n){o[t]||(o[t]=new Array(i.length)),o[n]||(o[n]=new Array(i.length));const s=e(i[t],i[n]);o[t][n]=s,o[n][t]=s}return o}function Pe(i,e,o,t){for(let n=0;n<i.length;n++)o[n]=ko(e,i[n],{distanceFunction:t});return o}function xo(i,e,o,t){const n=e[0].length;let s=new Array(t),l=new Array(t);for(let r=0;r<t;r++){s[r]=new Array(n),l[r]=0;for(let c=0;c<n;c++)s[r][c]=0}for(let r=0;r<e.length;r++){l[o[r]]++;for(let c=0;c<n;c++)s[o[r]][c]+=e[r][c]}for(let r=0;r<t;r++)for(let c=0;c<n;c++)l[r]?s[r][c]/=l[r]:s[r][c]=i[r][c];return s}function Mo(i,e,o,t){for(let n=0;n<i.length;n++)if(o(i[n],e[n])>t)return!1;return!0}class No{constructor(e,o,t,n,s){this.clusters=e,this.centroids=o,this.converged=t,this.iterations=n,this.distance=s}nearest(e){const o=new Array(e.length);return Pe(e,this.centroids,o,this.distance)}computeInformation(e){let o=this.centroids.map(t=>({centroid:t,error:0,size:0}));for(let t=0;t<e.length;t++)o[this.clusters[t]].error+=this.distance(e[t],this.centroids[this.clusters[t]]),o[this.clusters[t]].size++;for(let t=0;t<this.centroids.length;t++){let n=o[t].error;o[t].size&&n!==-1?n/=o[t].size:o[t].error=-1}return o}}function Ko(i,e){throw new Error(`${e}: "${String(i)}"`)}function Co(i,e){if(e<=0||e>i.length||!Number.isInteger(e))throw new Error("K should be a positive integer smaller than the number of points")}function Ze(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var o=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};o.prototype=e.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(i).forEach(function(t){var n=Object.getOwnPropertyDescriptor(i,t);Object.defineProperty(o,t,n.get?n:{enumerable:!0,get:function(){return i[t]}})}),o}var T={};const To=Object.prototype.toString;function yt(i){const e=To.call(i);return e.endsWith("Array]")&&!e.includes("Big")}const Qo=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:yt},Symbol.toStringTag,{value:"Module"})),Jo=Ze(Qo);function Ao(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!yt(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var o=e.fromIndex,t=o===void 0?0:o,n=e.toIndex,s=n===void 0?i.length:n;if(t<0||t>=i.length||!Number.isInteger(t))throw new Error("fromIndex must be a positive integer smaller than length");if(s<=t||s>i.length||!Number.isInteger(s))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=i[t],r=t+1;r<s;r++)i[r]>l&&(l=i[r]);return l}function Wo(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!yt(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var o=e.fromIndex,t=o===void 0?0:o,n=e.toIndex,s=n===void 0?i.length:n;if(t<0||t>=i.length||!Number.isInteger(t))throw new Error("fromIndex must be a positive integer smaller than length");if(s<=t||s>i.length||!Number.isInteger(s))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=i[t],r=t+1;r<s;r++)i[r]<l&&(l=i[r]);return l}function jo(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(yt(i)){if(i.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var o;if(e.output!==void 0){if(!yt(e.output))throw new TypeError("output option must be an array if specified");o=e.output}else o=new Array(i.length);var t=Wo(i),n=Ao(i);if(t===n)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var s=e.min,l=s===void 0?e.autoMinMax?t:0:s,r=e.max,c=r===void 0?e.autoMinMax?n:1:r;if(l>=c)throw new RangeError("min option must be smaller than max option");for(var h=(c-l)/(n-t),m=0;m<i.length;m++)o[m]=(i[m]-t)*h+l;return o}const Yo=Object.freeze(Object.defineProperty({__proto__:null,default:jo},Symbol.toStringTag,{value:"Module"})),Go=Ze(Yo);Object.defineProperty(T,"__esModule",{value:!0});var $=Jo,qe=Go;const Vt=" ".repeat(2),He=" ".repeat(4);function Lo(){return $e(this)}function $e(i,e={}){const{maxRows:o=15,maxColumns:t=10,maxNumSize:n=8,padMinus:s="auto"}=e;return`${i.constructor.name} {
${Vt}[
${He}${Oo(i,o,t,n,s)}
${Vt}]
${Vt}rows: ${i.rows}
${Vt}columns: ${i.columns}
}`}function Oo(i,e,o,t,n){const{rows:s,columns:l}=i,r=Math.min(s,e),c=Math.min(l,o),h=[];if(n==="auto"){n=!1;t:for(let m=0;m<r;m++)for(let a=0;a<c;a++)if(i.get(m,a)<0){n=!0;break t}}for(let m=0;m<r;m++){let a=[];for(let d=0;d<c;d++)a.push(Bo(i.get(m,d),t,n));h.push(`${a.join(" ")}`)}return c!==l&&(h[h.length-1]+=` ... ${l-o} more columns`),r!==s&&h.push(`... ${s-e} more rows`),h.join(`
${He}`)}function Bo(i,e,o){return(i>=0&&o?` ${ve(i,e-1)}`:ve(i,e)).padEnd(e)}function ve(i,e){let o=i.toString();if(o.length<=e)return o;let t=i.toFixed(e);if(t.length>e&&(t=i.toFixed(Math.max(0,e-(t.length-e)))),t.length<=e&&!t.startsWith("0.000")&&!t.startsWith("-0.000"))return t;let n=i.toExponential(e);return n.length>e&&(n=i.toExponential(Math.max(0,e-(n.length-e)))),n.slice(0)}function Do(i,e){i.prototype.add=function(t){return typeof t=="number"?this.addS(t):this.addM(t)},i.prototype.addS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)+t);return this},i.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)+t.get(n,s));return this},i.add=function(t,n){return new e(t).add(n)},i.prototype.sub=function(t){return typeof t=="number"?this.subS(t):this.subM(t)},i.prototype.subS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)-t);return this},i.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)-t.get(n,s));return this},i.sub=function(t,n){return new e(t).sub(n)},i.prototype.subtract=i.prototype.sub,i.prototype.subtractS=i.prototype.subS,i.prototype.subtractM=i.prototype.subM,i.subtract=i.sub,i.prototype.mul=function(t){return typeof t=="number"?this.mulS(t):this.mulM(t)},i.prototype.mulS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)*t);return this},i.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)*t.get(n,s));return this},i.mul=function(t,n){return new e(t).mul(n)},i.prototype.multiply=i.prototype.mul,i.prototype.multiplyS=i.prototype.mulS,i.prototype.multiplyM=i.prototype.mulM,i.multiply=i.mul,i.prototype.div=function(t){return typeof t=="number"?this.divS(t):this.divM(t)},i.prototype.divS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)/t);return this},i.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)/t.get(n,s));return this},i.div=function(t,n){return new e(t).div(n)},i.prototype.divide=i.prototype.div,i.prototype.divideS=i.prototype.divS,i.prototype.divideM=i.prototype.divM,i.divide=i.div,i.prototype.mod=function(t){return typeof t=="number"?this.modS(t):this.modM(t)},i.prototype.modS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)%t);return this},i.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)%t.get(n,s));return this},i.mod=function(t,n){return new e(t).mod(n)},i.prototype.modulus=i.prototype.mod,i.prototype.modulusS=i.prototype.modS,i.prototype.modulusM=i.prototype.modM,i.modulus=i.mod,i.prototype.and=function(t){return typeof t=="number"?this.andS(t):this.andM(t)},i.prototype.andS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)&t);return this},i.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)&t.get(n,s));return this},i.and=function(t,n){return new e(t).and(n)},i.prototype.or=function(t){return typeof t=="number"?this.orS(t):this.orM(t)},i.prototype.orS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)|t);return this},i.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)|t.get(n,s));return this},i.or=function(t,n){return new e(t).or(n)},i.prototype.xor=function(t){return typeof t=="number"?this.xorS(t):this.xorM(t)},i.prototype.xorS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)^t);return this},i.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)^t.get(n,s));return this},i.xor=function(t,n){return new e(t).xor(n)},i.prototype.leftShift=function(t){return typeof t=="number"?this.leftShiftS(t):this.leftShiftM(t)},i.prototype.leftShiftS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)<<t);return this},i.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)<<t.get(n,s));return this},i.leftShift=function(t,n){return new e(t).leftShift(n)},i.prototype.signPropagatingRightShift=function(t){return typeof t=="number"?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},i.prototype.signPropagatingRightShiftS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)>>t);return this},i.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)>>t.get(n,s));return this},i.signPropagatingRightShift=function(t,n){return new e(t).signPropagatingRightShift(n)},i.prototype.rightShift=function(t){return typeof t=="number"?this.rightShiftS(t):this.rightShiftM(t)},i.prototype.rightShiftS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)>>>t);return this},i.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)>>>t.get(n,s));return this},i.rightShift=function(t,n){return new e(t).rightShift(n)},i.prototype.zeroFillRightShift=i.prototype.rightShift,i.prototype.zeroFillRightShiftS=i.prototype.rightShiftS,i.prototype.zeroFillRightShiftM=i.prototype.rightShiftM,i.zeroFillRightShift=i.rightShift,i.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,~this.get(t,n));return this},i.not=function(t){return new e(t).not()},i.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.abs(this.get(t,n)));return this},i.abs=function(t){return new e(t).abs()},i.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.acos(this.get(t,n)));return this},i.acos=function(t){return new e(t).acos()},i.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.acosh(this.get(t,n)));return this},i.acosh=function(t){return new e(t).acosh()},i.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.asin(this.get(t,n)));return this},i.asin=function(t){return new e(t).asin()},i.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.asinh(this.get(t,n)));return this},i.asinh=function(t){return new e(t).asinh()},i.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.atan(this.get(t,n)));return this},i.atan=function(t){return new e(t).atan()},i.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.atanh(this.get(t,n)));return this},i.atanh=function(t){return new e(t).atanh()},i.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.cbrt(this.get(t,n)));return this},i.cbrt=function(t){return new e(t).cbrt()},i.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.ceil(this.get(t,n)));return this},i.ceil=function(t){return new e(t).ceil()},i.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.clz32(this.get(t,n)));return this},i.clz32=function(t){return new e(t).clz32()},i.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.cos(this.get(t,n)));return this},i.cos=function(t){return new e(t).cos()},i.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.cosh(this.get(t,n)));return this},i.cosh=function(t){return new e(t).cosh()},i.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.exp(this.get(t,n)));return this},i.exp=function(t){return new e(t).exp()},i.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.expm1(this.get(t,n)));return this},i.expm1=function(t){return new e(t).expm1()},i.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.floor(this.get(t,n)));return this},i.floor=function(t){return new e(t).floor()},i.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.fround(this.get(t,n)));return this},i.fround=function(t){return new e(t).fround()},i.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.log(this.get(t,n)));return this},i.log=function(t){return new e(t).log()},i.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.log1p(this.get(t,n)));return this},i.log1p=function(t){return new e(t).log1p()},i.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.log10(this.get(t,n)));return this},i.log10=function(t){return new e(t).log10()},i.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.log2(this.get(t,n)));return this},i.log2=function(t){return new e(t).log2()},i.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.round(this.get(t,n)));return this},i.round=function(t){return new e(t).round()},i.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.sign(this.get(t,n)));return this},i.sign=function(t){return new e(t).sign()},i.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.sin(this.get(t,n)));return this},i.sin=function(t){return new e(t).sin()},i.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.sinh(this.get(t,n)));return this},i.sinh=function(t){return new e(t).sinh()},i.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.sqrt(this.get(t,n)));return this},i.sqrt=function(t){return new e(t).sqrt()},i.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.tan(this.get(t,n)));return this},i.tan=function(t){return new e(t).tan()},i.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.tanh(this.get(t,n)));return this},i.tanh=function(t){return new e(t).tanh()},i.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.trunc(this.get(t,n)));return this},i.trunc=function(t){return new e(t).trunc()},i.pow=function(t,n){return new e(t).pow(n)},i.prototype.pow=function(t){return typeof t=="number"?this.powS(t):this.powM(t)},i.prototype.powS=function(t){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)**t);return this},i.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)**t.get(n,s));return this}}function et(i,e,o){let t=o?i.rows:i.rows-1;if(e<0||e>t)throw new RangeError("Row index out of range")}function ot(i,e,o){let t=o?i.columns:i.columns-1;if(e<0||e>t)throw new RangeError("Column index out of range")}function ft(i,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==i.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function mt(i,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==i.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function se(i,e){if(!$.isAnyArray(e))throw new TypeError("row indices must be an array");for(let o=0;o<e.length;o++)if(e[o]<0||e[o]>=i.rows)throw new RangeError("row indices are out of range")}function ie(i,e){if(!$.isAnyArray(e))throw new TypeError("column indices must be an array");for(let o=0;o<e.length;o++)if(e[o]<0||e[o]>=i.columns)throw new RangeError("column indices are out of range")}function Zt(i,e,o,t,n){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(bt("startRow",e),bt("endRow",o),bt("startColumn",t),bt("endColumn",n),e>o||t>n||e<0||e>=i.rows||o<0||o>=i.rows||t<0||t>=i.columns||n<0||n>=i.columns)throw new RangeError("Submatrix indices are out of range")}function At(i,e=0){let o=[];for(let t=0;t<i;t++)o.push(e);return o}function bt(i,e){if(typeof e!="number")throw new TypeError(`${i} must be a number`)}function ut(i){if(i.isEmpty())throw new Error("Empty matrix has no elements to index")}function zo(i){let e=At(i.rows);for(let o=0;o<i.rows;++o)for(let t=0;t<i.columns;++t)e[o]+=i.get(o,t);return e}function Xo(i){let e=At(i.columns);for(let o=0;o<i.rows;++o)for(let t=0;t<i.columns;++t)e[t]+=i.get(o,t);return e}function Po(i){let e=0;for(let o=0;o<i.rows;o++)for(let t=0;t<i.columns;t++)e+=i.get(o,t);return e}function Zo(i){let e=At(i.rows,1);for(let o=0;o<i.rows;++o)for(let t=0;t<i.columns;++t)e[o]*=i.get(o,t);return e}function Ho(i){let e=At(i.columns,1);for(let o=0;o<i.rows;++o)for(let t=0;t<i.columns;++t)e[t]*=i.get(o,t);return e}function $o(i){let e=1;for(let o=0;o<i.rows;o++)for(let t=0;t<i.columns;t++)e*=i.get(o,t);return e}function tn(i,e,o){const t=i.rows,n=i.columns,s=[];for(let l=0;l<t;l++){let r=0,c=0,h=0;for(let m=0;m<n;m++)h=i.get(l,m)-o[l],r+=h,c+=h*h;e?s.push((c-r*r/n)/(n-1)):s.push((c-r*r/n)/n)}return s}function en(i,e,o){const t=i.rows,n=i.columns,s=[];for(let l=0;l<n;l++){let r=0,c=0,h=0;for(let m=0;m<t;m++)h=i.get(m,l)-o[l],r+=h,c+=h*h;e?s.push((c-r*r/t)/(t-1)):s.push((c-r*r/t)/t)}return s}function on(i,e,o){const t=i.rows,n=i.columns,s=t*n;let l=0,r=0,c=0;for(let h=0;h<t;h++)for(let m=0;m<n;m++)c=i.get(h,m)-o,l+=c,r+=c*c;return e?(r-l*l/s)/(s-1):(r-l*l/s)/s}function nn(i,e){for(let o=0;o<i.rows;o++)for(let t=0;t<i.columns;t++)i.set(o,t,i.get(o,t)-e[o])}function sn(i,e){for(let o=0;o<i.rows;o++)for(let t=0;t<i.columns;t++)i.set(o,t,i.get(o,t)-e[t])}function rn(i,e){for(let o=0;o<i.rows;o++)for(let t=0;t<i.columns;t++)i.set(o,t,i.get(o,t)-e)}function ln(i){const e=[];for(let o=0;o<i.rows;o++){let t=0;for(let n=0;n<i.columns;n++)t+=i.get(o,n)**2/(i.columns-1);e.push(Math.sqrt(t))}return e}function cn(i,e){for(let o=0;o<i.rows;o++)for(let t=0;t<i.columns;t++)i.set(o,t,i.get(o,t)/e[o])}function hn(i){const e=[];for(let o=0;o<i.columns;o++){let t=0;for(let n=0;n<i.rows;n++)t+=i.get(n,o)**2/(i.rows-1);e.push(Math.sqrt(t))}return e}function an(i,e){for(let o=0;o<i.rows;o++)for(let t=0;t<i.columns;t++)i.set(o,t,i.get(o,t)/e[t])}function un(i){const e=i.size-1;let o=0;for(let t=0;t<i.columns;t++)for(let n=0;n<i.rows;n++)o+=i.get(n,t)**2/e;return Math.sqrt(o)}function fn(i,e){for(let o=0;o<i.rows;o++)for(let t=0;t<i.columns;t++)i.set(o,t,i.get(o,t)/e)}class K{static from1DArray(e,o,t){if(e*o!==t.length)throw new RangeError("data length does not match given dimensions");let s=new k(e,o);for(let l=0;l<e;l++)for(let r=0;r<o;r++)s.set(l,r,t[l*o+r]);return s}static rowVector(e){let o=new k(1,e.length);for(let t=0;t<e.length;t++)o.set(0,t,e[t]);return o}static columnVector(e){let o=new k(e.length,1);for(let t=0;t<e.length;t++)o.set(t,0,e[t]);return o}static zeros(e,o){return new k(e,o)}static ones(e,o){return new k(e,o).fill(1)}static rand(e,o,t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{random:n=Math.random}=t;let s=new k(e,o);for(let l=0;l<e;l++)for(let r=0;r<o;r++)s.set(l,r,n());return s}static randInt(e,o,t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{min:n=0,max:s=1e3,random:l=Math.random}=t;if(!Number.isInteger(n))throw new TypeError("min must be an integer");if(!Number.isInteger(s))throw new TypeError("max must be an integer");if(n>=s)throw new RangeError("min must be smaller than max");let r=s-n,c=new k(e,o);for(let h=0;h<e;h++)for(let m=0;m<o;m++){let a=n+Math.round(l()*r);c.set(h,m,a)}return c}static eye(e,o,t){o===void 0&&(o=e),t===void 0&&(t=1);let n=Math.min(e,o),s=this.zeros(e,o);for(let l=0;l<n;l++)s.set(l,l,t);return s}static diag(e,o,t){let n=e.length;o===void 0&&(o=n),t===void 0&&(t=o);let s=Math.min(n,o,t),l=this.zeros(o,t);for(let r=0;r<s;r++)l.set(r,r,e[r]);return l}static min(e,o){e=this.checkMatrix(e),o=this.checkMatrix(o);let t=e.rows,n=e.columns,s=new k(t,n);for(let l=0;l<t;l++)for(let r=0;r<n;r++)s.set(l,r,Math.min(e.get(l,r),o.get(l,r)));return s}static max(e,o){e=this.checkMatrix(e),o=this.checkMatrix(o);let t=e.rows,n=e.columns,s=new this(t,n);for(let l=0;l<t;l++)for(let r=0;r<n;r++)s.set(l,r,Math.max(e.get(l,r),o.get(l,r)));return s}static checkMatrix(e){return K.isMatrix(e)?e:new k(e)}static isMatrix(e){return e!=null&&e.klass==="Matrix"}get size(){return this.rows*this.columns}apply(e){if(typeof e!="function")throw new TypeError("callback must be a function");for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)e.call(this,o,t);return this}to1DArray(){let e=[];for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)e.push(this.get(o,t));return e}to2DArray(){let e=[];for(let o=0;o<this.rows;o++){e.push([]);for(let t=0;t<this.columns;t++)e[o].push(this.get(o,t))}return e}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let e=0;e<this.rows;e++)for(let o=0;o<=e;o++)if(this.get(e,o)!==this.get(o,e))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let e=0;e<this.rows;e++)if(this.get(e,e)!==0)return!1;return!0}isEchelonForm(){let e=0,o=0,t=-1,n=!0,s=!1;for(;e<this.rows&&n;){for(o=0,s=!1;o<this.columns&&s===!1;)this.get(e,o)===0?o++:this.get(e,o)===1&&o>t?(s=!0,t=o):(n=!1,s=!0);e++}return n}isReducedEchelonForm(){let e=0,o=0,t=-1,n=!0,s=!1;for(;e<this.rows&&n;){for(o=0,s=!1;o<this.columns&&s===!1;)this.get(e,o)===0?o++:this.get(e,o)===1&&o>t?(s=!0,t=o):(n=!1,s=!0);for(let l=o+1;l<this.rows;l++)this.get(e,l)!==0&&(n=!1);e++}return n}echelonForm(){let e=this.clone(),o=0,t=0;for(;o<e.rows&&t<e.columns;){let n=o;for(let s=o;s<e.rows;s++)e.get(s,t)>e.get(n,t)&&(n=s);if(e.get(n,t)===0)t++;else{e.swapRows(o,n);let s=e.get(o,t);for(let l=t;l<e.columns;l++)e.set(o,l,e.get(o,l)/s);for(let l=o+1;l<e.rows;l++){let r=e.get(l,t)/e.get(o,t);e.set(l,t,0);for(let c=t+1;c<e.columns;c++)e.set(l,c,e.get(l,c)-e.get(o,c)*r)}o++,t++}}return e}reducedEchelonForm(){let e=this.echelonForm(),o=e.columns,t=e.rows,n=t-1;for(;n>=0;)if(e.maxRow(n)===0)n--;else{let s=0,l=!1;for(;s<t&&l===!1;)e.get(n,s)===1?l=!0:s++;for(let r=0;r<n;r++){let c=e.get(r,s);for(let h=s;h<o;h++){let m=e.get(r,h)-c*e.get(n,h);e.set(r,h,m)}}n--}return e}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{rows:o=1,columns:t=1}=e;if(!Number.isInteger(o)||o<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(t)||t<=0)throw new TypeError("columns must be a positive integer");let n=new k(this.rows*o,this.columns*t);for(let s=0;s<o;s++)for(let l=0;l<t;l++)n.setSubMatrix(this,this.rows*s,this.columns*l);return n}fill(e){for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)this.set(o,t,e);return this}neg(){return this.mulS(-1)}getRow(e){et(this,e);let o=[];for(let t=0;t<this.columns;t++)o.push(this.get(e,t));return o}getRowVector(e){return k.rowVector(this.getRow(e))}setRow(e,o){et(this,e),o=ft(this,o);for(let t=0;t<this.columns;t++)this.set(e,t,o[t]);return this}swapRows(e,o){et(this,e),et(this,o);for(let t=0;t<this.columns;t++){let n=this.get(e,t);this.set(e,t,this.get(o,t)),this.set(o,t,n)}return this}getColumn(e){ot(this,e);let o=[];for(let t=0;t<this.rows;t++)o.push(this.get(t,e));return o}getColumnVector(e){return k.columnVector(this.getColumn(e))}setColumn(e,o){ot(this,e),o=mt(this,o);for(let t=0;t<this.rows;t++)this.set(t,e,o[t]);return this}swapColumns(e,o){ot(this,e),ot(this,o);for(let t=0;t<this.rows;t++){let n=this.get(t,e);this.set(t,e,this.get(t,o)),this.set(t,o,n)}return this}addRowVector(e){e=ft(this,e);for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)this.set(o,t,this.get(o,t)+e[t]);return this}subRowVector(e){e=ft(this,e);for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)this.set(o,t,this.get(o,t)-e[t]);return this}mulRowVector(e){e=ft(this,e);for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)this.set(o,t,this.get(o,t)*e[t]);return this}divRowVector(e){e=ft(this,e);for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)this.set(o,t,this.get(o,t)/e[t]);return this}addColumnVector(e){e=mt(this,e);for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)this.set(o,t,this.get(o,t)+e[o]);return this}subColumnVector(e){e=mt(this,e);for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)this.set(o,t,this.get(o,t)-e[o]);return this}mulColumnVector(e){e=mt(this,e);for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)this.set(o,t,this.get(o,t)*e[o]);return this}divColumnVector(e){e=mt(this,e);for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)this.set(o,t,this.get(o,t)/e[o]);return this}mulRow(e,o){et(this,e);for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)*o);return this}mulColumn(e,o){ot(this,e);for(let t=0;t<this.rows;t++)this.set(t,e,this.get(t,e)*o);return this}max(e){if(this.isEmpty())return NaN;switch(e){case"row":{const o=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)>o[t]&&(o[t]=this.get(t,n));return o}case"column":{const o=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)>o[n]&&(o[n]=this.get(t,n));return o}case void 0:{let o=this.get(0,0);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)>o&&(o=this.get(t,n));return o}default:throw new Error(`invalid option: ${e}`)}}maxIndex(){ut(this);let e=this.get(0,0),o=[0,0];for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n),o[0]=t,o[1]=n);return o}min(e){if(this.isEmpty())return NaN;switch(e){case"row":{const o=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)<o[t]&&(o[t]=this.get(t,n));return o}case"column":{const o=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)<o[n]&&(o[n]=this.get(t,n));return o}case void 0:{let o=this.get(0,0);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)<o&&(o=this.get(t,n));return o}default:throw new Error(`invalid option: ${e}`)}}minIndex(){ut(this);let e=this.get(0,0),o=[0,0];for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n),o[0]=t,o[1]=n);return o}maxRow(e){if(et(this,e),this.isEmpty())return NaN;let o=this.get(e,0);for(let t=1;t<this.columns;t++)this.get(e,t)>o&&(o=this.get(e,t));return o}maxRowIndex(e){et(this,e),ut(this);let o=this.get(e,0),t=[e,0];for(let n=1;n<this.columns;n++)this.get(e,n)>o&&(o=this.get(e,n),t[1]=n);return t}minRow(e){if(et(this,e),this.isEmpty())return NaN;let o=this.get(e,0);for(let t=1;t<this.columns;t++)this.get(e,t)<o&&(o=this.get(e,t));return o}minRowIndex(e){et(this,e),ut(this);let o=this.get(e,0),t=[e,0];for(let n=1;n<this.columns;n++)this.get(e,n)<o&&(o=this.get(e,n),t[1]=n);return t}maxColumn(e){if(ot(this,e),this.isEmpty())return NaN;let o=this.get(0,e);for(let t=1;t<this.rows;t++)this.get(t,e)>o&&(o=this.get(t,e));return o}maxColumnIndex(e){ot(this,e),ut(this);let o=this.get(0,e),t=[0,e];for(let n=1;n<this.rows;n++)this.get(n,e)>o&&(o=this.get(n,e),t[0]=n);return t}minColumn(e){if(ot(this,e),this.isEmpty())return NaN;let o=this.get(0,e);for(let t=1;t<this.rows;t++)this.get(t,e)<o&&(o=this.get(t,e));return o}minColumnIndex(e){ot(this,e),ut(this);let o=this.get(0,e),t=[0,e];for(let n=1;n<this.rows;n++)this.get(n,e)<o&&(o=this.get(n,e),t[0]=n);return t}diag(){let e=Math.min(this.rows,this.columns),o=[];for(let t=0;t<e;t++)o.push(this.get(t,t));return o}norm(e="frobenius"){switch(e){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${e}`)}}cumulativeSum(){let e=0;for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)e+=this.get(o,t),this.set(o,t,e);return this}dot(e){K.isMatrix(e)&&(e=e.to1DArray());let o=this.to1DArray();if(o.length!==e.length)throw new RangeError("vectors do not have the same size");let t=0;for(let n=0;n<o.length;n++)t+=o[n]*e[n];return t}mmul(e){e=k.checkMatrix(e);let o=this.rows,t=this.columns,n=e.columns,s=new k(o,n),l=new Float64Array(t);for(let r=0;r<n;r++){for(let c=0;c<t;c++)l[c]=e.get(c,r);for(let c=0;c<o;c++){let h=0;for(let m=0;m<t;m++)h+=this.get(c,m)*l[m];s.set(c,r,h)}}return s}strassen2x2(e){e=k.checkMatrix(e);let o=new k(2,2);const t=this.get(0,0),n=e.get(0,0),s=this.get(0,1),l=e.get(0,1),r=this.get(1,0),c=e.get(1,0),h=this.get(1,1),m=e.get(1,1),a=(t+h)*(n+m),d=(r+h)*n,u=t*(l-m),g=h*(c-n),p=(t+s)*m,_=(r-t)*(n+l),f=(s-h)*(c+m),E=a+g-p+f,U=u+p,v=d+g,S=a-d+u+_;return o.set(0,0,E),o.set(0,1,U),o.set(1,0,v),o.set(1,1,S),o}strassen3x3(e){e=k.checkMatrix(e);let o=new k(3,3);const t=this.get(0,0),n=this.get(0,1),s=this.get(0,2),l=this.get(1,0),r=this.get(1,1),c=this.get(1,2),h=this.get(2,0),m=this.get(2,1),a=this.get(2,2),d=e.get(0,0),u=e.get(0,1),g=e.get(0,2),p=e.get(1,0),_=e.get(1,1),f=e.get(1,2),E=e.get(2,0),U=e.get(2,1),v=e.get(2,2),S=(t+n+s-l-r-m-a)*_,F=(t-l)*(-u+_),b=r*(-d+u+p-_-f-E+v),V=(-t+l+r)*(d-u+_),I=(l+r)*(-d+u),w=t*d,y=(-t+h+m)*(d-g+f),R=(-t+h)*(g-f),q=(h+m)*(-d+g),Q=(t+n+s-r-c-h-m)*f,J=m*(-d+g+p-_-f-E+U),A=(-s+m+a)*(_+E-U),W=(s-a)*(_-U),M=s*E,j=(m+a)*(-E+U),C=(-s+r+c)*(f+E-v),L=(s-c)*(f-v),X=(r+c)*(-E+v),N=n*p,G=c*U,O=l*g,P=h*u,B=a*v,qt=w+M+N,ro=S+V+I+w+A+M+j,lo=w+y+q+Q+M+C+X,co=F+b+V+w+M+C+L,ho=F+V+I+w+G,ao=M+C+L+X+O,uo=w+y+R+J+A+W+M,fo=A+W+M+j+P,mo=w+y+R+q+B;return o.set(0,0,qt),o.set(0,1,ro),o.set(0,2,lo),o.set(1,0,co),o.set(1,1,ho),o.set(1,2,ao),o.set(2,0,uo),o.set(2,1,fo),o.set(2,2,mo),o}mmulStrassen(e){e=k.checkMatrix(e);let o=this.clone(),t=o.rows,n=o.columns,s=e.rows,l=e.columns;n!==s&&console.warn(`Multiplying ${t} x ${n} and ${s} x ${l} matrix: dimensions do not match.`);function r(a,d,u){let g=a.rows,p=a.columns;if(g===d&&p===u)return a;{let _=K.zeros(d,u);return _=_.setSubMatrix(a,0,0),_}}let c=Math.max(t,s),h=Math.max(n,l);o=r(o,c,h),e=r(e,c,h);function m(a,d,u,g){if(u<=512||g<=512)return a.mmul(d);u%2===1&&g%2===1?(a=r(a,u+1,g+1),d=r(d,u+1,g+1)):u%2===1?(a=r(a,u+1,g),d=r(d,u+1,g)):g%2===1&&(a=r(a,u,g+1),d=r(d,u,g+1));let p=parseInt(a.rows/2,10),_=parseInt(a.columns/2,10),f=a.subMatrix(0,p-1,0,_-1),E=d.subMatrix(0,p-1,0,_-1),U=a.subMatrix(0,p-1,_,a.columns-1),v=d.subMatrix(0,p-1,_,d.columns-1),S=a.subMatrix(p,a.rows-1,0,_-1),F=d.subMatrix(p,d.rows-1,0,_-1),b=a.subMatrix(p,a.rows-1,_,a.columns-1),V=d.subMatrix(p,d.rows-1,_,d.columns-1),I=m(K.add(f,b),K.add(E,V),p,_),w=m(K.add(S,b),E,p,_),y=m(f,K.sub(v,V),p,_),R=m(b,K.sub(F,E),p,_),q=m(K.add(f,U),V,p,_),Q=m(K.sub(S,f),K.add(E,v),p,_),J=m(K.sub(U,b),K.add(F,V),p,_),A=K.add(I,R);A.sub(q),A.add(J);let W=K.add(y,q),M=K.add(w,R),j=K.sub(I,w);j.add(y),j.add(Q);let C=K.zeros(2*A.rows,2*A.columns);return C=C.setSubMatrix(A,0,0),C=C.setSubMatrix(W,A.rows,0),C=C.setSubMatrix(M,0,A.columns),C=C.setSubMatrix(j,A.rows,A.columns),C.subMatrix(0,u-1,0,g-1)}return m(o,e,c,h)}scaleRows(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{min:o=0,max:t=1}=e;if(!Number.isFinite(o))throw new TypeError("min must be a number");if(!Number.isFinite(t))throw new TypeError("max must be a number");if(o>=t)throw new RangeError("min must be smaller than max");let n=new k(this.rows,this.columns);for(let s=0;s<this.rows;s++){const l=this.getRow(s);l.length>0&&qe(l,{min:o,max:t,output:l}),n.setRow(s,l)}return n}scaleColumns(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{min:o=0,max:t=1}=e;if(!Number.isFinite(o))throw new TypeError("min must be a number");if(!Number.isFinite(t))throw new TypeError("max must be a number");if(o>=t)throw new RangeError("min must be smaller than max");let n=new k(this.rows,this.columns);for(let s=0;s<this.columns;s++){const l=this.getColumn(s);l.length&&qe(l,{min:o,max:t,output:l}),n.setColumn(s,l)}return n}flipRows(){const e=Math.ceil(this.columns/2);for(let o=0;o<this.rows;o++)for(let t=0;t<e;t++){let n=this.get(o,t),s=this.get(o,this.columns-1-t);this.set(o,t,s),this.set(o,this.columns-1-t,n)}return this}flipColumns(){const e=Math.ceil(this.rows/2);for(let o=0;o<this.columns;o++)for(let t=0;t<e;t++){let n=this.get(t,o),s=this.get(this.rows-1-t,o);this.set(t,o,s),this.set(this.rows-1-t,o,n)}return this}kroneckerProduct(e){e=k.checkMatrix(e);let o=this.rows,t=this.columns,n=e.rows,s=e.columns,l=new k(o*n,t*s);for(let r=0;r<o;r++)for(let c=0;c<t;c++)for(let h=0;h<n;h++)for(let m=0;m<s;m++)l.set(n*r+h,s*c+m,this.get(r,c)*e.get(h,m));return l}kroneckerSum(e){if(e=k.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let o=this.rows,t=e.rows,n=this.kroneckerProduct(k.eye(t,t)),s=k.eye(o,o).kroneckerProduct(e);return n.add(s)}transpose(){let e=new k(this.columns,this.rows);for(let o=0;o<this.rows;o++)for(let t=0;t<this.columns;t++)e.set(t,o,this.get(o,t));return e}sortRows(e=Re){for(let o=0;o<this.rows;o++)this.setRow(o,this.getRow(o).sort(e));return this}sortColumns(e=Re){for(let o=0;o<this.columns;o++)this.setColumn(o,this.getColumn(o).sort(e));return this}subMatrix(e,o,t,n){Zt(this,e,o,t,n);let s=new k(o-e+1,n-t+1);for(let l=e;l<=o;l++)for(let r=t;r<=n;r++)s.set(l-e,r-t,this.get(l,r));return s}subMatrixRow(e,o,t){if(o===void 0&&(o=0),t===void 0&&(t=this.columns-1),o>t||o<0||o>=this.columns||t<0||t>=this.columns)throw new RangeError("Argument out of range");let n=new k(e.length,t-o+1);for(let s=0;s<e.length;s++)for(let l=o;l<=t;l++){if(e[s]<0||e[s]>=this.rows)throw new RangeError(`Row index out of range: ${e[s]}`);n.set(s,l-o,this.get(e[s],l))}return n}subMatrixColumn(e,o,t){if(o===void 0&&(o=0),t===void 0&&(t=this.rows-1),o>t||o<0||o>=this.rows||t<0||t>=this.rows)throw new RangeError("Argument out of range");let n=new k(t-o+1,e.length);for(let s=0;s<e.length;s++)for(let l=o;l<=t;l++){if(e[s]<0||e[s]>=this.columns)throw new RangeError(`Column index out of range: ${e[s]}`);n.set(l-o,s,this.get(l,e[s]))}return n}setSubMatrix(e,o,t){if(e=k.checkMatrix(e),e.isEmpty())return this;let n=o+e.rows-1,s=t+e.columns-1;Zt(this,o,n,t,s);for(let l=0;l<e.rows;l++)for(let r=0;r<e.columns;r++)this.set(o+l,t+r,e.get(l,r));return this}selection(e,o){se(this,e),ie(this,o);let t=new k(e.length,o.length);for(let n=0;n<e.length;n++){let s=e[n];for(let l=0;l<o.length;l++){let r=o[l];t.set(n,l,this.get(s,r))}}return t}trace(){let e=Math.min(this.rows,this.columns),o=0;for(let t=0;t<e;t++)o+=this.get(t,t);return o}clone(){return this.constructor.copy(this,new k(this.rows,this.columns))}static copy(e,o){for(const[t,n,s]of e.entries())o.set(t,n,s);return o}sum(e){switch(e){case"row":return zo(this);case"column":return Xo(this);case void 0:return Po(this);default:throw new Error(`invalid option: ${e}`)}}product(e){switch(e){case"row":return Zo(this);case"column":return Ho(this);case void 0:return $o(this);default:throw new Error(`invalid option: ${e}`)}}mean(e){const o=this.sum(e);switch(e){case"row":{for(let t=0;t<this.rows;t++)o[t]/=this.columns;return o}case"column":{for(let t=0;t<this.columns;t++)o[t]/=this.rows;return o}case void 0:return o/this.size;default:throw new Error(`invalid option: ${e}`)}}variance(e,o={}){if(typeof e=="object"&&(o=e,e=void 0),typeof o!="object")throw new TypeError("options must be an object");const{unbiased:t=!0,mean:n=this.mean(e)}=o;if(typeof t!="boolean")throw new TypeError("unbiased must be a boolean");switch(e){case"row":{if(!$.isAnyArray(n))throw new TypeError("mean must be an array");return tn(this,t,n)}case"column":{if(!$.isAnyArray(n))throw new TypeError("mean must be an array");return en(this,t,n)}case void 0:{if(typeof n!="number")throw new TypeError("mean must be a number");return on(this,t,n)}default:throw new Error(`invalid option: ${e}`)}}standardDeviation(e,o){typeof e=="object"&&(o=e,e=void 0);const t=this.variance(e,o);if(e===void 0)return Math.sqrt(t);for(let n=0;n<t.length;n++)t[n]=Math.sqrt(t[n]);return t}center(e,o={}){if(typeof e=="object"&&(o=e,e=void 0),typeof o!="object")throw new TypeError("options must be an object");const{center:t=this.mean(e)}=o;switch(e){case"row":{if(!$.isAnyArray(t))throw new TypeError("center must be an array");return nn(this,t),this}case"column":{if(!$.isAnyArray(t))throw new TypeError("center must be an array");return sn(this,t),this}case void 0:{if(typeof t!="number")throw new TypeError("center must be a number");return rn(this,t),this}default:throw new Error(`invalid option: ${e}`)}}scale(e,o={}){if(typeof e=="object"&&(o=e,e=void 0),typeof o!="object")throw new TypeError("options must be an object");let t=o.scale;switch(e){case"row":{if(t===void 0)t=ln(this);else if(!$.isAnyArray(t))throw new TypeError("scale must be an array");return cn(this,t),this}case"column":{if(t===void 0)t=hn(this);else if(!$.isAnyArray(t))throw new TypeError("scale must be an array");return an(this,t),this}case void 0:{if(t===void 0)t=un(this);else if(typeof t!="number")throw new TypeError("scale must be a number");return fn(this,t),this}default:throw new Error(`invalid option: ${e}`)}}toString(e){return $e(this,e)}[Symbol.iterator](){return this.entries()}*entries(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)yield[e,o,this.get(e,o)]}*values(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)yield this.get(e,o)}}K.prototype.klass="Matrix";typeof Symbol<"u"&&(K.prototype[Symbol.for("nodejs.util.inspect.custom")]=Lo);function Re(i,e){return i-e}function mn(i){return i.every(e=>typeof e=="number")}K.random=K.rand;K.randomInt=K.randInt;K.diagonal=K.diag;K.prototype.diagonal=K.prototype.diag;K.identity=K.eye;K.prototype.negate=K.prototype.neg;K.prototype.tensorProduct=K.prototype.kroneckerProduct;var St,Ht,at;let k=(at=class extends K{constructor(o,t){super();Gt(this,St);ae(this,"data");if(at.isMatrix(o))Lt(this,St,Ht).call(this,o.rows,o.columns),at.copy(o,this);else if(Number.isInteger(o)&&o>=0)Lt(this,St,Ht).call(this,o,t);else if($.isAnyArray(o)){const n=o;if(o=n.length,t=o?n[0].length:0,typeof t!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let s=0;s<o;s++){if(n[s].length!==t)throw new RangeError("Inconsistent array dimensions");if(!mn(n[s]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(n[s]))}this.rows=o,this.columns=t}else throw new TypeError("First argument must be a positive number or an array")}set(o,t,n){return this.data[o][t]=n,this}get(o,t){return this.data[o][t]}removeRow(o){return et(this,o),this.data.splice(o,1),this.rows-=1,this}addRow(o,t){return t===void 0&&(t=o,o=this.rows),et(this,o,!0),t=Float64Array.from(ft(this,t)),this.data.splice(o,0,t),this.rows+=1,this}removeColumn(o){ot(this,o);for(let t=0;t<this.rows;t++){const n=new Float64Array(this.columns-1);for(let s=0;s<o;s++)n[s]=this.data[t][s];for(let s=o+1;s<this.columns;s++)n[s-1]=this.data[t][s];this.data[t]=n}return this.columns-=1,this}addColumn(o,t){typeof t>"u"&&(t=o,o=this.columns),ot(this,o,!0),t=mt(this,t);for(let n=0;n<this.rows;n++){const s=new Float64Array(this.columns+1);let l=0;for(;l<o;l++)s[l]=this.data[n][l];for(s[l++]=t[n];l<this.columns+1;l++)s[l]=this.data[n][l-1];this.data[n]=s}return this.columns+=1,this}},St=new WeakSet,Ht=function(o,t){if(this.data=[],Number.isInteger(t)&&t>=0)for(let n=0;n<o;n++)this.data.push(new Float64Array(t));else throw new TypeError("nColumns must be a positive integer");this.rows=o,this.columns=t},at);Do(K,k);var H;const Tt=class Tt extends K{constructor(o){super();Gt(this,H);if(k.isMatrix(o)){if(!o.isSymmetric())throw new TypeError("not symmetric data");vt(this,H,k.copy(o,new k(o.rows,o.rows)))}else if(Number.isInteger(o)&&o>=0)vt(this,H,new k(o,o));else if(vt(this,H,new k(o)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return nt(this,H).size}get rows(){return nt(this,H).rows}get columns(){return nt(this,H).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(o){return k.isMatrix(o)&&o.klassType==="SymmetricMatrix"}static zeros(o){return new this(o)}static ones(o){return new this(o).fill(1)}clone(){const o=new Tt(this.diagonalSize);for(const[t,n,s]of this.upperRightEntries())o.set(t,n,s);return o}toMatrix(){return new k(this)}get(o,t){return nt(this,H).get(o,t)}set(o,t,n){return nt(this,H).set(o,t,n),nt(this,H).set(t,o,n),this}removeCross(o){return nt(this,H).removeRow(o),nt(this,H).removeColumn(o),this}addCross(o,t){t===void 0&&(t=o,o=this.diagonalSize);const n=t.slice();return n.splice(o,1),nt(this,H).addRow(o,n),nt(this,H).addColumn(o,t),this}applyMask(o){if(o.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const t=[];for(const[n,s]of o.entries())s||t.push(n);t.reverse();for(const n of t)this.removeCross(n);return this}toCompact(){const{diagonalSize:o}=this,t=new Array(o*(o+1)/2);for(let n=0,s=0,l=0;l<t.length;l++)t[l]=this.get(s,n),++n>=o&&(n=++s);return t}static fromCompact(o){const t=o.length,n=(Math.sqrt(8*t+1)-1)/2;if(!Number.isInteger(n))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(o)}`);const s=new Tt(n);for(let l=0,r=0,c=0;c<t;c++)s.set(l,r,o[c]),++l>=n&&(l=++r);return s}*upperRightEntries(){for(let o=0,t=0;o<this.diagonalSize;void 0){const n=this.get(o,t);yield[o,t,n],++t>=this.diagonalSize&&(t=++o)}}*upperRightValues(){for(let o=0,t=0;o<this.diagonalSize;void 0)yield this.get(o,t),++t>=this.diagonalSize&&(t=++o)}};H=new WeakMap;let ht=Tt;ht.prototype.klassType="SymmetricMatrix";class Wt extends ht{static isDistanceMatrix(e){return ht.isSymmetricMatrix(e)&&e.klassSubType==="DistanceMatrix"}constructor(e){if(super(e),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(e,o,t){return e===o&&(t=0),super.set(e,o,t)}addCross(e,o){return o===void 0&&(o=e,e=this.diagonalSize),o=o.slice(),o[e]=0,super.addCross(e,o)}toSymmetricMatrix(){return new ht(this)}clone(){const e=new Wt(this.diagonalSize);for(const[o,t,n]of this.upperRightEntries())o!==t&&e.set(o,t,n);return e}toCompact(){const{diagonalSize:e}=this,o=(e-1)*e/2,t=new Array(o);for(let n=1,s=0,l=0;l<t.length;l++)t[l]=this.get(s,n),++n>=e&&(n=++s+1);return t}static fromCompact(e){const o=e.length;if(o===0)return new this(0);const t=(Math.sqrt(8*o+1)+1)/2;if(!Number.isInteger(t))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(e)}`);const n=new this(t);for(let s=1,l=0,r=0;r<o;r++)n.set(s,l,e[r]),++s>=t&&(s=++l+1);return n}}Wt.prototype.klassSubType="DistanceMatrix";class rt extends K{constructor(e,o,t){super(),this.matrix=e,this.rows=o,this.columns=t}}class gn extends rt{constructor(e,o){ot(e,o),super(e,e.rows,1),this.column=o}set(e,o,t){return this.matrix.set(e,this.column,t),this}get(e){return this.matrix.get(e,this.column)}}class pn extends rt{constructor(e,o){ie(e,o),super(e,e.rows,o.length),this.columnIndices=o}set(e,o,t){return this.matrix.set(e,this.columnIndices[o],t),this}get(e,o){return this.matrix.get(e,this.columnIndices[o])}}class dn extends rt{constructor(e){super(e,e.rows,e.columns)}set(e,o,t){return this.matrix.set(e,this.columns-o-1,t),this}get(e,o){return this.matrix.get(e,this.columns-o-1)}}class wn extends rt{constructor(e){super(e,e.rows,e.columns)}set(e,o,t){return this.matrix.set(this.rows-e-1,o,t),this}get(e,o){return this.matrix.get(this.rows-e-1,o)}}class En extends rt{constructor(e,o){et(e,o),super(e,1,e.columns),this.row=o}set(e,o,t){return this.matrix.set(this.row,o,t),this}get(e,o){return this.matrix.get(this.row,o)}}class _n extends rt{constructor(e,o){se(e,o),super(e,o.length,e.columns),this.rowIndices=o}set(e,o,t){return this.matrix.set(this.rowIndices[e],o,t),this}get(e,o){return this.matrix.get(this.rowIndices[e],o)}}class Mt extends rt{constructor(e,o,t){se(e,o),ie(e,t),super(e,o.length,t.length),this.rowIndices=o,this.columnIndices=t}set(e,o,t){return this.matrix.set(this.rowIndices[e],this.columnIndices[o],t),this}get(e,o){return this.matrix.get(this.rowIndices[e],this.columnIndices[o])}}class yn extends rt{constructor(e,o,t,n,s){Zt(e,o,t,n,s),super(e,t-o+1,s-n+1),this.startRow=o,this.startColumn=n}set(e,o,t){return this.matrix.set(this.startRow+e,this.startColumn+o,t),this}get(e,o){return this.matrix.get(this.startRow+e,this.startColumn+o)}}class Sn extends rt{constructor(e){super(e,e.columns,e.rows)}set(e,o,t){return this.matrix.set(o,e,t),this}get(e,o){return this.matrix.get(o,e)}}class to extends K{constructor(e,o={}){const{rows:t=1}=o;if(e.length%t!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=t,this.columns=e.length/t,this.data=e}set(e,o,t){let n=this._calculateIndex(e,o);return this.data[n]=t,this}get(e,o){let t=this._calculateIndex(e,o);return this.data[t]}_calculateIndex(e,o){return e*this.columns+o}}class tt extends K{constructor(e){super(),this.data=e,this.rows=e.length,this.columns=e[0].length}set(e,o,t){return this.data[e][o]=t,this}get(e,o){return this.data[e][o]}}function Un(i,e){if($.isAnyArray(i))return i[0]&&$.isAnyArray(i[0])?new tt(i):new to(i,e);throw new Error("the argument is not an array")}class jt{constructor(e){e=tt.checkMatrix(e);let o=e.clone(),t=o.rows,n=o.columns,s=new Float64Array(t),l=1,r,c,h,m,a,d,u,g,p;for(r=0;r<t;r++)s[r]=r;for(g=new Float64Array(t),c=0;c<n;c++){for(r=0;r<t;r++)g[r]=o.get(r,c);for(r=0;r<t;r++){for(p=Math.min(r,c),a=0,h=0;h<p;h++)a+=o.get(r,h)*g[h];g[r]-=a,o.set(r,c,g[r])}for(m=c,r=c+1;r<t;r++)Math.abs(g[r])>Math.abs(g[m])&&(m=r);if(m!==c){for(h=0;h<n;h++)d=o.get(m,h),o.set(m,h,o.get(c,h)),o.set(c,h,d);u=s[m],s[m]=s[c],s[c]=u,l=-l}if(c<t&&o.get(c,c)!==0)for(r=c+1;r<t;r++)o.set(r,c,o.get(r,c)/o.get(c,c))}this.LU=o,this.pivotVector=s,this.pivotSign=l}isSingular(){let e=this.LU,o=e.columns;for(let t=0;t<o;t++)if(e.get(t,t)===0)return!0;return!1}solve(e){e=k.checkMatrix(e);let o=this.LU;if(o.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let n=e.columns,s=e.subMatrixRow(this.pivotVector,0,n-1),l=o.columns,r,c,h;for(h=0;h<l;h++)for(r=h+1;r<l;r++)for(c=0;c<n;c++)s.set(r,c,s.get(r,c)-s.get(h,c)*o.get(r,h));for(h=l-1;h>=0;h--){for(c=0;c<n;c++)s.set(h,c,s.get(h,c)/o.get(h,h));for(r=0;r<h;r++)for(c=0;c<n;c++)s.set(r,c,s.get(r,c)-s.get(h,c)*o.get(r,h))}return s}get determinant(){let e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");let o=this.pivotSign,t=e.columns;for(let n=0;n<t;n++)o*=e.get(n,n);return o}get lowerTriangularMatrix(){let e=this.LU,o=e.rows,t=e.columns,n=new k(o,t);for(let s=0;s<o;s++)for(let l=0;l<t;l++)s>l?n.set(s,l,e.get(s,l)):s===l?n.set(s,l,1):n.set(s,l,0);return n}get upperTriangularMatrix(){let e=this.LU,o=e.rows,t=e.columns,n=new k(o,t);for(let s=0;s<o;s++)for(let l=0;l<t;l++)s<=l?n.set(s,l,e.get(s,l)):n.set(s,l,0);return n}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function st(i,e){let o=0;return Math.abs(i)>Math.abs(e)?(o=e/i,Math.abs(i)*Math.sqrt(1+o*o)):e!==0?(o=i/e,Math.abs(e)*Math.sqrt(1+o*o)):0}class re{constructor(e){e=tt.checkMatrix(e);let o=e.clone(),t=e.rows,n=e.columns,s=new Float64Array(n),l,r,c,h;for(c=0;c<n;c++){let m=0;for(l=c;l<t;l++)m=st(m,o.get(l,c));if(m!==0){for(o.get(c,c)<0&&(m=-m),l=c;l<t;l++)o.set(l,c,o.get(l,c)/m);for(o.set(c,c,o.get(c,c)+1),r=c+1;r<n;r++){for(h=0,l=c;l<t;l++)h+=o.get(l,c)*o.get(l,r);for(h=-h/o.get(c,c),l=c;l<t;l++)o.set(l,r,o.get(l,r)+h*o.get(l,c))}}s[c]=-m}this.QR=o,this.Rdiag=s}solve(e){e=k.checkMatrix(e);let o=this.QR,t=o.rows;if(e.rows!==t)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let n=e.columns,s=e.clone(),l=o.columns,r,c,h,m;for(h=0;h<l;h++)for(c=0;c<n;c++){for(m=0,r=h;r<t;r++)m+=o.get(r,h)*s.get(r,c);for(m=-m/o.get(h,h),r=h;r<t;r++)s.set(r,c,s.get(r,c)+m*o.get(r,h))}for(h=l-1;h>=0;h--){for(c=0;c<n;c++)s.set(h,c,s.get(h,c)/this.Rdiag[h]);for(r=0;r<h;r++)for(c=0;c<n;c++)s.set(r,c,s.get(r,c)-s.get(h,c)*o.get(r,h))}return s.subMatrix(0,l-1,0,n-1)}isFullRank(){let e=this.QR.columns;for(let o=0;o<e;o++)if(this.Rdiag[o]===0)return!1;return!0}get upperTriangularMatrix(){let e=this.QR,o=e.columns,t=new k(o,o),n,s;for(n=0;n<o;n++)for(s=0;s<o;s++)n<s?t.set(n,s,e.get(n,s)):n===s?t.set(n,s,this.Rdiag[n]):t.set(n,s,0);return t}get orthogonalMatrix(){let e=this.QR,o=e.rows,t=e.columns,n=new k(o,t),s,l,r,c;for(r=t-1;r>=0;r--){for(s=0;s<o;s++)n.set(s,r,0);for(n.set(r,r,1),l=r;l<t;l++)if(e.get(r,r)!==0){for(c=0,s=r;s<o;s++)c+=e.get(s,r)*n.get(s,l);for(c=-c/e.get(r,r),s=r;s<o;s++)n.set(s,l,n.get(s,l)+c*e.get(s,r))}}return n}}class dt{constructor(e,o={}){if(e=tt.checkMatrix(e),e.isEmpty())throw new Error("Matrix must be non-empty");let t=e.rows,n=e.columns;const{computeLeftSingularVectors:s=!0,computeRightSingularVectors:l=!0,autoTranspose:r=!1}=o;let c=!!s,h=!!l,m=!1,a;if(t<n)if(!r)a=e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{a=e.transpose(),t=a.rows,n=a.columns,m=!0;let w=c;c=h,h=w}else a=e.clone();let d=Math.min(t,n),u=Math.min(t+1,n),g=new Float64Array(u),p=new k(t,d),_=new k(n,n),f=new Float64Array(n),E=new Float64Array(t),U=new Float64Array(u);for(let w=0;w<u;w++)U[w]=w;let v=Math.min(t-1,n),S=Math.max(0,Math.min(n-2,t)),F=Math.max(v,S);for(let w=0;w<F;w++){if(w<v){g[w]=0;for(let y=w;y<t;y++)g[w]=st(g[w],a.get(y,w));if(g[w]!==0){a.get(w,w)<0&&(g[w]=-g[w]);for(let y=w;y<t;y++)a.set(y,w,a.get(y,w)/g[w]);a.set(w,w,a.get(w,w)+1)}g[w]=-g[w]}for(let y=w+1;y<n;y++){if(w<v&&g[w]!==0){let R=0;for(let q=w;q<t;q++)R+=a.get(q,w)*a.get(q,y);R=-R/a.get(w,w);for(let q=w;q<t;q++)a.set(q,y,a.get(q,y)+R*a.get(q,w))}f[y]=a.get(w,y)}if(c&&w<v)for(let y=w;y<t;y++)p.set(y,w,a.get(y,w));if(w<S){f[w]=0;for(let y=w+1;y<n;y++)f[w]=st(f[w],f[y]);if(f[w]!==0){f[w+1]<0&&(f[w]=0-f[w]);for(let y=w+1;y<n;y++)f[y]/=f[w];f[w+1]+=1}if(f[w]=-f[w],w+1<t&&f[w]!==0){for(let y=w+1;y<t;y++)E[y]=0;for(let y=w+1;y<t;y++)for(let R=w+1;R<n;R++)E[y]+=f[R]*a.get(y,R);for(let y=w+1;y<n;y++){let R=-f[y]/f[w+1];for(let q=w+1;q<t;q++)a.set(q,y,a.get(q,y)+R*E[q])}}if(h)for(let y=w+1;y<n;y++)_.set(y,w,f[y])}}let b=Math.min(n,t+1);if(v<n&&(g[v]=a.get(v,v)),t<b&&(g[b-1]=0),S+1<b&&(f[S]=a.get(S,b-1)),f[b-1]=0,c){for(let w=v;w<d;w++){for(let y=0;y<t;y++)p.set(y,w,0);p.set(w,w,1)}for(let w=v-1;w>=0;w--)if(g[w]!==0){for(let y=w+1;y<d;y++){let R=0;for(let q=w;q<t;q++)R+=p.get(q,w)*p.get(q,y);R=-R/p.get(w,w);for(let q=w;q<t;q++)p.set(q,y,p.get(q,y)+R*p.get(q,w))}for(let y=w;y<t;y++)p.set(y,w,-p.get(y,w));p.set(w,w,1+p.get(w,w));for(let y=0;y<w-1;y++)p.set(y,w,0)}else{for(let y=0;y<t;y++)p.set(y,w,0);p.set(w,w,1)}}if(h)for(let w=n-1;w>=0;w--){if(w<S&&f[w]!==0)for(let y=w+1;y<n;y++){let R=0;for(let q=w+1;q<n;q++)R+=_.get(q,w)*_.get(q,y);R=-R/_.get(w+1,w);for(let q=w+1;q<n;q++)_.set(q,y,_.get(q,y)+R*_.get(q,w))}for(let y=0;y<n;y++)_.set(y,w,0);_.set(w,w,1)}let V=b-1,I=Number.EPSILON;for(;b>0;){let w,y;for(w=b-2;w>=-1&&w!==-1;w--){const R=Number.MIN_VALUE+I*Math.abs(g[w]+Math.abs(g[w+1]));if(Math.abs(f[w])<=R||Number.isNaN(f[w])){f[w]=0;break}}if(w===b-2)y=4;else{let R;for(R=b-1;R>=w&&R!==w;R--){let q=(R!==b?Math.abs(f[R]):0)+(R!==w+1?Math.abs(f[R-1]):0);if(Math.abs(g[R])<=I*q){g[R]=0;break}}R===w?y=3:R===b-1?y=1:(y=2,w=R)}switch(w++,y){case 1:{let R=f[b-2];f[b-2]=0;for(let q=b-2;q>=w;q--){let Q=st(g[q],R),J=g[q]/Q,A=R/Q;if(g[q]=Q,q!==w&&(R=-A*f[q-1],f[q-1]=J*f[q-1]),h)for(let W=0;W<n;W++)Q=J*_.get(W,q)+A*_.get(W,b-1),_.set(W,b-1,-A*_.get(W,q)+J*_.get(W,b-1)),_.set(W,q,Q)}break}case 2:{let R=f[w-1];f[w-1]=0;for(let q=w;q<b;q++){let Q=st(g[q],R),J=g[q]/Q,A=R/Q;if(g[q]=Q,R=-A*f[q],f[q]=J*f[q],c)for(let W=0;W<t;W++)Q=J*p.get(W,q)+A*p.get(W,w-1),p.set(W,w-1,-A*p.get(W,q)+J*p.get(W,w-1)),p.set(W,q,Q)}break}case 3:{const R=Math.max(Math.abs(g[b-1]),Math.abs(g[b-2]),Math.abs(f[b-2]),Math.abs(g[w]),Math.abs(f[w])),q=g[b-1]/R,Q=g[b-2]/R,J=f[b-2]/R,A=g[w]/R,W=f[w]/R,M=((Q+q)*(Q-q)+J*J)/2,j=q*J*(q*J);let C=0;(M!==0||j!==0)&&(M<0?C=0-Math.sqrt(M*M+j):C=Math.sqrt(M*M+j),C=j/(M+C));let L=(A+q)*(A-q)+C,X=A*W;for(let N=w;N<b-1;N++){let G=st(L,X);G===0&&(G=Number.MIN_VALUE);let O=L/G,P=X/G;if(N!==w&&(f[N-1]=G),L=O*g[N]+P*f[N],f[N]=O*f[N]-P*g[N],X=P*g[N+1],g[N+1]=O*g[N+1],h)for(let B=0;B<n;B++)G=O*_.get(B,N)+P*_.get(B,N+1),_.set(B,N+1,-P*_.get(B,N)+O*_.get(B,N+1)),_.set(B,N,G);if(G=st(L,X),G===0&&(G=Number.MIN_VALUE),O=L/G,P=X/G,g[N]=G,L=O*f[N]+P*g[N+1],g[N+1]=-P*f[N]+O*g[N+1],X=P*f[N+1],f[N+1]=O*f[N+1],c&&N<t-1)for(let B=0;B<t;B++)G=O*p.get(B,N)+P*p.get(B,N+1),p.set(B,N+1,-P*p.get(B,N)+O*p.get(B,N+1)),p.set(B,N,G)}f[b-2]=L;break}case 4:{if(g[w]<=0&&(g[w]=g[w]<0?-g[w]:0,h))for(let R=0;R<=V;R++)_.set(R,w,-_.get(R,w));for(;w<V&&!(g[w]>=g[w+1]);){let R=g[w];if(g[w]=g[w+1],g[w+1]=R,h&&w<n-1)for(let q=0;q<n;q++)R=_.get(q,w+1),_.set(q,w+1,_.get(q,w)),_.set(q,w,R);if(c&&w<t-1)for(let q=0;q<t;q++)R=p.get(q,w+1),p.set(q,w+1,p.get(q,w)),p.set(q,w,R);w++}b--;break}}}if(m){let w=_;_=p,p=w}this.m=t,this.n=n,this.s=g,this.U=p,this.V=_}solve(e){let o=e,t=this.threshold,n=this.s.length,s=k.zeros(n,n);for(let d=0;d<n;d++)Math.abs(this.s[d])<=t?s.set(d,d,0):s.set(d,d,1/this.s[d]);let l=this.U,r=this.rightSingularVectors,c=r.mmul(s),h=r.rows,m=l.rows,a=k.zeros(h,m);for(let d=0;d<h;d++)for(let u=0;u<m;u++){let g=0;for(let p=0;p<n;p++)g+=c.get(d,p)*l.get(u,p);a.set(d,u,g)}return a.mmul(o)}solveForDiagonal(e){return this.solve(k.diag(e))}inverse(){let e=this.V,o=this.threshold,t=e.rows,n=e.columns,s=new k(t,this.s.length);for(let m=0;m<t;m++)for(let a=0;a<n;a++)Math.abs(this.s[a])>o&&s.set(m,a,e.get(m,a)/this.s[a]);let l=this.U,r=l.rows,c=l.columns,h=new k(t,r);for(let m=0;m<t;m++)for(let a=0;a<r;a++){let d=0;for(let u=0;u<c;u++)d+=s.get(m,u)*l.get(a,u);h.set(m,a,d)}return h}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,o=0,t=this.s;for(let n=0,s=t.length;n<s;n++)t[n]>e&&o++;return o}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return k.diag(this.s)}}function qn(i,e=!1){return i=tt.checkMatrix(i),e?new dt(i).inverse():eo(i,k.eye(i.rows))}function eo(i,e,o=!1){return i=tt.checkMatrix(i),e=tt.checkMatrix(e),o?new dt(i).solve(e):i.isSquare()?new jt(i).solve(e):new re(i).solve(e)}function Nt(i){if(i=k.checkMatrix(i),i.isSquare()){if(i.columns===0)return 1;let e,o,t,n;if(i.columns===2)return e=i.get(0,0),o=i.get(0,1),t=i.get(1,0),n=i.get(1,1),e*n-o*t;if(i.columns===3){let s,l,r;return s=new Mt(i,[1,2],[1,2]),l=new Mt(i,[1,2],[0,2]),r=new Mt(i,[1,2],[0,1]),e=i.get(0,0),o=i.get(0,1),t=i.get(0,2),e*Nt(s)-o*Nt(l)+t*Nt(r)}else return new jt(i).determinant}else throw Error("determinant can only be calculated for a square matrix")}function vn(i,e){let o=[];for(let t=0;t<i;t++)t!==e&&o.push(t);return o}function Rn(i,e,o,t=1e-9,n=1e-9){if(i>n)return new Array(e.rows+1).fill(0);{let s=e.addRow(o,[0]);for(let l=0;l<s.rows;l++)Math.abs(s.get(l,0))<t&&s.set(l,0,0);return s.to1DArray()}}function Vn(i,e={}){const{thresholdValue:o=1e-9,thresholdError:t=1e-9}=e;i=k.checkMatrix(i);let n=i.rows,s=new k(n,n);for(let l=0;l<n;l++){let r=k.columnVector(i.getRow(l)),c=i.subMatrixRow(vn(n,l)).transpose(),m=new dt(c).solve(r),a=k.sub(r,c.mmul(m)).abs().max();s.setRow(l,Rn(a,m,l,o,t))}return s}function bn(i,e=Number.EPSILON){if(i=k.checkMatrix(i),i.isEmpty())return i.transpose();let o=new dt(i,{autoTranspose:!0}),t=o.leftSingularVectors,n=o.rightSingularVectors,s=o.diagonal;for(let l=0;l<s.length;l++)Math.abs(s[l])>e?s[l]=1/s[l]:s[l]=0;return n.mmul(k.diag(s).mmul(t.transpose()))}function Fn(i,e=i,o={}){i=new k(i);let t=!1;if(typeof e=="object"&&!k.isMatrix(e)&&!$.isAnyArray(e)?(o=e,e=i,t=!0):e=new k(e),i.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:n=!0}=o;n&&(i=i.center("column"),t||(e=e.center("column")));const s=i.transpose().mmul(e);for(let l=0;l<s.rows;l++)for(let r=0;r<s.columns;r++)s.set(l,r,s.get(l,r)*(1/(i.rows-1)));return s}function kn(i,e=i,o={}){i=new k(i);let t=!1;if(typeof e=="object"&&!k.isMatrix(e)&&!$.isAnyArray(e)?(o=e,e=i,t=!0):e=new k(e),i.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:n=!0,scale:s=!0}=o;n&&(i.center("column"),t||e.center("column")),s&&(i.scale("column"),t||e.scale("column"));const l=i.standardDeviation("column",{unbiased:!0}),r=t?l:e.standardDeviation("column",{unbiased:!0}),c=i.transpose().mmul(e);for(let h=0;h<c.rows;h++)for(let m=0;m<c.columns;m++)c.set(h,m,c.get(h,m)*(1/(l[h]*r[m]))*(1/(i.rows-1)));return c}class oo{constructor(e,o={}){const{assumeSymmetric:t=!1}=o;if(e=tt.checkMatrix(e),!e.isSquare())throw new Error("Matrix is not a square matrix");if(e.isEmpty())throw new Error("Matrix must be non-empty");let n=e.columns,s=new k(n,n),l=new Float64Array(n),r=new Float64Array(n),c=e,h,m,a=!1;if(t?a=!0:a=e.isSymmetric(),a){for(h=0;h<n;h++)for(m=0;m<n;m++)s.set(h,m,c.get(h,m));In(n,r,l,s),xn(n,r,l,s)}else{let d=new k(n,n),u=new Float64Array(n);for(m=0;m<n;m++)for(h=0;h<n;h++)d.set(h,m,c.get(h,m));Mn(n,d,u,s),Nn(n,r,l,s,d)}this.n=n,this.e=r,this.d=l,this.V=s}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let e=this.n,o=this.e,t=this.d,n=new k(e,e),s,l;for(s=0;s<e;s++){for(l=0;l<e;l++)n.set(s,l,0);n.set(s,s,t[s]),o[s]>0?n.set(s,s+1,o[s]):o[s]<0&&n.set(s,s-1,o[s])}return n}}function In(i,e,o,t){let n,s,l,r,c,h,m,a;for(c=0;c<i;c++)o[c]=t.get(i-1,c);for(r=i-1;r>0;r--){for(a=0,l=0,h=0;h<r;h++)a=a+Math.abs(o[h]);if(a===0)for(e[r]=o[r-1],c=0;c<r;c++)o[c]=t.get(r-1,c),t.set(r,c,0),t.set(c,r,0);else{for(h=0;h<r;h++)o[h]/=a,l+=o[h]*o[h];for(n=o[r-1],s=Math.sqrt(l),n>0&&(s=-s),e[r]=a*s,l=l-n*s,o[r-1]=n-s,c=0;c<r;c++)e[c]=0;for(c=0;c<r;c++){for(n=o[c],t.set(c,r,n),s=e[c]+t.get(c,c)*n,h=c+1;h<=r-1;h++)s+=t.get(h,c)*o[h],e[h]+=t.get(h,c)*n;e[c]=s}for(n=0,c=0;c<r;c++)e[c]/=l,n+=e[c]*o[c];for(m=n/(l+l),c=0;c<r;c++)e[c]-=m*o[c];for(c=0;c<r;c++){for(n=o[c],s=e[c],h=c;h<=r-1;h++)t.set(h,c,t.get(h,c)-(n*e[h]+s*o[h]));o[c]=t.get(r-1,c),t.set(r,c,0)}}o[r]=l}for(r=0;r<i-1;r++){if(t.set(i-1,r,t.get(r,r)),t.set(r,r,1),l=o[r+1],l!==0){for(h=0;h<=r;h++)o[h]=t.get(h,r+1)/l;for(c=0;c<=r;c++){for(s=0,h=0;h<=r;h++)s+=t.get(h,r+1)*t.get(h,c);for(h=0;h<=r;h++)t.set(h,c,t.get(h,c)-s*o[h])}}for(h=0;h<=r;h++)t.set(h,r+1,0)}for(c=0;c<i;c++)o[c]=t.get(i-1,c),t.set(i-1,c,0);t.set(i-1,i-1,1),e[0]=0}function xn(i,e,o,t){let n,s,l,r,c,h,m,a,d,u,g,p,_,f,E,U;for(l=1;l<i;l++)e[l-1]=e[l];e[i-1]=0;let v=0,S=0,F=Number.EPSILON;for(h=0;h<i;h++){for(S=Math.max(S,Math.abs(o[h])+Math.abs(e[h])),m=h;m<i&&!(Math.abs(e[m])<=F*S);)m++;if(m>h)do{for(n=o[h],a=(o[h+1]-n)/(2*e[h]),d=st(a,1),a<0&&(d=-d),o[h]=e[h]/(a+d),o[h+1]=e[h]*(a+d),u=o[h+1],s=n-o[h],l=h+2;l<i;l++)o[l]-=s;for(v=v+s,a=o[m],g=1,p=g,_=g,f=e[h+1],E=0,U=0,l=m-1;l>=h;l--)for(_=p,p=g,U=E,n=g*e[l],s=g*a,d=st(a,e[l]),e[l+1]=E*d,E=e[l]/d,g=a/d,a=g*o[l]-E*n,o[l+1]=s+E*(g*n+E*o[l]),c=0;c<i;c++)s=t.get(c,l+1),t.set(c,l+1,E*t.get(c,l)+g*s),t.set(c,l,g*t.get(c,l)-E*s);a=-E*U*_*f*e[h]/u,e[h]=E*a,o[h]=g*a}while(Math.abs(e[h])>F*S);o[h]=o[h]+v,e[h]=0}for(l=0;l<i-1;l++){for(c=l,a=o[l],r=l+1;r<i;r++)o[r]<a&&(c=r,a=o[r]);if(c!==l)for(o[c]=o[l],o[l]=a,r=0;r<i;r++)a=t.get(r,l),t.set(r,l,t.get(r,c)),t.set(r,c,a)}}function Mn(i,e,o,t){let n=0,s=i-1,l,r,c,h,m,a,d;for(a=n+1;a<=s-1;a++){for(d=0,h=a;h<=s;h++)d=d+Math.abs(e.get(h,a-1));if(d!==0){for(c=0,h=s;h>=a;h--)o[h]=e.get(h,a-1)/d,c+=o[h]*o[h];for(r=Math.sqrt(c),o[a]>0&&(r=-r),c=c-o[a]*r,o[a]=o[a]-r,m=a;m<i;m++){for(l=0,h=s;h>=a;h--)l+=o[h]*e.get(h,m);for(l=l/c,h=a;h<=s;h++)e.set(h,m,e.get(h,m)-l*o[h])}for(h=0;h<=s;h++){for(l=0,m=s;m>=a;m--)l+=o[m]*e.get(h,m);for(l=l/c,m=a;m<=s;m++)e.set(h,m,e.get(h,m)-l*o[m])}o[a]=d*o[a],e.set(a,a-1,d*r)}}for(h=0;h<i;h++)for(m=0;m<i;m++)t.set(h,m,h===m?1:0);for(a=s-1;a>=n+1;a--)if(e.get(a,a-1)!==0){for(h=a+1;h<=s;h++)o[h]=e.get(h,a-1);for(m=a;m<=s;m++){for(r=0,h=a;h<=s;h++)r+=o[h]*t.get(h,m);for(r=r/o[a]/e.get(a,a-1),h=a;h<=s;h++)t.set(h,m,t.get(h,m)+r*o[h])}}}function Nn(i,e,o,t,n){let s=i-1,l=0,r=i-1,c=Number.EPSILON,h=0,m=0,a=0,d=0,u=0,g=0,p=0,_=0,f,E,U,v,S,F,b,V,I,w,y,R,q,Q,J;for(f=0;f<i;f++)for((f<l||f>r)&&(o[f]=n.get(f,f),e[f]=0),E=Math.max(f-1,0);E<i;E++)m=m+Math.abs(n.get(f,E));for(;s>=l;){for(v=s;v>l&&(g=Math.abs(n.get(v-1,v-1))+Math.abs(n.get(v,v)),g===0&&(g=m),!(Math.abs(n.get(v,v-1))<c*g));)v--;if(v===s)n.set(s,s,n.get(s,s)+h),o[s]=n.get(s,s),e[s]=0,s--,_=0;else if(v===s-1){if(b=n.get(s,s-1)*n.get(s-1,s),a=(n.get(s-1,s-1)-n.get(s,s))/2,d=a*a+b,p=Math.sqrt(Math.abs(d)),n.set(s,s,n.get(s,s)+h),n.set(s-1,s-1,n.get(s-1,s-1)+h),V=n.get(s,s),d>=0){for(p=a>=0?a+p:a-p,o[s-1]=V+p,o[s]=o[s-1],p!==0&&(o[s]=V-b/p),e[s-1]=0,e[s]=0,V=n.get(s,s-1),g=Math.abs(V)+Math.abs(p),a=V/g,d=p/g,u=Math.sqrt(a*a+d*d),a=a/u,d=d/u,E=s-1;E<i;E++)p=n.get(s-1,E),n.set(s-1,E,d*p+a*n.get(s,E)),n.set(s,E,d*n.get(s,E)-a*p);for(f=0;f<=s;f++)p=n.get(f,s-1),n.set(f,s-1,d*p+a*n.get(f,s)),n.set(f,s,d*n.get(f,s)-a*p);for(f=l;f<=r;f++)p=t.get(f,s-1),t.set(f,s-1,d*p+a*t.get(f,s)),t.set(f,s,d*t.get(f,s)-a*p)}else o[s-1]=V+a,o[s]=V+a,e[s-1]=p,e[s]=-p;s=s-2,_=0}else{if(V=n.get(s,s),I=0,b=0,v<s&&(I=n.get(s-1,s-1),b=n.get(s,s-1)*n.get(s-1,s)),_===10){for(h+=V,f=l;f<=s;f++)n.set(f,f,n.get(f,f)-V);g=Math.abs(n.get(s,s-1))+Math.abs(n.get(s-1,s-2)),V=I=.75*g,b=-.4375*g*g}if(_===30&&(g=(I-V)/2,g=g*g+b,g>0)){for(g=Math.sqrt(g),I<V&&(g=-g),g=V-b/((I-V)/2+g),f=l;f<=s;f++)n.set(f,f,n.get(f,f)-g);h+=g,V=I=b=.964}for(_=_+1,S=s-2;S>=v&&(p=n.get(S,S),u=V-p,g=I-p,a=(u*g-b)/n.get(S+1,S)+n.get(S,S+1),d=n.get(S+1,S+1)-p-u-g,u=n.get(S+2,S+1),g=Math.abs(a)+Math.abs(d)+Math.abs(u),a=a/g,d=d/g,u=u/g,!(S===v||Math.abs(n.get(S,S-1))*(Math.abs(d)+Math.abs(u))<c*(Math.abs(a)*(Math.abs(n.get(S-1,S-1))+Math.abs(p)+Math.abs(n.get(S+1,S+1))))));)S--;for(f=S+2;f<=s;f++)n.set(f,f-2,0),f>S+2&&n.set(f,f-3,0);for(U=S;U<=s-1&&(Q=U!==s-1,U!==S&&(a=n.get(U,U-1),d=n.get(U+1,U-1),u=Q?n.get(U+2,U-1):0,V=Math.abs(a)+Math.abs(d)+Math.abs(u),V!==0&&(a=a/V,d=d/V,u=u/V)),V!==0);U++)if(g=Math.sqrt(a*a+d*d+u*u),a<0&&(g=-g),g!==0){for(U!==S?n.set(U,U-1,-g*V):v!==S&&n.set(U,U-1,-n.get(U,U-1)),a=a+g,V=a/g,I=d/g,p=u/g,d=d/a,u=u/a,E=U;E<i;E++)a=n.get(U,E)+d*n.get(U+1,E),Q&&(a=a+u*n.get(U+2,E),n.set(U+2,E,n.get(U+2,E)-a*p)),n.set(U,E,n.get(U,E)-a*V),n.set(U+1,E,n.get(U+1,E)-a*I);for(f=0;f<=Math.min(s,U+3);f++)a=V*n.get(f,U)+I*n.get(f,U+1),Q&&(a=a+p*n.get(f,U+2),n.set(f,U+2,n.get(f,U+2)-a*u)),n.set(f,U,n.get(f,U)-a),n.set(f,U+1,n.get(f,U+1)-a*d);for(f=l;f<=r;f++)a=V*t.get(f,U)+I*t.get(f,U+1),Q&&(a=a+p*t.get(f,U+2),t.set(f,U+2,t.get(f,U+2)-a*u)),t.set(f,U,t.get(f,U)-a),t.set(f,U+1,t.get(f,U+1)-a*d)}}}if(m!==0){for(s=i-1;s>=0;s--)if(a=o[s],d=e[s],d===0)for(v=s,n.set(s,s,1),f=s-1;f>=0;f--){for(b=n.get(f,f)-a,u=0,E=v;E<=s;E++)u=u+n.get(f,E)*n.get(E,s);if(e[f]<0)p=b,g=u;else if(v=f,e[f]===0?n.set(f,s,b!==0?-u/b:-u/(c*m)):(V=n.get(f,f+1),I=n.get(f+1,f),d=(o[f]-a)*(o[f]-a)+e[f]*e[f],F=(V*g-p*u)/d,n.set(f,s,F),n.set(f+1,s,Math.abs(V)>Math.abs(p)?(-u-b*F)/V:(-g-I*F)/p)),F=Math.abs(n.get(f,s)),c*F*F>1)for(E=f;E<=s;E++)n.set(E,s,n.get(E,s)/F)}else if(d<0)for(v=s-1,Math.abs(n.get(s,s-1))>Math.abs(n.get(s-1,s))?(n.set(s-1,s-1,d/n.get(s,s-1)),n.set(s-1,s,-(n.get(s,s)-a)/n.get(s,s-1))):(J=Ft(0,-n.get(s-1,s),n.get(s-1,s-1)-a,d),n.set(s-1,s-1,J[0]),n.set(s-1,s,J[1])),n.set(s,s-1,0),n.set(s,s,1),f=s-2;f>=0;f--){for(w=0,y=0,E=v;E<=s;E++)w=w+n.get(f,E)*n.get(E,s-1),y=y+n.get(f,E)*n.get(E,s);if(b=n.get(f,f)-a,e[f]<0)p=b,u=w,g=y;else if(v=f,e[f]===0?(J=Ft(-w,-y,b,d),n.set(f,s-1,J[0]),n.set(f,s,J[1])):(V=n.get(f,f+1),I=n.get(f+1,f),R=(o[f]-a)*(o[f]-a)+e[f]*e[f]-d*d,q=(o[f]-a)*2*d,R===0&&q===0&&(R=c*m*(Math.abs(b)+Math.abs(d)+Math.abs(V)+Math.abs(I)+Math.abs(p))),J=Ft(V*u-p*w+d*y,V*g-p*y-d*w,R,q),n.set(f,s-1,J[0]),n.set(f,s,J[1]),Math.abs(V)>Math.abs(p)+Math.abs(d)?(n.set(f+1,s-1,(-w-b*n.get(f,s-1)+d*n.get(f,s))/V),n.set(f+1,s,(-y-b*n.get(f,s)-d*n.get(f,s-1))/V)):(J=Ft(-u-I*n.get(f,s-1),-g-I*n.get(f,s),p,d),n.set(f+1,s-1,J[0]),n.set(f+1,s,J[1]))),F=Math.max(Math.abs(n.get(f,s-1)),Math.abs(n.get(f,s))),c*F*F>1)for(E=f;E<=s;E++)n.set(E,s-1,n.get(E,s-1)/F),n.set(E,s,n.get(E,s)/F)}for(f=0;f<i;f++)if(f<l||f>r)for(E=f;E<i;E++)t.set(f,E,n.get(f,E));for(E=i-1;E>=l;E--)for(f=l;f<=r;f++){for(p=0,U=l;U<=Math.min(E,r);U++)p=p+t.get(f,U)*n.get(U,E);t.set(f,E,p)}}}function Ft(i,e,o,t){let n,s;return Math.abs(o)>Math.abs(t)?(n=t/o,s=o+n*t,[(i+n*e)/s,(e-n*i)/s]):(n=o/t,s=t+n*o,[(n*i+e)/s,(n*e-i)/s])}class no{constructor(e){if(e=tt.checkMatrix(e),!e.isSymmetric())throw new Error("Matrix is not symmetric");let o=e,t=o.rows,n=new k(t,t),s=!0,l,r,c;for(r=0;r<t;r++){let h=0;for(c=0;c<r;c++){let m=0;for(l=0;l<c;l++)m+=n.get(c,l)*n.get(r,l);m=(o.get(r,c)-m)/n.get(c,c),n.set(r,c,m),h=h+m*m}for(h=o.get(r,r)-h,s&=h>0,n.set(r,r,Math.sqrt(Math.max(h,0))),c=r+1;c<t;c++)n.set(r,c,0)}this.L=n,this.positiveDefinite=!!s}isPositiveDefinite(){return this.positiveDefinite}solve(e){e=tt.checkMatrix(e);let o=this.L,t=o.rows;if(e.rows!==t)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let n=e.columns,s=e.clone(),l,r,c;for(c=0;c<t;c++)for(r=0;r<n;r++){for(l=0;l<c;l++)s.set(c,r,s.get(c,r)-s.get(l,r)*o.get(c,l));s.set(c,r,s.get(c,r)/o.get(c,c))}for(c=t-1;c>=0;c--)for(r=0;r<n;r++){for(l=c+1;l<t;l++)s.set(c,r,s.get(c,r)-s.get(l,r)*o.get(l,c));s.set(c,r,s.get(c,r)/o.get(c,c))}return s}get lowerTriangularMatrix(){return this.L}}class so{constructor(e,o={}){e=tt.checkMatrix(e);let{Y:t}=o;const{scaleScores:n=!1,maxIterations:s=1e3,terminationCriteria:l=1e-10}=o;let r;if(t){if($.isAnyArray(t)&&typeof t[0]=="number"?t=k.columnVector(t):t=tt.checkMatrix(t),t.rows!==e.rows)throw new Error("Y should have the same number of rows as X");r=t.getColumnVector(0)}else r=e.getColumnVector(0);let c=1,h,m,a,d;for(let u=0;u<s&&c>l;u++)a=e.transpose().mmul(r).div(r.transpose().mmul(r).get(0,0)),a=a.div(a.norm()),h=e.mmul(a).div(a.transpose().mmul(a).get(0,0)),u>0&&(c=h.clone().sub(d).pow(2).sum()),d=h.clone(),t?(m=t.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0)),m=m.div(m.norm()),r=t.mmul(m).div(m.transpose().mmul(m).get(0,0))):r=h;if(t){let u=e.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0));u=u.div(u.norm());let g=e.clone().sub(h.clone().mmul(u.transpose())),p=r.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0)),_=t.clone().sub(h.clone().mulS(p.get(0,0)).mmul(m.transpose()));this.t=h,this.p=u.transpose(),this.w=a.transpose(),this.q=m,this.u=r,this.s=h.transpose().mmul(h),this.xResidual=g,this.yResidual=_,this.betas=p}else this.w=a.transpose(),this.s=h.transpose().mmul(h).sqrt(),n?this.t=h.clone().div(this.s.get(0,0)):this.t=h,this.xResidual=e.sub(h.mmul(a.transpose()))}}T.AbstractMatrix=K;T.CHO=no;T.CholeskyDecomposition=no;T.DistanceMatrix=Wt;T.EVD=oo;T.EigenvalueDecomposition=oo;T.LU=jt;T.LuDecomposition=jt;var io=T.Matrix=k;T.MatrixColumnSelectionView=pn;T.MatrixColumnView=gn;T.MatrixFlipColumnView=dn;T.MatrixFlipRowView=wn;T.MatrixRowSelectionView=_n;T.MatrixRowView=En;T.MatrixSelectionView=Mt;T.MatrixSubView=yn;T.MatrixTransposeView=Sn;T.NIPALS=so;T.Nipals=so;T.QR=re;T.QrDecomposition=re;T.SVD=dt;T.SingularValueDecomposition=dt;T.SymmetricMatrix=ht;T.WrapperMatrix1D=to;T.WrapperMatrix2D=tt;T.correlation=kn;T.covariance=Fn;var Ve=T.default=k;T.determinant=Nt;T.inverse=qn;T.linearDependencies=Vn;T.pseudoInverse=bn;T.solve=eo;T.wrap=Un;const gt=io;Ve.Matrix&&Ve.Matrix;const be=8,Kn=1/16777216,Cn=15,Tn=18,Qn=11;function Jn(i,e){i>>>=0,e>>>=0;const o=i&65535;return((i-o)*e>>>0)+o*e>>>0}class An{constructor(e=Date.now()){this.state=new Uint32Array(4),this.init(e),this.random=this.getFloat.bind(this)}getUint32(){return this.nextState(),this.state[3]+this.state[2]>>>0}getFloat(){return(this.getUint32()>>>8)*Kn}init(e){if(!Number.isInteger(e))throw new TypeError("seed must be an integer");this.state[0]=e,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(let o=1;o<be;o++)this.state[o&3]^=o+Jn(1812433253,this.state[o-1&3]^this.state[o-1&3]>>>30>>>0)>>>0;this.periodCertification();for(let o=0;o<be;o++)this.nextState()}periodCertification(){this.state[0]===0&&this.state[1]===0&&this.state[2]===0&&this.state[3]===0&&(this.state[0]=88,this.state[1]=83,this.state[2]=65,this.state[3]=68)}nextState(){let e=this.state[0];e^=e<<Cn,e^=e>>>Tn,e^=this.state[3]<<Qn,this.state[0]=this.state[1],this.state[1]=this.state[2],this.state[2]=this.state[3],this.state[3]=e}}const Wn=1e-8;function Fe(i,e={},o=Math.random){const{size:t=1,replace:n=!1,probabilities:s}=e;let l,r;if(typeof i=="number"?l=jn(i):l=i.slice(),s){if(!n)throw new Error("choice with probabilities and no replacement is not implemented");if(s.length!==l.length)throw new Error("the length of probabilities option should be equal to the number of choices");r=[s[0]];for(let h=1;h<s.length;h++)r[h]=r[h-1]+s[h];if(Math.abs(1-r[r.length-1])>Wn)throw new Error(`probabilities should sum to 1, but instead sums to ${r[r.length-1]}`)}if(n===!1&&t>l.length)throw new Error("size option is too large");const c=[];for(let h=0;h<t;h++){const m=Yn(l.length,o,r);c.push(l[m]),n||l.splice(m,1)}return c}function jn(i){const e=[];for(let o=0;o<i;o++)e.push(o);return e}function Yn(i,e,o){const t=e();if(o){let n=0;for(;t>o[n];)n++;return n}else return Math.floor(t*i)}class le{constructor(e=Math.random){if(typeof e=="number"){const o=new An(e);this.randomGenerator=o.random}else this.randomGenerator=e}choice(e,o){return typeof e=="number"?Fe(e,o,this.randomGenerator):Fe(e,o,this.randomGenerator)}random(){return this.randomGenerator()}randInt(e,o){return o===void 0&&(o=e,e=0),e+Math.floor(this.randomGenerator()*(o-e))}randomSample(e){const o=[];for(let t=0;t<e;t++)o.push(this.random());return o}}function Gn(i,e,o){return new le(o).choice(i,{size:e})}function Ln(i,e,o,t){const n=new le(t);let s=new Array(e);if(s[0]=Math.floor(n.random()*i.length),e>1){let l={dist:-1,index:-1};for(let r=0;r<i.length;++r)o[s[0]][r]>l.dist&&(l.dist=o[s[0]][r],l.index=r);if(s[1]=l.index,e>2)for(let r=2;r<e;++r){let c={dist:-1,index:-1};for(let h=0;h<i.length;++h){let m={dist:Number.MAX_VALUE,index:-1};for(let a=0;a<r;++a)o[a][h]<m.dist&&!s.includes(h)&&(m={dist:o[a][h],index:h});m.dist!==Number.MAX_VALUE&&m.dist>c.dist&&(c={...m})}s[r]=c.index}}return s.map(l=>i[l])}function On(i,e,o={}){const t=new gt(i),n=t.rows,s=new le(o.seed),l=[],r=o.localTrials||2+Math.floor(Math.log(e)),c=s.randInt(n);l.push(t.getRow(c));let h=new gt(1,t.rows);for(let u=0;u<t.rows;u++)h.set(0,u,Jt(t.getRow(u),l[0]));let m=[ke(h.getRow(0))];const a=1/m[0][n-1];let d=gt.mul(h,a);for(let u=1;u<e;u++){const g=s.choice(n,{replace:!0,size:r,probabilities:d.getRow(0)}),p=t.selection(g,Dn(t.columns)),_=Bn(p,t);let f=1/0,E=1/0,U=h;for(let v=0;v<r;v++){const S=gt.min(h,[_.getRow(v)]),F=S.sum();F<E&&(f=g[v],E=F,U=S)}l[u]=t.getRow(f),h=U,m=[ke(h.getRow(0))],d=gt.mul(h,1/m[0][n-1])}return l}function Bn(i,e){const o=new gt(i.rows,e.rows);for(let t=0;t<i.rows;t++)for(let n=0;n<e.rows;n++)o.set(t,n,Jt(i.getRow(t),e.getRow(n)));return o}function Dn(i){let e=[];for(let o=0;o<i;o++)e.push(o);return e}function ke(i){let e=[i[0]];for(let o=1;o<i.length;o++)e[o]=e[o-1]+i[o];return e}const zn={maxIterations:100,tolerance:1e-6,initialization:"kmeans++",distanceFunction:Jt};function Xn(i,e,o,t,n,s){o=Pe(e,i,o,n.distanceFunction);let l=xo(i,e,o,t),r=Mo(l,i,n.distanceFunction,n.tolerance);return new No(o,l,r,s,n.distanceFunction)}function Ie(i,e,o){const t=Zn(o);Co(i,e);let n=Pn(i,e,t);t.maxIterations===0&&(t.maxIterations=Number.MAX_VALUE);let s=new Array(i.length),l=!1,r=0,c;for(;!l&&r<t.maxIterations;)c=Xn(n,i,s,e,t,++r),l=c.converged,n=c.centroids;if(!c)throw new Error("unreachable: no kmeans step executed");return c}function Pn(i,e,o){let t;if(Array.isArray(o.initialization)){if(o.initialization.length!==e)throw new Error("The initial centers should have the same length as K");t=o.initialization}else switch(o.initialization){case"kmeans++":t=On(i,e,o);break;case"random":t=Gn(i,e,o.seed);break;case"mostDistant":t=Ln(i,e,Io(i,o.distanceFunction),o.seed);break;default:Ko(o.initialization,"Unknown initialization method")}return t}function Zn(i){return{...zn,...i}}function Hn(i,e=.055,o=.055){const t=cv.imread(i),n=new cv.Mat;cv.cvtColor(t,n,cv.COLOR_RGBA2GRAY);const s=new cv.Mat;cv.GaussianBlur(n,s,new cv.Size(5,5),0);const l=new cv.Mat;cv.Canny(s,l,30,150);const r=cv.Mat.ones(3,3,cv.CV_8U),c=new cv.Mat;cv.dilate(l,c,r,new cv.Point(-1,-1),3);const h=new cv.Mat;cv.erode(c,h,r,new cv.Point(-1,-1),1);const m=new cv.MatVector,a=new cv.Mat;if(cv.findContours(h,m,a,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE),m.size()===0)return console.log("未检测到任何轮廓。"),{gridCells:[],chessboardRect:{x:NaN,y:NaN,width:NaN,height:NaN}};let d=0,u=0;for(let U=0;U<m.size();U++){const v=cv.contourArea(m.get(U));v>u&&(u=v,d=U)}const g=m.get(d),p=cv.boundingRect(g),_=t.roi(p),{gridCells:f,expandedRect:E}=$n(_,e,o);return t.delete(),n.delete(),s.delete(),l.delete(),r.delete(),c.delete(),h.delete(),m.delete(),a.delete(),_.delete(),{gridCells:f,chessboardRect:{x:p.x+E.x,y:p.y+E.y,width:E.width,height:E.height}}}function $n(i,e,o){const t=new cv.Mat;cv.cvtColor(i,t,cv.COLOR_RGBA2GRAY);const n=new cv.Mat;cv.GaussianBlur(t,n,new cv.Size(5,5),0);const s=new cv.Mat;cv.Canny(n,s,50,150);const l=new cv.Mat;if(cv.HoughLinesP(s,l,1,Math.PI/180,80,100,50),l.rows===0)return console.log("无法检测到棋盘线条。"),{gridCells:[],expandedRect:{x:0,y:0,width:0,height:0}};const r=[],c=[];for(let M=0;M<l.rows;M++){const[j,C,L,X]=l.data32S.slice(M*4,(M+1)*4),N=Math.atan2(X-C,L-j)*180/Math.PI;Math.abs(N)<10?r.push([j,C,L,X]):Math.abs(N)>80&&c.push([j,C,L,X])}if(r.length<10||c.length<9)return console.log("线条不足，无法进行 KMeans 聚类。"),{gridCells:[],expandedRect:{x:0,y:0,width:0,height:0}};const h=r.flatMap(M=>[M[1],M[3]]),m=c.flatMap(M=>[M[0],M[2]]),a=Ie(h.map(M=>[M]),10,{maxIterations:100}),d=Ie(m.map(M=>[M]),9,{maxIterations:100}),u=a.centroids.map(M=>M[0]).sort((M,j)=>M-j),g=d.centroids.map(M=>M[0]).sort((M,j)=>M-j),p=Math.floor(u[0]),_=Math.ceil(u[u.length-1]),f=Math.floor(g[0]),E=Math.ceil(g[g.length-1]),U=i.roi(new cv.Rect(f,p,E-f,_-p)),v=E-f,S=_-p,F=Math.floor(v*e),b=Math.floor(S*o),V=Math.max(0,f-F),I=Math.max(0,p-b),w=Math.min(i.cols-V,v+2*F),y=Math.min(i.rows-I,S+2*b),R=i.roi(new cv.Rect(V,I,w,y)),q=10,Q=9,J=Math.floor(y/q),A=Math.floor(w/Q),W=[];for(let M=0;M<q;M++)for(let j=0;j<Q;j++){const C=M*J,L=(M+1)*J,X=j*A,N=(j+1)*A,G=R.roi(new cv.Rect(X,C,N-X,L-C)),O=document.createElement("canvas");O.width=G.cols,O.height=G.rows,cv.imshow(O,G);const P=O.getContext("2d");P&&W.push(P.getImageData(0,0,O.width,O.height)),G.delete()}return t.delete(),n.delete(),s.delete(),l.delete(),U.delete(),R.delete(),{gridCells:W,expandedRect:{x:V,y:I,width:w,height:y}}}function ts(i,e=30){const o=cv.matFromImageData(i),t=new cv.Mat;cv.cvtColor(o,t,cv.COLOR_RGBA2GRAY);const n=new cv.Mat,s=new cv.Mat;cv.meanStdDev(t,n,s);const l=s.doubleAt(0,0);return o.delete(),t.delete(),n.delete(),s.delete(),l>e}function es(i){const e=ce(i),o=Ct(e,[0,120,120],[10,255,255],[160,120,120],[179,255,255]),t=Ct(e,[0,0,0],[180,255,80]),n=i.width*i.height,s=cv.countNonZero(o),l=cv.countNonZero(t),r=s/n,c=l/n;return e.delete(),o.delete(),t.delete(),r>.05?"red":c>.05?"black":"unknown"}function os(i,e){let o;if(e==="red")o=ns(i);else if(e==="black")o=ss(i);else return i;const t=is(o);let n=new cv.Mat;t.channels()===1?cv.cvtColor(t,n,cv.COLOR_GRAY2RGBA):t.channels()===3?cv.cvtColor(t,n,cv.COLOR_RGB2RGBA):n=t.clone();const s=new ImageData(new Uint8ClampedArray(n.data),n.cols,n.rows);return o.delete(),t.delete(),n.delete(),s}function ns(i){const e=ce(i),o=Ct(e,[0,100,100],[10,255,255],[160,100,100],[179,255,255]);return e.delete(),o}function ss(i){const e=ce(i),o=new cv.MatVector;cv.split(e,o);const t=o.get(2);cv.equalizeHist(t,t),o.set(2,t),cv.merge(o,e);const n=new cv.Mat;cv.Canny(e,n,400,600);const s=cv.Mat.ones(3,3,cv.CV_8U),l=new cv.Mat;cv.morphologyEx(n,l,cv.MORPH_CLOSE,s);const r=new cv.MatVector,c=new cv.Mat;cv.findContours(l,r,c,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE);let h;if(r.size()===0)h=cv.Mat.zeros(e.rows,e.cols,cv.CV_8UC1);else{let m=0,a=r.get(0);for(let v=0;v<r.size();v++){const S=r.get(v),F=cv.contourArea(S);F>m&&(m=F,a=S)}const d=cv.moments(a,!1),u=d.m10/d.m00,g=d.m01/d.m00,p=new cv.Point(u,g),_=.98,f=new cv.Mat(a.rows,1,cv.CV_32SC2);for(let v=0;v<a.rows;v++){const S=a.data32S[v*2],F=a.data32S[v*2+1],b=p.x+(S-p.x)*_,V=p.y+(F-p.y)*_;f.intPtr(v,0)[0]=b,f.intPtr(v,0)[1]=V}h=Ct(e,[0,0,0],[180,255,80]);const E=cv.Mat.zeros(h.rows,h.cols,cv.CV_8UC1),U=new cv.MatVector;U.push_back(f),cv.drawContours(E,U,0,new cv.Scalar(255),cv.FILLED),cv.bitwise_and(h,E,h),f.delete(),U.delete()}return e.delete(),o.delete(),t.delete(),n.delete(),l.delete(),r.delete(),c.delete(),s.delete(),h}function is(i){const e=i.clone(),o=cv.Mat.ones(3,3,cv.CV_8U);cv.morphologyEx(i,i,cv.MORPH_CLOSE,o,new cv.Point(-1,-1),3);const t=new cv.MatVector,n=new cv.Mat;if(cv.findContours(i,t,n,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE),t.size()===0)return o.delete(),t.delete(),n.delete(),e;const s=i.cols*i.rows,l=[];for(let u=0;u<t.size();u++){const g=t.get(u),p=cv.boundingRect(g),_=p.width/p.height;if(.9<=_&&_<=1.1){const f=p.width*p.height;f/s>=.5&&l.push({contour:g,contourArea:f,rect:p})}g.delete()}if(l.length===0)return o.delete(),t.delete(),n.delete(),e;l.sort((u,g)=>g.contourArea-u.contourArea);const r=l[0],{x:c,y:h,width:m,height:a}=r.rect,d=e.roi(new cv.Rect(c,h,m,a));return o.delete(),t.delete(),n.delete(),e.delete(),d}function ce(i){const e=cv.matFromImageData(i),o=new cv.Mat;cv.cvtColor(e,o,cv.COLOR_RGBA2RGB);const t=new cv.Mat;return cv.cvtColor(o,t,cv.COLOR_RGB2HSV),e.delete(),o.delete(),t}function xe(i,e,o){const t=new cv.Mat;return cv.inRange(i,cv.matFromArray(1,3,cv.CV_8UC1,e),cv.matFromArray(1,3,cv.CV_8UC1,o),t),t}function Ct(i,e,o,t,n){const s=xe(i,e,o);if(t&&n){const l=xe(i,t,n),r=new cv.Mat;return cv.bitwise_or(s,l,r),s.delete(),l.delete(),r}return s}const rs={red_king:"帥",red_guard:"仕",red_bishop:"相",red_knight:"傌",red_rook:"俥",red_cannon:"炮",red_pawn:"兵",black_king:"将",black_guard:"士",black_bishop:"象",black_knight:"馬",black_rook:"車",black_cannon:"炮",black_pawn:"卒"};function ls(i,e,o){const t=document.createElement("canvas");t.width=i.width,t.height=i.height;const n=t.getContext("2d");n.drawImage(i,0,0,t.width,t.height),n.strokeStyle="rgba(0, 255, 0, 0.5)",n.lineWidth=2,n.strokeRect(e.x,e.y,e.width,e.height);const s=e.width/9,l=e.height/10;return o.forEach(r=>{const[c,h]=r.position,m=e.x+h*s,a=e.y+c*l;if(n.strokeStyle=r.color==="red"?"rgba(255, 0, 0, 0.7)":"rgba(0, 0, 0, 0.7)",n.lineWidth=2,n.strokeRect(m,a,s,l),r.type&&r.type!=="none"){const d=`${r.color}_${cs(r.type)}`,u=rs[d]||"";n.fillStyle=r.color==="red"?"rgba(255, 50, 50, 0.9)":"rgba(50, 50, 50, 0.9)",n.font="bold 24px Arial",n.textAlign="right",n.textBaseline="bottom",n.fillText(u,m+s-5,a+l-5)}}),t}function cs(i){return{k:"king",a:"guard",b:"bishop",n:"knight",r:"rook",c:"cannon",p:"pawn",none:"none"}[i]}const hs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABlCAAAAACAHCmeAAAETklEQVRoBZXBiYGCQAAEsEz/Rc+BIJ8Lekn8T+3iX+JXdSd+Ej9o6ll8F9/ULg7qKL6JL2oTA7WJR/GoVvGgFmnciwe1iO9qksatuFOLOKlFXJVU3IkbNUnjot7iql5iKIbqJUZqER9qEkMxUi8xUm/xqYiR+FQvMVIH8ale4io+1CyG6iQGahYXcVWzGKqzGKlZnMVFTWKormKoZnESZzWJofoQN2oSR3FSxFCNxI2axEEc1SQG6kNqEjdqErs4qElc1ZO4UanYxK6ID/UsbtQk3mJXxFV9EbeKWMWmiA+1Su2i3uJOEat4K+JTLVKbUJu4VcQiVjWJDzWLeotJ7eJeES+xKjFQR7GoXTwo4iUWRQzUJlZ1FE+KmMVLTWKgVrGqk3hWxCReihipWbzVSXxTxCRmRYxVbOosvisxiVmJ7+oiflAEMSnxVT2IeyWISYln9VXcKEFQxIP6TQyVICjiXv0sRioISgyUmNWToFYxUEJQMVLErO7ES73FQIlQYqQmUavUSbzVLj6VCCVG6iq1il0dxUBFKDFSt2JXJzFQEUqM1EFQm3irt6BioCJKDNVbLOotFrWKeomBkigxUqtY1SZm9SFGSqLESC1iVZugPsWNSpQYqEW81FdxrxIlBupf4lElRQzUP8QXlRQxUD+LryopMVK/iV9UUmKkDlIX8S8lJYZqlzqJs4pHJSWG6ipqFhc1i3slJcaK1CY1i4taxa2SEmMlFFGruKhN3Copca9mqUVc1EHcqqTEnTqLiyJqEbcqKTFUA3FQk9QsJW5VUsSnuhOLmkRt4lYlRVzUo5jUJGoT9ypR4qB+kJqE2sS9kiixqUepXahNPCiJEm/1IE1tQm3iUUWUWNWTUJuoTTyrCCVe6irqINQqtYkvKkKJlzqIWZ2lPsQ3FUKJWb3FqkZSB/FVhaDEpF5iU1/FDyoEJahJHNRA1C5+UEJQhBK7Okm9hNrFD0oIirioo6hFqJP4poKgiLM6ilqkRuJBCWJSxFEdhPpFDJUgJkUc1SRqEvWz+FAEMStiValNqP+JkxKTmBWxql2o/4tdEZN4KWJRb0Hton4Tb0XM4qUmsahZzGoXs1ql7sWqiFksiljUJGa1i5daxKI2qU28FPESqyIWNQlqF4taxK5WqbeYFLGIVU3ipV5Su1jUIs7qIiZFLOKtiEVdxKpW8aFOQhGr2BSxqJNY1SqGahdFvMWmJrGog1jVWzwpoohN7GoSizoJtUiJHxSxiYOaxKLGouIHReziqCaxqEnqIhXf1SQO4qQmsahZ6iBFfFWTOIqzmsSqLqLiu5rESVzUJFZ1EI2Kr2oSZ3FVk3irXfymJnERH4rY1Vv8pIgPMVJiV4v4RRGfYqRm8Vaz+EURAzFUk/i/msRIjNUs/qmIsbhTs/hdTeJO3KtFfFcvcS8e1Fs8qLd4EM9qFwO1iUfxVR3Fok7iq/hJpW7FL+I/6iD+5w8rOJhwB3wAwQAAAABJRU5ErkJggg==",as=Object.freeze(Object.defineProperty({__proto__:null,default:hs},Symbol.toStringTag,{value:"Module"})),us="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABmCAAAAADpSjAOAAAErklEQVRoBa3BC6KqSgIEsNT+F13TfMRGUTz3TRJ/Vrv4m/hdXYlfxU+a+iruxQ/qXtyKO/UUb+oQ38V39RAf1S6+iW9qFzdqE5/FR7WLn9QQn8UntYrf1ZDGtbhWm/iTEp/EpVrFnxVpXIgrtYh/Uot4E+9qETcqLtUqXsS7GuJODXGlFnEWr2oRt2oVF2oRJ/GihvhB7eJdLWIWZzXET2oXF2qISZwU8aM6xIUinmJWQ/yqDnGhiENMaoif1ZBaxJumxCGeaogrFe/qKS4U8RBPRbyrTZzVJK4UsYtDEW/qECe1Sg1xpYbYxEMRL+osnmqTIq7VEKvYFTGrd3GoSXxSxCp2JR7qg3ioXUoMJd7UEIvYFPFQH8SuHlKhdvGqiCE2RTzUB7Gpz+KsiCFWJZ7qWqzqqzgpYohFEZO6ELv6Lk6KIBZFzOpN7OqQpobULGZFEIsiTuohijjUU6ios5iVIIYiXtUmKia1Sc2iDjEpQQwlrtQuJnUWh3qISQUxlLhSpMSsZjGpQzyVEJS4VKTipA5xVod4KiEocaVIxVlt4k0dYlIiKHGlSMVZDXGhnmJSIqi4UqTEWYldEQ91iJOKUOJCreKj2sWmHuKsIpS4UKTxQc1iqId4URJKvKtNXKhXQe3iVUko8a5IxYV6F2oXbypR4l2Rigt1IWoX7ypR4l0t4lV9EDWkxLtKlHhTxLu6EhU1pOJCJUq8KWJTQ6zqXaioISUuVKLEqxrSUA8x1CpNbWJo1C6uVKLEqyINNYmhFmlqFTTULq6UKPFUT1EnQa1CPYR6iCslRTzVIeosqE1qlaZRD3GppIhJPaRehTpLRT3EtRIlZvVZ1HdxrUSJWR1ST7Goz1LxQYkSs5qEWkQFdRI1iw8qUWJST7GoISqoSUpqFSU+qUSJST3FolYx1CE1iRIfVaLEU01iUaRiqEVQuxQp4rNKlDjULBZFbGoWi9rEF5Uo8VAnsShSMRSpRexqFV+URBG7OgtqFYsiFbNaxBclUcSmNqlNqE0silTMiviqJJRY1SZqk1qlsahVnJT4riKUWNQqqLNUDLWIP6sIJYbaBPUqFrWIeyUOJUIR1CqGOknTGGoR90ocKgQlqEUs6iQ0qFXcK3GoEBShhljVi1jUKu6VeCghKEIRmzqLVa3iXomHEmIooeKhZrGrVdwrsStBDCVOahIPtYpbRexKEEMRs3qISa3iTg2xK0EMNcSkdjGrVdypRayKIBZFzGoTs1rFjVrFqsQQixpiVquY1Sa+qk0sihhiVcRJLWJWu/isDkERi9gUcVLEST3FpZoERSxiU8RZibM6iZN6EYpYxa6IO/U3qSFWsash7tSvUqSITTxUKu7UT6KGlNjFoYa4VbdCDVHxEE9F3KtfpeIQTzXEL+oHUeIQkxriZ/VJDEU8xayG+Ks6xKGISZzUEP8HNcQszmqI/6yGOIkXNcR/VEOcxasa4j+pIV7Em1rEP6tFvIorRfyrGuJNXCnS+Bc1xIW4VEP8Wa3iSlyrRfxRDXEtPqhV/K6pIT6Ij2oXP6hNfBTf1C6+ql18EV/VU1yrh/gqbpTUISY1iTtxr1E34l78QR1Si/iD/wETNddw4LVh4wAAAABJRU5ErkJggg==",fs=Object.freeze(Object.defineProperty({__proto__:null,default:us},Symbol.toStringTag,{value:"Module"})),ms="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABlCAAAAACAHCmeAAADbUlEQVRoBa3BCYKkRgADMPn/j3aKvoA+oNiJFJfUVlwRk+q3mBET6kycizO1EY2b2oszcaxW8UWt4kgcqac4UA9xIH6rhzhVd/FT/FJ3Malu4of4ru5iXt3Ed/FV3cRFtYhv4ou6i+tqEZ/iUy3i39QiPsSHWsS/qpt4E+9qEX9Qi9iLN7WIP6lF7MReDfFnNcRW7BRxpIhzNcRGbNUQB+ouThWxio0ijtRLnKghXmJVQxyprThUQzzFSw1xrLbiUA3xEE81xInaiSM1xEM81RBnaieO1BB38VBDnKutOFbETdwVMaO24lgRN3FXYkptxbEaYhE3RcypjThRxCJuiphTG3GmiCEWRUyqjThTxBCLIibVRpwqghhKTKtVnCuCGEpMq1VMKEFQxLRaxYQSBCXm1SpmVBCKmFermFFCKGJerWJGCaHEBbWKKSVCiQtqFVNKRBEX1CqmlIgiLqhV7NRLbJVEiStqFXf1RbxURIkLalo8lUSJC2pePJREiWl1STxUUsS5+idxV0kRh+rfxV0lRfxSfxR3lZTYaDzUnwQVdyUlnup/lYq7khJPNSE1KRp3JSVe6p/EU22k8VBS4qWuia9qEatKSrzUNTGpkhKruiQmVVJiVUeC2ohJlZTYqB/irjZiUiVFrOqLWNVGTKqkiI16Ezu1EZMqUWKrtuJNbcSckiixUy/xoTZiTkWU2KtFfFWrmFQRJS6oVUyqiCLm1SomVYQS82oVcyqEEvNqFXMqBCVm1UbMqRCUmFUbUTdxpIKgiEm1EbWKHyoIiphUv8VXJQiKmFRH4osSBDXEqToXn0oQQxFHala8K4JYFPFNXRRvihhiUcSHui7elFjEooZ4VydSH2KniEXc1BB79S9ip4hF3BXxpv5BbBVxE3c1xF5dF1tF3MVDDbFXP8VTbcVWEXfxVMRefYqv6ia2iniIlyL2ai+uKOIpXmqIvVrFNTXEU6xqiDd1FxfVEC+xUUPs1SKuqiFWsVVD7JW4rIbYiJ0a4u9qiK3YqyH+qobYiTdNib+pIfbiXQ3xFzXEm/hQxB8U8SE+NSX+UQ3xKb6pRfyDGuKL+KqGuKyG+Cq+q0Vc0dQQ38UvtUhjTt3EL/Fb3cWpeoif4kC9xG/1FAfiUG3EF/USh+JM7cRQH+JMzKhDMSOuqK245D9LSCVxusul6AAAAABJRU5ErkJggg==",gs=Object.freeze(Object.defineProperty({__proto__:null,default:ms},Symbol.toStringTag,{value:"Module"})),ps="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABlCAAAAABrK5KdAAAE9UlEQVRoBZ3BiWHkNgAEMEz/RU9I/dqVfHaA+JO6ij+IX6pX8RvxC/UP8W/xD3URh7qLf4if1Ske1Cl+ED+pTfykVvGDeFeb+KdaxZt4U6v4nZISL+JZreIPaopH8agW8Te1iAfxoBbxsyLuaopv8a2m+FFt4q6G+BJfaoof1SluahF38amG+FndxE1NcRN3NcWm8aREneKmpriKuyIORXyqGOoUNzXFRdwUcaop7hpTneKupjjFVQ1xUVNcNRZ1EZ+KOMRFDXFVi3hQX+JUQ+ziVEPc1Cq+1JPY1RSbONQQd7WJT/UoDkVsYldDfKpN3NWL2NUQq9gV8aWGFHFVr+JQxCI2RXyrXVzVp9QmdkUsYlXEg5pS4qI2qV1qE7siplgV8aB2capN6kEcSkyxKOJJ7eJQd0EtosShiCGmIh7VLg61SE0x1BRKXBRBTEU8ql3sapEaYlFDUOKiCGIo4lntYlOL1BCLmkLjQxFiKOJZLVKxqFWKWNUiHhQhhhIvaoqKqS5iU0M8KyEo4kVNKTHVKTY1xbMSghI3FZvaxFQ3MdUUbyoEJRZ1ikUdgvoQ1BQaT0qEEqu6iKkOQX2KmlLiUYlQYlOnmGoXQ/0gXlSEEpu6iKE2MdW7eFMSJXZ1FdQmpjqkbuJVSZQ41EWoXUz1Jt6VRIlTnUJtYlEv4ieVKHFRu6A2sSiiPsWPSpS4qtQU1Co+1UXc1BCnkiIuahGLWsWHuohF3cWupIiLmmJRm7io34pVSYmLmmJRu7ioX4tVpcSppljUIa7q12JRKXGqIRZ1iJv6vZgqJU5FLOoUF/Ui6iYlpkqJQ4lVXcSh3kTdRcVUKXForOomNvUuKtQpNpUSu8aq7mJRh9SnqHhWKbFrTLVJrUJdpTYx1BCNF5USm8ZQu6gfxaaGVLyolNg0qF2od3FRpOJFpcSmUqtoUG/iphbxolJiVYdY1bP4UIt4USliqkOs6pDaxbdaxLMSJabaBI2hVqE28aQW8axEialWQWOqVQw1xKbEqVbxqESJqRZxqlVc1CF2tYpHlSgx1SJOtYldXcWmVvGoEiWmmmLXqFXs6i5WtYpHlShiKkJjqqghFZv6FItaxZOKUGIq4tCoIRWb+hSLWsSjilDEUMShFlGxqVVqF4taxJOKoMRQpGJVi6i4KlKbmGoVDyoERQxF7GoRFVc1paZY1CoeVAiKmIrY1CoVu0ZdxaJW8a2EoIgvdYhdSZ1iVav4VkJQQ3yqQxxKUIvY1Cq+FCGGIj7VIU4lvtQqvhQhpiI+1CEuivhQq/hUBDEV8aEOcVFT3NQqPhVBTDXEh9rFVS3iolbxoYghFjXEXe3iphZxqlV8KGKIVRF3tYu72sSqVvGhiClWNcRNbeJTHWKoVdwVsYhNDXFTq/hSj+KuiEXsiripVXyrJ3FTxCoORdzUFE/qQVwVsYlDDXFVUzyrm2hcFbGLUw1xVUO8qKtoXNQQu7ioIa5KvKpTNC5qiENc1RBXjR/ULjRONcQpbmqI36tNShxqiIu4qyH+oBbRONQQV/GhhviDmqKxqyFu4lNT4i9qSGNTQ9zFlyL+pohVDfEpnpT4k4pVDfElntQU/0MN8S0e1RB/VkM8iWc1xd/UEI/iRa3i94p4Ee9qFf9Wi3gVP6hd/KB28S5+Vqd4ULv4UfxTXcWq7uIf4lfqR/Fv8Rd1EX/yH4p07GIDXbCnAAAAAElFTkSuQmCC",ds=Object.freeze(Object.defineProperty({__proto__:null,default:ps},Symbol.toStringTag,{value:"Module"})),ws="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABlCAAAAACAHCmeAAAET0lEQVRoBZXBiYGCQAAEsEz/Rc+t8isgl8R/1F78SzxU1+KJeKCpe/Fb/FSr2Kud+CV+qFWcqFXciju1iDs1iRtxoybxWw1pXIpLNYlnSiquxIWaxHM1RONMnKuXuNP4VC9xJs7UW1ypVRwUaXyLE/US5+pD7NUQ3+JLvcS5+hYH9RIf4ksNcaZOxYdKxVF8qJdYVCzqQnyoIQ7iQxGbEm91KT7VEHtxUEPs1BCUoE7ElxpiJ/aKOKiXKOKtjuJMDbGJnRriqBYxqYM4V6lYxaaIT7WISU1SxKUaYhGbSuNTvaViUpOUuFFDzGJVxJcaUmJSm7hVQ0xiUUN8qVm81F7cK2ISsxriW81iqKO4VUO8xayIEzUJ6kvcK+IlJkWcqUmoE3GriJeYFHGmJlFn4l4RQ7yVOFWzqDPxQ4kh3oo4U7OoU3GvCOKlxLkaUqFOxb0iiJcS52pIhToTvxQhhhIXahLqW/xWhBhKXKhJqFXqLR4oQlDEhZoEtUgN8UwJQYkLNYtFLeKhCkGJCzWJVc3iqRJBxZWaxKwO4okSoYgLNYlJfYoHKkKJKzWJtzoRP1WEEhdqFkOdip8qosSVmoW6Er+URIkrNYu6FD9VosSVmoS6Er9VosSVmoSapY7it0qUuFCzoM7EI5UocaFmQS1Ss3iopIgLNYuhZqm3eKykiAs1i5c6iH+oFHGhZrGoRfxHpYgLNYlFLeI/Soq4UJOY1So2tYhzJUVcqEm81U7qXJwoKXGlJjHUU/GlpMSVmoT6j/hQUuJKTVL/FEclJa7UJPVfcVBS4lK9pU7FQW3ioBIlrtRb1CQ1iRO1ib1KlLhUL6EO4kztxE4lSlyql6D24kztxKYkSlwr4q02caZ2YlMRSlwrsaq3lPhUe7GpCCUeqr04qr3YVIQSD9WXWNVObEqEEs/UmZjUTuxUCEr8VJfirTaxVyEo8UvdiaE2sVNCUMSJeouXuhNqE3slxFBiKGJWe1FHUZtQm9grIYYSQz0Vk5qFWsVeEWIognooFjWJWsVBCWIoYqidqKgvcVAx1Cr2iiBeiqCOYqiDOFeLOCgxxEsR1CI0JrUT52oVe0UM8VYE9ZLGXq2CxrdaxF4RL/FWxFAv0dirSVDEh1rFXom3mBQx1BCNoyLeaoiDWsVOEW8xK2Io0rhRQ+zVIvaKeItZDTEUcacmsahV7BQxiUURz9Qm1CQldoqYxaqIZ+pMVGyKWMSqhnimvqVpbIpYxaaGeKY+pYhNEavYKeKhOhGrGmITezXEM3WQEqsaYicOaoiHahMVqxpiL45qiIdqESUWNcRBfKghHqqdWNQQR/GphnioNjGrIT7ElyKNZ2oRsxriU5wp8VBNYlbEtzhVQzxSLzGpIU7EqSIeKmJSxKk4Vy/xSMVbDXEurtRLPNYUcSWu1SR+qllcihu1iBu1iBtxrzZxohZxL36qvXirD/FLPFJ34on4l9qJf/kDL2Gdat+6n0YAAAAASUVORK5CYII=",Es=Object.freeze(Object.defineProperty({__proto__:null,default:ws},Symbol.toStringTag,{value:"Module"})),_s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABqCAAAAACeiPB1AAAEQklEQVRoBb3BWaKjSAIEMMX9Dx2TLPYDzFbz0VL8d+K/E/+d+Ef1J/5JvFbn4qV4o57Es3hUG6FEHcSjeFJfcaK+4lbcq4+4VIu4FTdqFV/1EVs1icaVuFSL2KqN2KohLsWVmsVBbcVWpXElztUsftVWbBVxIU7VJM7UTuwVcSZO1CzO1U7sVSp+xa+axJXai72SEgfxoyZxrXbiqCaxF0c1xK3aih+VEjtxUEM8qFVK/KqU2Iq9Ip7UKkWcKmIjdmqIB7UV52qIP7FRk3hQW3GpiK/YKOJJ7QQ1xEFT4iv+FPGkdqJWcdCU+IivIh7UjTioIVbxVcStuhcHRazio4gb9SyOSixiVcSpei2OipjFooY4U+/FUQ0xiUWJo8ZHvREnSkxiUeKgxEc9iAtFDDErcVA3Uh9xr4ghJiWO6lJqlYoHRRCTEkd1JWon7hRBDEUc1a1QH3GnBDGU+FFnQhFUqFncKEEMJX7VmagYKqhZ3ChBUMSJ2guNiqExqVncKSEocaa2QknFUDGpRdwoIShxqlYxqUkMJSa1iDsVQhFv1BCTikmt4k6JUOKNmsRQYlKruFMilHihJjGUmNRH3KqIEi/UJCYlhvqKWyVR4lnNYihiqK24VhIlHtUihhJDHcSlSpR4VIugCOpHXKlEiSf1ETUE9SvOlUSJB3UUapX6E+cqKeJeHYU6FecqKeJW/Yg6ChUXKiniRp2IWoSahIorJSXu1InULIb6iEslJW7UjRjqI66VlLhRk9SJGOojbpSUuFGrUDtBTVLEnUpKXKtVTOpPqFmKuFVJiWu1iFltpD7iSSUlrtUsFnUqHlVS4lpN4qu2UsQLlZS4VkNs1E68U4kSl0rs1J94qyRKvFQ7sagzsVESJd6ofxVfFVHiUX1EvRUfFVHiXi1iUq/FR0UocaNmQf2jWFWEEldqEtQ7MdQiFhVCiVP1/0rNYlEhlDhRT2KvjmJRIShxUC/EqfqKWQVBiY9KXQtqFZdqEosKgiIWdS0WtYp3ShAUsagL8VWreKcEQQ0xqxOxU6t4pQhiKGJSR/GjVvFKiSGGIma1FWdqFW8UMcSkiEn9iXO1ijeKGGJSxKxmca0W8UYRk5gV8VIt4o0Ss1gU8U4t4oUiZrEo4p1axLMiFrGoIV6pRTyqIRaxqiHeqEU8KmIVH0W8UYt4UsRHfBXxQi3iQRFf8aeIZzWLBzXEV/ypIR7VLO7VEH9io4Z4UrO4VUNsxFYN8aBmcaeG2IqdGuJezeJGDbETezXErZrFtRpiLw6aIm7ULC7VEAdx1BRxrWZxqYijOFPiWk3iQhG/4kxJ40oNcaGIE3GmhrhSQ5xpSpyKUzXEhRriTBHn4kINaZyoIX7VEBfiSs3iVxEHjSIuxbVaxV4RW7WKa3GnvmKjxFet4lY8qD+xKjGpP/EgntVeVGonnsVb9SfULN6Lf1STaPyr/wEZZ5J2PlnxwgAAAABJRU5ErkJggg==",ys=Object.freeze(Object.defineProperty({__proto__:null,default:_s},Symbol.toStringTag,{value:"Module"})),Ss="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABlCAAAAACAHCmeAAAEQUlEQVRoBa3BC5LqOAAEMPX9D93PSfgEsAOztVL8TZ3FH8SvaiV+Er+ob+Kr+KpO4qyG1C6uxRd1iIqJImqIK3GpNvFFU4dYigu1i1/UIRZiqYjGrxpKzMVCDWl8KGKqUcRMzBVpfKi7+NRQYiKmipiop5iqIT7ERA0xUycx1ZR4F59qiLk6ialKxZv4UNJYqU0UsdR4E+9KXKinWKhUvIg3NcSFuoulSsVZvCriUt3FWg1xEi9qiEv1IhaKeIqzIr6pNzFT0niIkyK+qiHqIWZqiLt4qiG+qImYqSFu4qmISzUXU5XGTTwUcaGWYq7SOMRdESv1KuokForYxU0RK/Um6iGWaohN3BSxUm+iDnGpiE0cilirV6ldfFPEELsirtSL+FURQ+xKXKsXafymCGJTxBd1korfFEFsirhUL1KxqZtYKUIMRVypQ1ALsVBCDEWs1S52tRRTJcRQYq02cVOb1ETMlBAUsVKbONQhmhLqLGYqBCVWiripuxjqU0yUCEosFHGop6ipmCgRlJgrcaiT1BA39RQTFaHEXIlDnaXEUz3Fp4pQMVdiV69S4qmG1CY+lYSKqSI2NREPtYka4lNJlJgqYihiaFCHeKhNUGKiEiVmagiKuKuT2NUmlJipRImZ2qXEU53FpnYpYqYSJWbqIW7qJmoTm3qIqRIlZuohDvUQlcamHmKuRImZOqRiU69Ssam7WChRYqrugnoRKo2h7mKhpIi5uouaiE3dxUpJEQt1E/UiRexqSImlkiJW6hB1liIORUqslRSxUocY6kUc6hAXSopYql3c1EMcipS4UFLEWu3iUE9B3cWVkiLWahebmkuJKyUqLtQuhlqLS5UocaE2QT1FncW1SpS4UJtQr4I6xBeVKHGhNlGvUg/xTSVKXKiJ1F38ohIlrtSH1C5+VBFKXKgPKeJ3FaHEhZqKP6gIJa7UTLyph3hTEYq4Un8XJyWCEtdK7OpH8VQhKPGT+ou4qxCU+KpOUj+IQwkxlLhS/03sSoihxEpNhPouNkWIoYhPtZD6SWxKEEMRr+r/EBRBbIrY1Y/iU51FgxJDbIrY1afUp5iru9gUMcSuiE1dCHUTa7WJTYlN7GqIoebiUDfxkyI2cShiU0SdxUMd4idF7OJQQ2zqTZzUIX5SxC5uitjVSbyqQ/yiiEPcFbGrm/hQh/hBETfxUMQ3dYjviriLhxriizrEVzXEXTzVENfqEF8V8RAnRVyrQ3xRQzzFWRGXipT4ooiTOKshrhQpca2Is3hRQ1yoXVyqIV7EmyIulFRcqSFexbsaYqmk4kIN8SY+1CYWSiqWahPv4lNtYq6ksVRDfIqZ2sRMDbFQm5iIqdrERA0xVZuYirmSEp8qjZkaYiFWmtrEmyI+1C5W4koN8arEu9rFWlyoQxonjXe1iwtxrW5irlGb+CK+qrM41Iv4Kn5Rl+IX8Sf1EH/0DyR8qGp+1pBYAAAAAElFTkSuQmCC",Us=Object.freeze(Object.defineProperty({__proto__:null,default:Ss},Symbol.toStringTag,{value:"Module"})),qs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABsCAAAAACu+NgsAAAFfklEQVRoBb3BUULbCgJFMZ39L/qOnRCIIWnp+xgpvzF/ll/KX82v5BfyF/NN7ua7/FX+aL7khXmWv8gfzIf80TR3+aO8Mw/5jfmQ9/LGfMhvzV3eykvzIf9gPuSNvDI3+Vdzl9fy09zlP5i7vJIf5ibPRn5lzSGv5Ls55WLu8gtzygv5Zk65mE/5hTnlh1zNKVfzJX83N/kuF3PKN/MkvzCnfJNnc8p38yy/MKdc5cmc8sNc5BfmlIt8mVN+WnPTHPIbc8qzfJpTXpon+ZU55Fk+DXljnuR35pQv+TCnvDF3DfmlOeRLPswh78xdQ35pTvmUuznlnblpyK/NKQ+5mVPemptG/sEc8pCbOeStuWvklTXywxzyIac55L35lJ/mU67mlLuc5pD35lN+mGe5mEPucphD/mA+5Zv5Ls/mkJsc5pD35lmezAt5MofchDnknfkhD/OheZYvQ27CkHfmhdzNG3ky5BRzyEvzWu7mnXwZcsoc8tK8kdE8yzzJpyGnzCE/zSvNIXOV03zKpznkkDnku3mlOcXcNS0f5ks+DTlkyDfzUnMK85Av8yWfhhwy5DByM80fhDnlar7kyxAachjChHknp7nLxXzKkyE05DB3zWvNIac5NHI1D3kyhIYwNzEvNYfczKEhQyOHeciTOUQjpzmEeSt3c5d5EvOQZ0M0cprXmlNDbuZJ86X5kIshGrmZFzJfcppfyMUc0sjN/NQ8y2F+I1dDGrmbv8hhfiUXc0iTD/NNcxHmSfNOLuaQJg9z1dA8xPxJ5kMu5pAmD3NqnmQeMn8S8yFXQ5p8mu9iXmuuYh5yNaTJl7kKc9dcNM9ymIdcDWnyZJ6FuWrNQ/OQwzzkakiTZ/Mlh7loWebUfMjNPORqSJNv5i6n+dCcYplTc2q5m4dcDWny3RxyM18acprvcpiHXA1p8ifzIYac5tAyGrEwD7ka0uQP5qE55GZOMaccFvOQqyFN3puHpslhmZvMKadpHnI1pJF3lrlrWk6L+aF5kqshjbyxrLlpcreYv8jVkEZeW8ynfFhM5qfmLhdzSCOvLIf5lA/LvJE55WqIRn6anOYhD8s0mpvmJqc55WKIRr6Z3MyXPCxzajIPWRjyzRCNXI2c5kkeltGcMocWFoZ8M0RGLoaYJy1PRsvcZTksDLmaQ2TkYl7JwzJac5OHhZFv5hANuZgX8mw0N5ncLYxczSE0h1zMT3k2mrtcDLmaQ2gOuZif8mkZzSnfDLkacsiQq/mm5dMymnxYPg25GnLIHPJkzTctn5aR08hp5DCHXMwhhzDyZM03LReTkS8j5tDybHITc8iToXnS8mkxTX6aQ8uXtZZTrJFnE0bm1PJpMS0fhtzMIcunNS2nHEaejbCsNVmuRsyXHOaQ5dNaPuQ08mXExGKyXM17Wb5My00Oc8iXkU+T5cti3svyMIfc5bBGXllMlvfWwtzF8jDykJshLywmy5PlwzJhzYc8mUM+5G7khcVkeWn5MJlTvqwhH3Iz5IXFZHm2nJZPa80py92ylofcrCE/LCbfTZZnoyFf1pCH3K2RHxaj5e/mlE9DnuTDmrw0h/zVMmS5WUO+5MMa8sIc8guj5dOQJ3lYQ14Y8ndrstzMTZ7k0xpytRjyC5PlZhm5yJc15IchvzAtd3PKRZ6sId8N+TdDy1WerZGrNflHc8o3uVhzyLMh/2IOLd/lam7ybORfDHkh36zR8p+tOeSF/DCHlv9mTZZX8tPc5D9YRstLeWFO+XdzaPJaXptT/ska8l5eW3OTX5rmJm/ljblr+YV5yB/krfmSP5uGlj/KH0zmLm/NTZa/yJ8tc5EP803+Kn8zr8R8iJFfyC/MH2Tkd/I7c9U0Dfm9/JP5kn+X/6v8X/0Phhh8i1Cy6vcAAAAASUVORK5CYII=",vs=Object.freeze(Object.defineProperty({__proto__:null,default:qs},Symbol.toStringTag,{value:"Module"})),Rs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABrCAAAAACz/eiUAAAFdklEQVRoBb3BCRabSgIEMNX9D13TzWKDwUuSeV+KH9R38Yv4qn4T38VndRIndRLfxCe1icYb9RSfxXu1iy9qF5/EO7WKH9Uq3ot7tYmf1SbeiVu1iD9Tq3gjbtQi/lyt4lZc1SL+Si3iTlzUIqghbpW4U4u4Ea9qCmoVN2qKOzXFVZzVFFNt4qpWcaOmuIizmmKqXVzVJq5qildxVItYVGoVV7WJq5riRRzUFE+1iYt6iIua4iwOaoiD2sRVPcRFTXESTzXEUe3iop7ioqY4ioca4qR2cVEHcVFTHMSupjipXVzUQVzVFE+xqSFe1C5e1VHcqCGeYlNDvKhdvKijuFVDPMSqhnhVuzirVWqIN2qIXSxqiFf1EGe1SA3xTg2xi0UN8ap2cVYHoTZxVkNsYqohLmoXJ3WQeooXNcQqhprionZxUJ/ESQ2xiqGGuKpNHNRncVLEKqghbtRBbOqLOKohFkENcaOm1CIW9VUc1RBTqCHuNIrUIqb6Lg5qiCnUEKsSD416iqnuBPUQTzXEFIpY1RSbRhE1xVQvYlcP8VRDDFFDbGoRi6am1CKGeoqTeoqHGmKIGmJXU0y1iloFTa3iRT3FUxFDFPFQi6CuQm3iVT3EQQ1BaoiHWkXdCEUaN+ohDmoIUsRTTWnqIhqKWNUQm3qIkyJIEU/1QRzUQyxqF2c1hBTxVB/ErobUlIqpdnFWQ0gRT/VW7GqKmlKC2sWLGkJKPNVFaopdTamjUJu4KEJKPNRFvKg7Ubu4KEJKPNRVHJSoG6lNXBUhJXa1Se3ioIbUWdRBXBUhJTb1EE1NcVCr1FEqtYkbRUiJVT2lqUU81VVKmtrFjSKkxKKOohZx1NQiakoRahO3ikjFqg5CLeKkVlGpVdQubhWRilUdhFrESVNTGtQQU63iVhGpWNVTqEWc1EOoKaZaxL0iUrGqp1CLOKmHqKu4V0QqVvUQ1CJOakjFULuoRbxRRCo2tYmhFnFSJ6EO4p0iUrGpTVCrOKkXUQ/xTg2Rik2tYqhVHJVU6k4a79QQKbGpKaZ6il2jNlFp6iHeKkJKbEoai3pIxapRUoIKagiN94qQErsSi9rEVLEpqUVMNUTjgyKkxI3axVBCQ0URu5rikyKkxI16iKFCo6RxVEN8VISUuKijUESjiJOKL4ogKi7qRjRKvKj4rAiixIumFqmnaDQV31U8FUGUeFGbaAxFNIr4QeOphiBKnDW1CBoU0dQQP2g81RCEEie1iqlBiaaG+K7EQw1BFHHU1CIWDSpqEd81jYcihijirBaxatBoaojvmsauhhiiKXFUUzwVoab4QdPYFDEFJU5qiBdNTfFVU7FpSkyhKbFr1BQvmpriBxWbpmlMQRGbRg1x0dQUv2gaU9M0FkFTcVBDvGpqih9UGotKYxE0JaaGCo2LphbxXaUxNEUsYihiaChxrzbxVmPRWNUQqxhqCA0lGncaRSjxSYWGksYmVvUQjVsNJYaa4qnEpogGlcYmVrVLxRsNRXxWQ0wVT7FoahfvNagh3qlVDBUHsWpKfNWYakjjoDHUIhU1xVPsiviqsagpHuokKNJ4iocivqt4qBtpTDXEQeyaEj+peGiaEmc1xUkclPhZEbcqFGkcxVERf6JWUVNqCJoiTuKkxP9FU2mcxVkR/66pNF7EUS3iXxVpvIqTRhH/pIY0LuJVScXfa0oaV/GiKan4S40St+Kihvg7tYh7cauG+CuVxr24U6v4I5Wa4o24V1P8rkQN8Va80RSp+ElFDfFBvNXUIr5qFKn4JD6oXXxUUzQ+i0/qRZzUUyq+ic/qjdSUGqLiB/FdpW6kFtE0fhG/KKFeBCV+Fr+rmBpUSvyZ+GM1ROPPxX8q/lP/A9zVYIqTjIeUAAAAAElFTkSuQmCC",Vs=Object.freeze(Object.defineProperty({__proto__:null,default:Rs},Symbol.toStringTag,{value:"Module"})),bs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABsCAAAAACu+NgsAAAE+klEQVRoBb3BC3bqSgLAQGn/i9a0P4DbNoTkvjNV8o34TL4kP4mvyDfksziSp7iQH8kH8SK34kh+IO/FTj6KF/lI3okH+ULs5AN5I1YmX4qdvCW3YiO/Eit5R27ERn4tFvKGXMVK/iJWcksuYiV/Eyu5Iyexkj+LldyQWazkX8RCrmQSC/lObOQkFnIhR7GQl0DeiBeZxELO5CAWchAgt+JIJrGQE3mJhRzFQm7EkcxiITN5iUFmsZCrmMgsFjKRh1jIWSzkInbGICexkCN5iEEuYiNncSRnsZAD2cVCzuJBTmIiZ7GQF9nEIFfxJLOYyEUM8iKbGOQqnmQWE7mKQZ5kFYPciBeZxZFcxSBPsgqQG3EgsziSGzHIgyxikBtxILM4kjsxyE6GGORGHMksDuRWDLITiEFuxERmcSS3YpCNQAxyFTOZxYG8EYOshBjkRsxkFgfyRgyyEmKQO3EkJ3Eg7wTISgiQGxlHchIH8k4MspAY5CqJlTHIWRzIOzHIQmKQi4yNMchFHMhbMchgDHIVO2OQqziQt2KQwRjkInbGIDfiQHbJWYAMBshVHMmdOBAIkJBZDAIGyFnsjEFuxYkEEjKJQcBALuLA5E7MJGMjkwABAzmLidyKiUnsZBKDYCAnMZF7Ge/IJAbBQM7iQN7IeE8OYhAMZJKxMgZ5Iz6SowDBkEnM5E5CfCJHAYIhkziSi0AW8ZEcBAiGHMXOGOQkkFV8JgcBgiEvMZOjANnET+QgQDDkKWbyFMhD/EyOYhBDHuJENjHILr4hkwAxeYgTWcVGhrgyMAYhVjKJQQzZxZkM8RNjJ5tkFoMYsosLIe4ZDxKDZMidGMSQTcaFgRAI8WDM5LMYxJBNxh3ZBDLEDfksBjFkk7ES4kUekiR2Eg/yWQxiyC4GyYTYyFFm7CQe5LMYxJBdgEkyxEomITEYEg/yWQxiyC7ATBaxkpMMhIRYCMlnAYIhuwB5iI3cS4iFkHwWIBiyi0F2sZF7CbEQks8CBAN5SJ5iI/cSYiEknwUIBnIjdnIvIRbyswDBQG7ETu4lxEJ+FCBgIDdiJ2/FSkI+ChAwkBuxk7diJYQMIbcCBAzkRuzkndjIT2IQkECuYifvxEaOkosYBCSQq9jJVSAQOzlIzmIQEEIuYidnIZt4EAiQITkJkEEI5Cx2Mgl5iCuBZBaDDEIgZ7GTh0AO4o5AMgmQhWQgJ7GTTTKJe3IjkIVkIBexkqv4QM4yk4UMgUwSYiFPyRA/EJKjQFYyBDLJjIXsMiYGMgsEkqNMVgIxyFFmLOQlHkw+SA4CZCUQCznIWMkkBpPvxSAbWQTIJFZyFCCz2MitQJ5kESBHsZGjkKckOcmQozDZySJAZrEweQrZJV8J5EU2YXIQBpK8ZPIbgRzIKgPkJSFkkvxSgDzJJpOzkH+RAfIiDyFnyb8JkBfZZYBMkn8QYHIgDxkmT0nI3wUmR/IUYPIUIH8UEshEjgL5b8RCZnKQgfwXAgyZySyQfxdgciYnAfKPMkwuZBaDyT/IQO7ISQYmf5aEyQ05ywD5qwxM7shFLEz+IAlMbsmNGOT3MlZyT27FYMgvJAQm78itMFbypYRYyFvyRjzIF2IlyQfyXjzIZ4GxkI/kg8BYmLwTGCv5gXyWxEoyeQrjxZAfyU/iwbglBPIF+Vl8IIR8Sb4TM1mF/Ib8QsaL/J78X8n/1f8Am9IOixOlrIUAAAAASUVORK5CYII=",Fs=Object.freeze(Object.defineProperty({__proto__:null,default:bs},Symbol.toStringTag,{value:"Module"})),ks="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABsCAAAAACu+NgsAAAF5klEQVRoBb3BSWLjRgAEMNT/H13p5k6JsuU5BIhv1M/iS/Gr+kZ8I35RpzQ29S5+FT+pUzypq/hFfFaH+Ent4mfxSe3iV7VJ4wfxQW3iS7WJj+JRbeI3tQi1iU/iSa3iV7ULtYoP4l2t4nd1CmqRxpN4U4sYivhBnWKqRTyJVzXFohbxSZ1iUYt4EC9qik2t4lldxKoW8SbuaopdreJZHdLY1CJexVVNcVGreFSHNHa1iBdxUVNc1S4e1EWcaoq7uKghbuoQ72pILeKqhriJUw1xUxfxrtLUFHc1xFXsaoqruol3jaYWcVNDXMWuhriqu3hSqUXc1RAXsakpTvUqHjW1iBc1xCk2RZzqTTyq1BRvijjFqoY41Jt4VqkpStzUELtY1BCHpq7is0aR2sSphtjFVFPs6iZ+UilSQ5oShxpiE1MNsatFahE/qtQUtYtNDbGJqYhDXcQvKvUmNjXEKoYiTo1axaqGeFKvUsSmhljEUMShoabYlBTxpp7FpoZYBEWcmloFRUxFvGrUk9gUsQg1xKmpIShiqkVMRRpDox7FpoaYQhEXNYUSQ72JChpqF3WIXRFT1BAXdYihHqREQ+1SF7ErYooibuobKaE+iEMRQxRxU6TeRUWlCHUT1C52NcSQGuKiqSEq6iIVi3oQQ+3iUMQQJa6aGkLFVKcY6kFMtYtTEaSIq6aGmIrUIiWm2qQOMdUuTkWQIq6aGmJRU4pULOpBTLWLUw0hRVw1NcShUYtY1IOYahenGkJKvKghDo2aYlW7qE1MtYuLIqTEi5LGpkJNsapd1Cam2sVFEVLipilpLCooUrGqTahNTLWLixoiJW5qkSIWtYlFbUJtYqpdXNQQKXFVm9jUKabahNrEVLu4qCFS4qqGlKB2qSk2NYXaxFS7uKghUuKqppjqVaxqEWoTU+3iooZIiat6kRpCxa6moDYx1S6uikjFTb0LJU6VEtQmptrFVRGpuKkptUot4tSoKdQuptrETRGpuKlDmlrFRaOmUIcYahM3RaTiphapXbxo1BRqkRJDbeKmiFRc1So1BbWKTaOmUItUGtQmbopIxVWdgopNiU1FhdpFo3ZxU0QqrmoVFHFRQUPFog5Rp7gpIhVXdYpNDUGFRokGjTqEWsVNEam4qik2dRUVjRINGnVI7eKmiJS4qEUs6l0aRUwNJfUibopIiYt6E+qURg0xNGqRuoi7IlLioq5iqqs0aoihUavUJhU3NURKnOoUi0pNqRgaRUyNIirqEDc1REpc1CINNQQ1pAgalcbUKKJC7eKmhkiJi7qIRa3SGBqVxtQookJN0bgrQkpc1CJOTS1i1RSxKaEx1BCNuyKkiFMt4tCoKTZNEVOjhKahpjTuipAiTrWIVQU1pLEpYtEoodFQQuOmhpAa4lCr1BBTDWnsKo1Fo8SuROOuCFJDHJoiLmqKxq5pLColFg0VjZsagtQQh6aIQ61C401Ncag07moIoobYNUpQd9F4U1OsmiJeFDFEDXFRh6hdNN7UIlZFvKghhlDEoVHEi8aDWqWxqHhVQwyhhtg1Kt4U8ap28UkNMQVF7BoVRZwqHtQuPqkhpqCIXVNDfKV28UENsQhqiF1N8ZXaxQc1xCKGGmJTU3yldvGshljFUENsaorv1Cae1RCrmGqITRFfqk08qiE2MdUUqyK+VJt4UlNsYlFDbCq+Vqt4UkPsYlVD/INaxYOaYhermuIf1CIe1BCH2NQUf1dTvKspTrGrKf6spnhXU5ziUFP8WQ3xpqa4iFNN8Vc1xKua4ipOtYg/qiFe1BQ3cVGL+Jsa4q6muIurmuJvirirKV7ETU3xJ0Vc1SJexV1N8SclLmoRb+JVDfGtRomLWsS7eFNTfKdR4lSLeBAPaoivNEocaopH8aSG+E6JXS3iWTyqKb5QxKoW8Uk8q0X8qoipVvFRfFCH+EkJdYjP4qM6xWeVOsRP4id1ikd1FT+LX9SraKh38Zv4TX0pfhdfaOoX8ZX4Sv0gvhZ/UK/S+Iv4X8X/6j/OzIuL68bXyAAAAABJRU5ErkJggg==",Is=Object.freeze(Object.defineProperty({__proto__:null,default:ks},Symbol.toStringTag,{value:"Module"})),xs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABsCAAAAABBOrMSAAAFg0lEQVRoBb3BSYKkRgAEMMX/Hx1OloKEWnsOluIX9UX8KL6r79L4RXxWV7GpF+Kr+KhO8UrN4ov4oA7xQZ3io3irHuKr2qXxQbxTu/hN7eK9eK028Qe1i3fipdrE39Qm3ogXahN/V5t4KZ7VKv5NreKVuKtV/KY2cahVvBA3tYrf1CEOtYoncVOLODVeq6s41Cru4qIWMSnxQt3FqRZxF7NaxKyIu3ohJjXETUxqEbNaxKrEql6IiyKu4lSLuKhVLIqgblLEVQ1xEYdaxEXtYqhF6iY1xE0NMYtDDXFVuxjqENRF3NUQk3ioIW7qIYZ6CGoWz4qYxK6GuKlDDLWLoVYp4pUa4hSbWsRNHWKoXQx1ipdqiENsaoibOsVQu6BO8UYRh1jVEDc1iaF2oSbxRg3xEIsa4q4mMdQm1EW8UUPsYlFD3NQshtqk7uKNInYx1BB3NYlFvRXvlNjFUEPc1CQW9V68U8QmqCHuapMSq3ov3qkhVkERd7VJEat6JTXEW0WsgiJuahKb2qROKdJ4q4ZYhCJuapMSD7VJ3cUHRSxCETd1iofapA6pIT6pIYYo4qYm8VCb1FV8VEMMUcRVbVLiVJuoWXxRxBBFXNQmRRxqF6vaxRc1BKkhLuoUp9rEqibxSQ1Birio1EOcahNDXcUnRZAiLpoaUmJWm6B2qU18UAQpYtaoXcxqE/VCvFdDSBGTmsSsNqlX4r0aQkpM6hQXtUu9Eh8UISVONYmL2kRdpVLxXg0hJQ41i4vaRM1SpOKDIqTEoWZxUZuoSYo0PipCShxqFhe1ibqJb4qQEoe6CCo2tYk6pMR3NURKHOoiqFjVLtRFfFVDpMSpZqHEqnZBbVLxixoiJU51ERWb2sSqFmkap8ZrNURKnOoiKja1iaEOsapJ3NUQKTGpWSp2tYmh3osSVzVESkxqiHqIXW2ChvokrmqIlJiUoB7ioVYpUl/ERQ2REs9qF4d6LdSzmNUQKfGsdnEoQh1SH8SkCCnxrHZxqCHqJk1jV6c4FSElntUuDkXqSczqEKcipMST2sWkpFKzuKpTHIqQEk9qF5MijZrEVZ3iUIQUcVe7mNUQahKzhtrFoQgp4q52MStiVZM4NNQuHoogRdzVLi4qNk3NYtNQu3goghRxV5t4ry5i1ahdHIogRdzVJl6rqJugUbs41BCkhripTbxSQt2FRu3iUEOQGuKmdvFCiVqkJtEoKeJUxBBFXNVD7GoXKorUVTRqFacaYoga4qImQVOTKKlZlKBWcSpiETXERZ1SpE6hHmKoIUXUKk41xCIUcVGnoJ6kFrEqUkSt4lRDLEINMatZapW6i4ciGrWKQw2xCoqYNPUsqE1qEVcNtYhTDbEKipg0tUodYlGnaFw0ilScaohVUEOcapd6iF1tQombWsSphtjEUEMcaheVGuJQq1BDHBpqiEkNsYlFEYfahaaGmJQYahEPjSIVhxpiF4sa4lCbUKt4oYZ4aCipONQQD7GoRTzUJihpvFRDUEMoUvFQi3iIVQ3xUJtYVLzRlHioIRUPNcQhNrWITVOL+KJWsapNPNQiDrGpRWxqFV/VJtQiJXa1iFPsahGrpob4rq6iYleLOMVDLWLVVBo/qLvY1SImcahFrGqIX9RV7GoRszjVEJuKHzVNPcSuFnERp1rFX1XULja1iKuY1Cr+qlG7WNUibmJWq/ireohVLeIuLmoRf1abWNQqnsRVLeKvahOLWsSzuKsh/qqGWNQqXogntYg/KrGoVbwSL9QQ/6YW8Vq8UkP8g1rFG/FSLeKPahVvxWu1it/VLt6LN+oQ39VDfBJv1Sk+qkN8FJ/UKV6qSXwTn9VVDA31LL6Kb+pH8YP4QVOfxY/iJ/VB/C7+oG6i8Sfx/4r/13856SmLbWlT4gAAAABJRU5ErkJggg==",Ms=Object.freeze(Object.defineProperty({__proto__:null,default:xs},Symbol.toStringTag,{value:"Module"})),Ns="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABqCAAAAAB4oTsxAAAEb0lEQVRoBb3BC5KDVgIEMPX9D937wGCD+XmS1Erxi3oSP4lH9Zt4FvdqJ3ZqJ57EndqIc/UR9+JareJBreJOXKlV/KAWcSPO1SJ+Vi9xKU7VS/xJzeJKnKiXOFUvcVSzOBdHNYkrtYqDeokzcVCzuFarOKhZnIhvNYk79RHfahZH8aUmcas24qAmcRB7NYlbtRVHNYlvsVWzuFV7caKG+BIbNYlb9S1O1CT2YqOGuFUHcaqG2ImPGuJOnYkzNYmteKshbtRBijhVk9iIVU3iUh2EpnGhJvERixriSp2IBzXERyxqiHN1Kp7UEG/xUkOcqi+hhjQe1BCrmNUQp2onSmoST2qIVcyKOFVboUQRP6ghFjGpIU7VVlQ0flVDLGKoSZyqL/EnNcRLDEVcqK34syJeghriQr3FlxriXg0xC2qIC/UWO7WKOzXEJCjiSn3ERm3EtRpiEhRxpTbirXbiUg0xCUVcqq1Y1Je4VEMMUUNcq42Y1FFcqiGGqCFu1Eeoc3GpiCGKuFe/iCs1BKkh7tUv4koNQWqIe/WLuFQEKeJB/SIuFUGKuFc/iUs1hBRxrw6ivsS1GkKKuFd7oQ7iRhFS4kFtpc7EnSKkxIP6CEWonbhThJS4V6uYNA21E7dqiJS4V4vQ0BhqJ27VEClxqxah4qV24l4NkRK36iVKvNROPKghUuJOLaLES71FxYMaIiXu1CI0ZvUWKp7UEClxpxbRmNVHaDyqIVLiTi2iMamPUPGohkiJO/URQ30EjWc1RCpu1UdQqZf4WQ2Rilv1FtRHKo1f1BCpuFVvUVtR0nhWQ6TEnXpLPYpTRUiJW7WRehYHRUiJW/VPxE4RUuJa/VOxVYSUOKp/L95qCCmxqiH1H4lVEaSIWf2XUmJRBCliUrNQp6KuhfoSiyJIEZP6z8VLDUEUMdSP4q0uhIpFDUEUMdSD2Ksb0VjUEEMUMdSlOFFbsVNiVUMMUUMMdRTXGr8pYhKKGGov/hs1xCTUENRHzIr4l4qYhRpiUkN8FHGqPuJOEbNQkzhRxEcRL7UTV4p4CWqIo6bErBaxqL04V8RLDEUc1CyGeom9WqVxpoZ4iaGG+FIHcVCrNI5qiEUMNYmtSr2kZnGm3uKohljErIi92otT9RHfaohVzGqIj6Z24qi+xJcijVW81BBvTW3FUR3EXg3xFi9NEataBBVn6lvs1BAfsaghVvUSRVyovdiqITZiVUMsmpqkxLXaiY2axEasahKrGlJp3Kit+CjS2Iq3GmLRKClxqz7ioyaxEx81iVmjpMS9eou3msRebNQkJk3N4kkt4q1msRdbNYlJvcSTSk1iVZP4Fjs1iUlN4lnNYlWTOIi9msVQxA9qEquaxFF8qVn8RRGrIo0T8a1m8Q/VLM7EQc3in6iXOBVnahJ/VYs4F6dqiL+pl7gUp2oVP6pVXIoL9RaP6i1uxKVaxb16i1txoz7iXG3Eg7hX31IX4lE8qB/FD+JZPYrfxE/qUvxB/EFtpdH4k/i/iv+r/wEEcJN6pgU6cwAAAABJRU5ErkJggg==",Ks=Object.freeze(Object.defineProperty({__proto__:null,default:Ns},Symbol.toStringTag,{value:"Module"})),Cs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABsCAAAAABBOrMSAAAFa0lEQVRoBb3BR4IjRwADMPD/j6arc5Q0ezEQf1I/xN/Eb/UHafxB/FB3Mamn+Cm+qpN4UyfxQ3xTu/iidvFVfFS7+KlW8U18Uqv4o1rFR/GuVvEPahGfxKtaxD+qRbyLNzWLr2qIm1rEm3iqRXxVq7ioRbyIh5rFd7WLq5rEi7irWfxSu7iqWTzETU3ipPGmdnFTs7iLqxrirMSb2sVdTeImzmoWZ0W8qF081RBXcVaTOKsh3tQmnmoSF3FSk7ioSbyoQzzUJM7iUJO4qlk81Vnc1SRO4lBDXNUinuoqbmoSh9jVEFe1ibu6i5sa4hCbGuKmdnFWL+KmJrGLVQ1xU4c41Lu4qUlsYlGTuKlDLOohahJPRWxiVpO4qZOY1V1qES9qiFXMaoibOolFfRCvahKLmNUQN3USi3oTH9UQi5jUEDdNHWJVZ6khvqghZjEp4q5O4lAX8V0NMYuhhripVUqc1EX8UMQsqCFuapUiDnUVtYkXNcQkqCFuapESh1qEehN3NcQk1BB3NUuJXc1iUg8pcVfEJNQQN3WITU1iVu/iroYYQg1xVYdY1SQm9UXcFDFEDXHVqFWsaohJ7VIPcVPEEDXEVVNDilgVMdQh9SJuiiCKuGrUKlZFDPUQQ+3ipgiiiIs6xKKGGOomVrWLqyKIEle1i0URQz3Eog5xVUNIERd1iEUR1EOs6hBXNYQUcdbUJlZFqFWoTcxqFzc1hBRxUouU2NQuFnWIoXZxV0OkiEOdxKY2sajUJqhD3NUQKWJXJ7GpXUwa6hBqFw81RIrY1UnsapEGFeok1CaeaoiUONRZbJqapFGpQyoNtYmnGiIldnUWk8bQ1Cx1kYqhNvGihkiJQ10EjUl9FEOt4lURKXGoi1AxqY9iqFW8KiIlDnURKmY1C0pqE5NaxLsiUuKkzqJiVbMY6hBDLeKDIlLipM6iYlWzmNQmqE18UERKnNQQNUuJVc1iUS/ikyJS4qyEmqViV5OY1SbUKj4pIiWeahO7mkRFvYlPaoiUeKpN7GqShnoRn9UQKfFUqzjUImqX2sRnNURKPNUqDjWL2qRW8VUNkRJPtYqzukoNafxShBTxUKs4adRd/EURUsRDLeKsoc7S+JMipIiHWsRFU4uoIY1d7eKqhpAiHmoRV7VLkTqLTcVJDSE1xF0t4oNKzeKDxq6GkBrirmbx1CihhrioVdBY1RCkhripRdw0FbP6LjQWNQSpIW5qEZ/UT1ExK2KIGuKqFrErsai/icasiCEUcVWLmFWs6iw1iaGhpM5iqCGGUMRVreKirlKpQyxqE0MNMYQa4qJ2sahdTGoRJ0UMtYihiEmoIS7qENQuhhI1xEOJSRHUEJOghjipReomaBqNIt7VIoYaYhJDESeNGlJnocSmxG81xCyGGuJQi2ioIYaKkxI/NSUWMdQQh1qExq5x0Wj8UkMsYlJD7GoRVFDirvFbEZuYFbGrRXzU0Gj8UEOsYlZDbJqaxEeNisZ3NYlVLGqIVVOT+KrR+KomsYlFTWLRqCG+qWh8U5PYxaqGWDRqiG8qGt/UEIdY1SQWjSK+qfiuSOMQm5rErKHiq0rji5rESexqErOm4rtK44sa4iwONYlZEV9VGh/VJC7ipCYxa/xQaXxSs7iIs5rE31QaH9QsruKsZvEnJT6oIR7iqob4g6bEu5rEQ9zUEL81JV7VJJ7irob4gxIvahYv4qFm8UMRTzWLN/GihvihaTzUIl7Fm5rEv6tFvIt3NYl/U4v4JN7VLP6uNvFRfFKb+K128UV8VCfxTe3iq/imDvGmTtL4IX6ou5jUU/wUv9SrUIdU/EH8Qf0UfxN/U5/F38U/qJto/JP4f8X/6z8dVxuL55I6qgAAAABJRU5ErkJggg==",Ts=Object.freeze(Object.defineProperty({__proto__:null,default:Cs},Symbol.toStringTag,{value:"Module"})),Qs=Object.assign({"/assets/chess_templates/black_bishop.png":as,"/assets/chess_templates/black_cannon.png":fs,"/assets/chess_templates/black_guard.png":gs,"/assets/chess_templates/black_king.png":ds,"/assets/chess_templates/black_knight.png":Es,"/assets/chess_templates/black_pawn.png":ys,"/assets/chess_templates/black_rook.png":Us,"/assets/chess_templates/red_bishop.png":vs,"/assets/chess_templates/red_cannon.png":Vs,"/assets/chess_templates/red_guard.png":Fs,"/assets/chess_templates/red_king.png":Is,"/assets/chess_templates/red_knight.png":Ms,"/assets/chess_templates/red_pawn.png":Ks,"/assets/chess_templates/red_rook.png":Ts});async function Js(){var e;const i={};for(const[o,t]of Object.entries(Qs)){const n=(e=o.split("/").pop())==null?void 0:e.split(".")[0];if(n){const s=new Image;s.src=t.default,await new Promise(c=>{s.onload=c});const l=cv.imread(s),r=new cv.Mat;cv.cvtColor(l,r,cv.COLOR_RGBA2GRAY),i[n]=r,l.delete()}}return i}function As(i,e,o){let t=-1,n="none";const s=[i.cols,i.rows],l=new cv.Mat;i.channels()===4?cv.cvtColor(i,l,cv.COLOR_RGBA2GRAY):i.channels()===3?cv.cvtColor(i,l,cv.COLOR_RGB2GRAY):i.copyTo(l);const r=Object.entries(e).filter(([h,m])=>o==="red"?h.startsWith("red_"):o==="black"?h.startsWith("black_"):!0);for(const[h,m]of r){const a=new cv.Mat;cv.resize(m,a,new cv.Size(s[0],s[1]));const d=new cv.Mat;cv.matchTemplate(l,a,d,cv.TM_CCOEFF_NORMED);const u=cv.minMaxLoc(d);if(u.maxVal>t){t=u.maxVal;const g={king:"k",guard:"a",bishop:"b",knight:"n",rook:"r",cannon:"c",pawn:"p"},p=h.split("_")[1];n=g[p]||"none"}a.delete(),d.delete()}return l.delete(),t>.3?n:"none"}function Ws({onImageUpload:i}){const e=Be(null);return x("section",{className:"upload-section",children:[x("h2",{children:"上传图片"}),x("input",{ref:e,type:"file",onChange:n=>{var l;const s=(l=n.target.files)==null?void 0:l[0];if(s){const r=new FileReader;r.onload=c=>{var m;const h=new Image;h.onload=()=>i(h),h.src=(m=c.target)==null?void 0:m.result},r.readAsDataURL(s)}},accept:"image/*",style:{display:"none"}}),x("button",{onClick:()=>{var n;(n=e.current)==null||n.click()},children:"选择图片"})]})}const js=360;function Ys({overlayImageSrc:i,chessboardRect:e={x:0,y:0,width:0,height:0},originalImageSize:o={width:0,height:0}}){const n=Math.max(0,e.x-15),s=Math.max(0,e.y-15),l=Math.min(o.width-n,e.width+2*15),r=Math.min(o.height-s,e.height+2*15),c=Math.min(1,js/Math.max(l,r)),h=o.width/l,m=l*c,a=r*c,d=m*h,u=(m-d)/2;return x("section",{className:"board-result-section",children:[x("h2",{children:"分析结果"}),x("div",{className:"image-container",style:{width:`${m}px`,paddingBottom:`${a}px`},children:x("img",{src:i,alt:"分析结果",className:"overlay-image",style:{left:`${u}px`,width:`${d}px`,height:`${o.height*c}px`,marginTop:`${-s*c}px`}})})]})}function Gs({fenCode:i,onCopy:e}){return x("div",{className:"fen-section",children:[x("h2",{children:"FEN代码"}),x("div",{className:"fen-container",children:[x("input",{type:"text",value:i,readOnly:!0}),x("button",{onClick:e,children:"复制"})]})]})}const Ls="/xiangqi-analysis/assets/LiSu-BT8uMcwJ.woff2",Me={k:"将",a:"士",b:"象",n:"馬",r:"車",c:"砲",p:"卒",K:"帥",A:"仕",B:"相",N:"傌",R:"俥",C:"炮",P:"兵"};function Os({fen:i,bestMove:e}){const[o,t]=Z([]),n=Be(null),[s,l]=Z(1),[r,c]=Z(!1);it(()=>{const d=new FontFace("LiSu",`url(${Ls})`);d.load().then(()=>(document.fonts.add(d),document.fonts.ready)).then(()=>{c(!0)}).catch(u=>console.error("Failed to load font:",u))},[]),it(()=>{const d=h(i);t(d)},[i]),it(()=>{n.current&&r&&(m(),e&&a(e))},[o,e,r]),it(()=>{function d(){if(n.current){const g=window.innerWidth*.8,p=8*40+40,_=Math.min(1,g/p);l(_)}}return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);function h(d){const u=d.split(" ")[0].split("/"),g=[];for(let p of u){const _=[];for(let f of p)if(isNaN(parseInt(f))){const E=f===f.toUpperCase()?"red":"black",U=f.toLowerCase();_.push({color:E,type:U})}else{const E=parseInt(f);for(let U=0;U<E;U++)_.push(null)}g.push(_)}return g}function m(){const d=n.current;if(!d)return;const u=d.getContext("2d");if(!u)return;const g=40,p=g/2,_=8*g+2*p,f=9*g+2*p,E=window.devicePixelRatio;d.width=_*s*E,d.height=f*s*E,d.style.width=`${_*s}px`,d.style.height=`${f*s}px`,u.scale(E*s,E*s),u.fillStyle="#f0d9b5",u.fillRect(0,0,d.width,d.height),u.strokeStyle="#000",u.lineWidth=1;for(let S=0;S<=9;S++)u.beginPath(),u.moveTo(p,S*g+p),u.lineTo(_-p,S*g+p),u.stroke();for(let S=0;S<=8;S++)u.beginPath(),u.moveTo(S*g+p,p),u.lineTo(S*g+p,4*g+p),u.stroke(),u.beginPath(),u.moveTo(S*g+p,5*g+p),u.lineTo(S*g+p,f-p),u.stroke();u.beginPath(),u.moveTo(p,4*g+p),u.lineTo(p,5*g+p),u.stroke(),u.beginPath(),u.moveTo(_-p,4*g+p),u.lineTo(_-p,5*g+p),u.stroke(),u.font='20px "LiSu", sans-serif',u.fillStyle="rgba(0, 0, 0, 0.3)",u.textAlign="center",u.textBaseline="middle",u.fillText("楚  河",2*g+p,4.6*g+p),u.fillText("汉  界",6*g+p,4.6*g+p),u.beginPath(),u.moveTo(3*g+p,p),u.lineTo(5*g+p,2*g+p),u.moveTo(5*g+p,p),u.lineTo(3*g+p,2*g+p),u.moveTo(3*g+p,7*g+p),u.lineTo(5*g+p,9*g+p),u.moveTo(5*g+p,7*g+p),u.lineTo(3*g+p,9*g+p),u.stroke();function U(S,F,b=!1){if(!u)return;const V=g*.15,I=-g*.23;u.strokeStyle="rgba(0, 0, 0, 0.4)",u.lineWidth=1,(!b||S<_/2)&&(u.beginPath(),u.moveTo(S-V-I,F-I),u.lineTo(S-V-I,F-V-I),u.lineTo(S-I,F-V-I),u.stroke(),u.beginPath(),u.moveTo(S-V-I,F+I),u.lineTo(S-V-I,F+V+I),u.lineTo(S-I,F+V+I),u.stroke()),(!b||S>_/2)&&(u.beginPath(),u.moveTo(S+V+I,F-I),u.lineTo(S+V+I,F-V-I),u.lineTo(S+I,F-V-I),u.stroke(),u.beginPath(),u.moveTo(S+V+I,F+I),u.lineTo(S+V+I,F+V+I),u.lineTo(S+I,F+V+I),u.stroke())}U(1*g+p,2*g+p),U(7*g+p,2*g+p),U(1*g+p,7*g+p),U(7*g+p,7*g+p);for(let S=0;S<5;S++){const F=S===0||S===4;U(2*S*g+p,3*g+p,F),U(2*S*g+p,6*g+p,F)}u.font="11px Arial",u.textAlign="center",u.textBaseline="middle",u.fillStyle="rgba(0, 0, 0, 0.4)";const v=["一","二","三","四","五","六","七","八","九"];for(let S=0;S<9;S++)u.fillText(v[S],(8-S)*g+p,f-p/2);for(let S=0;S<9;S++)u.fillText((9-S).toString(),(8-S)*g+p,p/2);o.forEach((S,F)=>{S.forEach((b,V)=>{if(b){const I=V*g+p,w=F*g+p,y=g*.4;u.beginPath(),u.arc(I+2,w+2,y,0,Math.PI*2),u.fillStyle="rgba(0, 0, 0, 0.3)",u.fill(),u.beginPath(),u.arc(I,w,y,0,Math.PI*2),u.fillStyle=b.color==="red"?"#ffcccc":"#e0e0e0",u.fill(),u.strokeStyle=b.color==="red"?"#c00000":"#000000",u.lineWidth=2,u.stroke(),u.fillStyle=b.color==="red"?"#c00000":"#000000",u.font='bold 22px "LiSu", sans-serif';const R=b.type.toUpperCase(),q=b.color==="red"?Me[R]:Me[R.toLowerCase()];u.save(),u.setTransform(1*E*s,0,0,1.25*E*s,I*E*s,w*E*s),u.textAlign="center",u.textBaseline="middle",u.fillText(q,y*.05,y*.2),u.restore()}})})}function a(d){const u=n.current;if(!u)return;const g=u.getContext("2d");if(!g)return;const p=40,_=p/2,[f,E]=d.match(/.{2}/g)||[];if(!f||!E)return;const U=f.charCodeAt(0)-97,v=9-parseInt(f[1]),S=E.charCodeAt(0)-97,F=9-parseInt(E[1]),b=U*p+_,V=v*p+_,I=S*p+_,w=F*p+_;g.beginPath(),g.moveTo(b,V),g.lineTo(I,w),g.strokeStyle="rgba(0, 0, 255, 0.7)",g.lineWidth=3,g.stroke();const y=Math.atan2(w-V,I-b);g.beginPath(),g.moveTo(I,w),g.lineTo(I-15*Math.cos(y-Math.PI/6),w-15*Math.sin(y-Math.PI/6)),g.lineTo(I-15*Math.cos(y+Math.PI/6),w-15*Math.sin(y+Math.PI/6)),g.closePath(),g.fillStyle="rgba(0, 0, 255, 0.7)",g.fill()}return x("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:x("canvas",{ref:n,className:"chessboard",style:{maxWidth:"80vw",height:"auto"}})})}function Bs(i,e){const[o,t]=i.trim().split(/\s+/),n=o.split("/");if(n.length!==10)throw new Error("无效的 FEN：行数不正确");const s=[];for(const v of n){const S=[];for(const F of v)if(F>="1"&&F<="9"){const b=parseInt(F,10);for(let V=0;V<b;V++)S.push(null)}else S.push(F);if(S.length!==9)throw new Error("无效的 FEN：某一行的列数不正确");s.push(S)}if(e.length!==4)throw new Error("无效的走棋格式");const l="abcdefghi",r=e.charAt(0),c=e.charAt(1),h=e.charAt(2),m=e.charAt(3),a=l.indexOf(r),d=9-parseInt(c,10),u=l.indexOf(h),g=9-parseInt(m,10);if(a===-1||u===-1||isNaN(d)||isNaN(g))throw new Error("无效的走棋格式");const p=s[d][a];if(!p)throw console.error("fen:",i),console.error("move:",e),new Error("起始位置没有棋子");s[g][u]=p,s[d][a]=null;const _=t==="w"?"b":"w";return`${s.map(v=>{let S="",F=0;for(const b of v)b?(F>0&&(S+=F.toString(),F=0),S+=b):F+=1;return F>0&&(S+=F.toString()),S}).join("/")} ${_} - - 0 1`}function Ne(i,e){const o={K:"帅",A:"仕",B:"相",N:"马",R:"车",C:"炮",P:"兵",k:"将",a:"士",b:"象",n:"马",r:"车",c:"炮",p:"卒"},t="abcdefghi",n=["零","一","二","三","四","五","六","七","八","九"],[s]=i.trim().split(/\s+/),l=s.split("/"),r=[];for(const E of l){const U=[];for(const v of E)if(v>="1"&&v<="9"){const S=parseInt(v,10);for(let F=0;F<S;F++)U.push(null)}else U.push(v);r.push(U)}const c=t.indexOf(e.charAt(0)),h=9-parseInt(e.charAt(1),10),m=t.indexOf(e.charAt(2)),a=9-parseInt(e.charAt(3),10),d=r[h][c];if(!d)throw console.error("fen:",i),console.error("move:",e),new Error("起始位置没有棋子");const u=d>="A"&&d<="Z",g=o[d],p=u?n[9-c]:` ${c+1} `;let _="",f="";return c===m?(_=u?h>a?"进":"退":h<a?"进":"退",f=u?n[Math.abs(h-a)]:` ${Math.abs(h-a)} `):(_="平",f=u?n[9-m]:` ${m+1} `),(g==="马"||g==="象"||g==="相"||g==="仕"||g==="士")&&(_=u?h>a?"进":"退":h<a?"进":"退",f=u?n[9-m]:` ${m+1} `),`${g}${p}${_}${f}`}function Ds({bestMove:i,isCalculating:e,error:o,onNextMove:t,onPreviousMove:n,moveHistory:s,fenCode:l,fenHistory:r}){const c=s.length%2===0?"红方":"黑方",h=s.length+1,m=s.map((u,g)=>{const p=r[g],_=Ne(p,u);return x("span",{className:"move-item",children:_},g)}),a=i==="red_wins"||i==="black_wins",d=i==="red_wins"?"红方胜":i==="black_wins"?"黑方胜":"";return x("div",{className:"solution-section",children:[x("h2",{children:"解法展示"}),x("div",{className:"chessboard-display",children:x(Os,{fen:l,bestMove:a?"":i})}),x("div",{className:"solution-controls",children:[x("button",{onClick:n,disabled:s.length===0,children:"上一步"}),x("button",{onClick:t,disabled:e||!i||a,children:"下一步"})]}),x("div",{className:"solution-debug",children:[e&&x("p",{children:"正在计算最佳走法..."}),o&&x("p",{style:{color:"red"},children:o}),!a&&i&&x("p",{children:[c,"最佳走法：",Ne(l,i)," （第 ",h," ","步）"]}),a&&x("p",{style:{fontWeight:"bold",color:"green"},children:d})]}),x("div",{className:"move-list",children:m})]})}function zs(i,e){return{k:e==="red"?"K":"k",a:e==="red"?"A":"a",b:e==="red"?"B":"b",n:e==="red"?"N":"n",r:e==="red"?"R":"r",c:e==="red"?"C":"c",p:e==="red"?"P":"p",none:""}[i]}function Xs(i,e="red"){const o=[];for(const l of i){let r=0,c="";for(const h of l)if(h==="none")r++;else{r>0&&(c+=r.toString(),r=0);const[m,a]=h.split("_");c+=zs(a,m)}r>0&&(c+=r.toString()),o.push(c),console.log(`FEN row: ${c}`)}const s=`${o.join("/")} ${e==="red"?"w":"b"} - - 0 1`;return console.log(`Generated FEN: ${s}`),s}function Ps(){const[i,e]=Z(null),[o,t]=Z(!0),n=async()=>{console.log("OpenCV.js is ready");try{const s=await Js();if(Object.keys(s).length===0){console.error("No templates were successfully loaded");return}e(s)}catch(s){console.error("Error loading templates:",s)}finally{t(!1)}};return it(()=>{let s;return(async()=>{typeof cv<"u"?(await new Promise(r=>{cv.onRuntimeInitialized=r}),await n()):(document.addEventListener("opencv-loaded",n),s=setInterval(()=>{!o&&typeof cv<"u"&&(clearInterval(s),n())},500))})(),()=>{document.removeEventListener("opencv-loaded",n),clearInterval(s)}},[]),{templates:i,isLoading:o}}const Zs="modulepreload",Hs=function(i){return"/xiangqi-analysis/"+i},Ke={},$s=function(e,o,t){let n=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),r=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=Promise.allSettled(o.map(c=>{if(c=Hs(c),c in Ke)return;Ke[c]=!0;const h=c.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const a=document.createElement("link");if(a.rel=h?"stylesheet":Zs,h||(a.as="script"),a.crossOrigin="",a.href=c,r&&a.setAttribute("nonce",r),document.head.appendChild(a),h)return new Promise((d,u)=>{a.addEventListener("load",d),a.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(l){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=l,window.dispatchEvent(r),!r.defaultPrevented)throw l}return n.then(l=>{for(const r of l||[])r.status==="rejected"&&s(r.reason);return e().catch(s)})};class ti{constructor(){this.engineReady=!1,this.currentResolve=null}async initEngine(){if(!this.engineReady)try{const e=await $s(()=>import("./pikafish-ZteQ764f.js"),[]),o=e.default||e;window.Pikafish=o,this.engineInstance=await o({locateFile:t=>t==="pikafish.data"?`https://xiangqiai.com/wasm/data/${t}`:`https://xiangqiai.com/wasm/single/${t}`}),await this.engineInstance.ready,this.engineInstance.read_stdout=t=>{console.log("> ",t);const n=t.match(/bestmove\s(\S+)/);n&&this.currentResolve&&(this.currentResolve(n[1]),this.currentResolve=null)},this.engineInstance.send_command("uci"),this.engineReady=!0}catch(e){console.error("Failed to initialize Pikafish:",e)}}async getBestMove(e,o=14){if(!this.engineReady)throw new Error("Engine is not ready");return new Promise((t,n)=>{try{this.currentResolve=s=>{if(s==="(none)"){const r=e.split(" ")[1];t(r==="b"?"red_wins":"black_wins")}else t(s)},this.engineInstance.send_command(`position fen ${e}`),this.engineInstance.send_command(`go depth ${o}`),setTimeout(()=>{this.currentResolve&&(n(new Error("Engine timeout")),this.currentResolve=null)},5e3)}catch(s){n(s)}})}}function ei(){const[i,e]=Z(null),[o,t]=Z(""),[n,s]=Z(!1),[l,r]=Z(null),[c,h]=Z(!1);it(()=>{(async()=>{const d=new ti;await d.initEngine(),e(d),h(!0)})()},[]);const m=Vo(async(a,d)=>{if(i){s(!0),r(null);try{const u=await i.getBestMove(a,d);if(t(u),u==="red_wins"||u==="black_wins"){s(!1);return}}catch(u){r(`Error: ${u.message}`)}finally{s(!1)}}},[i]);return{engine:i,bestMove:o,isCalculating:n,error:l,fetchBestMove:m,setBestMove:t,isEngineReady:c}}function oi(){const i=Number(localStorage.getItem("depth"))||14,[e,o]=Z(i);return it(()=>{localStorage.setItem("depth",e.toString())},[e]),{depth:e,setDepth:o}}const ni=({depth:i,onDepthChange:e})=>x("div",{className:"depth-control-section",children:[x("h2",{children:"搜索深度控制"}),x("div",{className:"depth-slider-container",children:[x("label",{htmlFor:"depth-slider",children:["当前深度: ",i]}),x("input",{id:"depth-slider",type:"range",min:"10",max:"30",value:i,onChange:o=>{o.target instanceof HTMLInputElement&&e(Number(o.target.value))}})]})]}),si=`<h3>2024-10-08</h3>
<ul>
<li>增加 更新日志 显示</li>
<li>棋盘显示优化
<ul>
<li>棋子字体使用隶书</li>
<li>提升高清屏渲染质量</li>
</ul>
</li>
</ul>
<h3>2024-10-07</h3>
<ul>
<li>优化 <strong>OpenCV.js</strong> 库加载、使用 <code>cdn.jsdmirror.com</code> 替换 <code>jsdelivr.net</code></li>
<li><strong>Pikafish</strong> 使用 <code>xiangqiai.com</code> 的 wasm 版本</li>
<li>优化黑棋子识别</li>
<li>新增欢迎提示和加载界面</li>
</ul>
`,ii=()=>{const[i,e]=Z(!1);return x("div",{className:"changelog",children:[x("h3",{onClick:()=>{e(!i)},className:"changelog-title",children:[x("span",{className:"changelog-arrow",children:i?"▼":"▶"}),"更新日志"]}),i&&x("div",{className:"changelog-content markdown-content",dangerouslySetInnerHTML:{__html:si}})]})},Ce="bd1655b1";function ri(){const[i,e]=Z(!1);it(()=>{const t=localStorage.getItem("lastSeenVersion");(!(localStorage.getItem("skipFutureModals")==="true")||t!==Ce)&&e(!0)},[]);const o=t=>{e(!1),localStorage.setItem("lastSeenVersion",Ce),t?localStorage.setItem("skipFutureModals","true"):localStorage.removeItem("skipFutureModals")};return i?x("div",{className:"modal-overlay",children:x("dialog",{open:!0,className:"welcome-modal",children:x("div",{className:"welcome-modal-content",children:[x("h2",{children:"欢迎使用"}),x("p",{children:"该应用正在开发完善中"}),x("p",{children:"目前在 JJ象棋 残局截图上进行了测试"}),x("p",{children:"请注意：需要在设置中关闭行棋提示"}),x(ii,{}),x("div",{className:"button-group",children:[x("button",{onClick:()=>o(!1),className:"primary-button",children:"我知道了"}),x("button",{onClick:()=>o(!0),className:"secondary-button",children:"不再提示"})]})]})})}):null}const li=()=>x("div",{className:"spinner"});function ci(){const[i,e]=Z(""),[o,t]=Z(""),[n,s]=Z([]),[l,r]=Z([]),[c,h]=Z(),[m,a]=Z(),{templates:d,isLoading:u}=Ps(),{bestMove:g,isCalculating:p,error:_,fetchBestMove:f,setBestMove:E,isEngineReady:U}=ei(),{depth:v,setDepth:S}=oi(),F=u||!U;it(()=>{o&&f(o,v)},[o,v,f]);const b=()=>{navigator.clipboard.writeText(o)},V=()=>{if(!g||g==="red_wins"||g==="black_wins")return;const R=Bs(o,g);t(R),s(q=>[...q,R]),r(q=>[...q,g]),E("")},I=()=>{if(n.length>1){const R=n.slice(0,-1),q=l.slice(0,-1),Q=R[R.length-1];s(R),r(q),t(Q),E("")}},w=R=>{if(u||!d)return;a({width:R.width,height:R.height});const{gridCells:q,chessboardRect:Q}=Hn(R),J={x:Math.max(0,Q.x),y:Math.max(0,Q.y),width:Math.min(Q.width,R.width-Q.x),height:Math.min(Q.height,R.height-Q.y)};h(J);const A=[];for(let C=0;C<q.length;C++){const L=q[C];if(ts(L)){const N=es(L);if(N!=="unknown"){const G=Math.floor(C/9),O=C%9;let P="none";const B=os(L,N),qt=cv.matFromImageData(B);P=As(qt,d,N),qt.delete(),A.push({position:[G,O],color:N,type:P})}}}const W=ls(R,J,A);e(W.toDataURL());const M=Array(10).fill(null).map(()=>Array(9).fill("none"));A.forEach(C=>{const[L,X]=C.position;C.type!==null&&(M[L][X]=`${C.color}_${C.type}`)});const j=Xs(M,"red");t(j),s([j])},y=R=>{s([]),r([]),E(""),w(R)};return F?x("div",{className:"loading-overlay",children:[x(li,{}),x("p",{children:"正在加载必要组件，请稍候..."}),x("p",{children:"如果加载时间过长，请刷新页面重试。"})]}):x(Ut,{children:[x("header",{children:x("h1",{children:"象棋棋盘识别与分析"})}),x("main",{className:"app-container",children:[x(ri,{}),x("div",{className:"content-wrapper",children:[x("div",{className:"left-column",children:x(Ds,{bestMove:g,isCalculating:p,error:_,onNextMove:V,onPreviousMove:I,moveHistory:l,fenCode:o,fenHistory:n})}),x("div",{className:"right-column",children:[x(Ws,{onImageUpload:y}),x(Ys,{overlayImageSrc:i,chessboardRect:c,originalImageSize:m}),x(Gs,{fenCode:o,onCopy:b}),x(ni,{depth:v,onDepthChange:S})]})]})]}),x("footer",{children:x("p",{children:["© 2024 象棋棋盘识别与分析系统 | Powered by ",x("a",{href:"https://github.com/official-pikafish/Pikafish",children:"Pikafish"})," | ",x("a",{href:"https://github.com/iFwu/xiangqi-analysis",children:"GitHub 源码仓库"})]})})]})}qo(x(ci,{}),document.getElementById("app"));
