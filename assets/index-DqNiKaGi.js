var sl=Object.defineProperty;var Qo=e=>{throw TypeError(e)};var nl=(e,t,o)=>t in e?sl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var Ms=(e,t,o)=>nl(e,typeof t!="symbol"?t+"":t,o),Jn=(e,t,o)=>t.has(e)||Qo("Cannot "+o);var Tt=(e,t,o)=>(Jn(e,t,"read from private field"),o?o.call(e):t.get(e)),Qn=(e,t,o)=>t.has(e)?Qo("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,o),ln=(e,t,o,l)=>(Jn(e,t,"write to private field"),l?l.call(e,o):t.set(e,o),o),Ln=(e,t,o)=>(Jn(e,t,"access private method"),o);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const a of c)if(a.type==="childList")for(const f of a.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function o(c){const a={};return c.integrity&&(a.integrity=c.integrity),c.referrerPolicy&&(a.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?a.credentials="include":c.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(c){if(c.ep)return;c.ep=!0;const a=o(c);fetch(c.href,a)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Eo(e){const t=Object.create(null);for(const o of e.split(","))t[o]=1;return o=>o in t}const Te={},_s=[],Pt=()=>{},ol=()=>!1,_n=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),yo=e=>e.startsWith("onUpdate:"),et=Object.assign,vo=(e,t)=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)},il=Object.prototype.hasOwnProperty,qe=(e,t)=>il.call(e,t),pe=Array.isArray,Is=e=>In(e)==="[object Map]",Mi=e=>In(e)==="[object Set]",me=e=>typeof e=="function",Be=e=>typeof e=="string",ls=e=>typeof e=="symbol",Qe=e=>e!==null&&typeof e=="object",xi=e=>(Qe(e)||me(e))&&me(e.then)&&me(e.catch),Ti=Object.prototype.toString,In=e=>Ti.call(e),rl=e=>In(e).slice(8,-1),Ci=e=>In(e)==="[object Object]",So=e=>Be(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ks=Eo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qn=e=>{const t=Object.create(null);return o=>t[o]||(t[o]=e(o))},ll=/-(\w)/g,rs=qn(e=>e.replace(ll,(t,o)=>o?o.toUpperCase():"")),cl=/\B([A-Z])/g,ys=qn(e=>e.replace(cl,"-$1").toLowerCase()),ki=qn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Pn=qn(e=>e?`on${ki(e)}`:""),is=(e,t)=>!Object.is(e,t),dn=(e,...t)=>{for(let o=0;o<e.length;o++)e[o](...t)},Ni=(e,t,o,l=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:l,value:o})},no=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Lo;const Fn=()=>Lo||(Lo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ls(e){if(pe(e)){const t={};for(let o=0;o<e.length;o++){const l=e[o],c=Be(l)?hl(l):Ls(l);if(c)for(const a in c)t[a]=c[a]}return t}else if(Be(e)||Qe(e))return e}const ul=/;(?![^(]*\))/g,al=/:([^]+)/,fl=/\/\*[^]*?\*\//g;function hl(e){const t={};return e.replace(fl,"").split(ul).forEach(o=>{if(o){const l=o.split(al);l.length>1&&(t[l[0].trim()]=l[1].trim())}}),t}function bo(e){let t="";if(Be(e))t=e;else if(pe(e))for(let o=0;o<e.length;o++){const l=bo(e[o]);l&&(t+=l+" ")}else if(Qe(e))for(const o in e)e[o]&&(t+=o+" ");return t.trim()}const dl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gl=Eo(dl);function Ai(e){return!!e||e===""}const Ki=e=>!!(e&&e.__v_isRef===!0),Qt=e=>Be(e)?e:e==null?"":pe(e)||Qe(e)&&(e.toString===Ti||!me(e.toString))?Ki(e)?Qt(e.value):JSON.stringify(e,Oi,2):String(e),Oi=(e,t)=>Ki(t)?Oi(e,t.value):Is(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((o,[l,c],a)=>(o[Wn(l,a)+" =>"]=c,o),{})}:Mi(t)?{[`Set(${t.size})`]:[...t.values()].map(o=>Wn(o))}:ls(t)?Wn(t):Qe(t)&&!pe(t)&&!Ci(t)?String(t):t,Wn=(e,t="")=>{var o;return ls(e)?`Symbol(${(o=e.description)!=null?o:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gt;class ji{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=gt,!t&&gt&&(this.index=(gt.scopes||(gt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,o;if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].pause();for(t=0,o=this.effects.length;t<o;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,o;if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].resume();for(t=0,o=this.effects.length;t<o;t++)this.effects[t].resume()}}run(t){if(this._active){const o=gt;try{return gt=this,t()}finally{gt=o}}}on(){gt=this}off(){gt=this.parent}stop(t){if(this._active){this._active=!1;let o,l;for(o=0,l=this.effects.length;o<l;o++)this.effects[o].stop();for(this.effects.length=0,o=0,l=this.cleanups.length;o<l;o++)this.cleanups[o]();if(this.cleanups.length=0,this.scopes){for(o=0,l=this.scopes.length;o<l;o++)this.scopes[o].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const c=this.parent.scopes.pop();c&&c!==this&&(this.parent.scopes[this.index]=c,c.index=this.index)}this.parent=void 0}}}function Ji(e){return new ji(e)}function Qi(){return gt}function pl(e,t=!1){gt&&gt.cleanups.push(e)}let ke;const Dn=new WeakSet;class Li{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,gt&&gt.active&&gt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Dn.has(this)&&(Dn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Wi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Po(this),Di(this);const t=ke,o=kt;ke=this,kt=!0;try{return this.fn()}finally{Yi(this),ke=t,kt=o,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)_o(t);this.deps=this.depsTail=void 0,Po(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Dn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){oo(this)&&this.run()}get dirty(){return oo(this)}}let Pi=0,Ns,As;function Wi(e,t=!1){if(e.flags|=8,t){e.next=As,As=e;return}e.next=Ns,Ns=e}function Ro(){Pi++}function Uo(){if(--Pi>0)return;if(As){let t=As;for(As=void 0;t;){const o=t.next;t.next=void 0,t.flags&=-9,t=o}}let e;for(;Ns;){let t=Ns;for(Ns=void 0;t;){const o=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(l){e||(e=l)}t=o}}if(e)throw e}function Di(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Yi(e){let t,o=e.depsTail,l=o;for(;l;){const c=l.prevDep;l.version===-1?(l===o&&(o=c),_o(l),ml(l)):t=l,l.dep.activeLink=l.prevActiveLink,l.prevActiveLink=void 0,l=c}e.deps=t,e.depsTail=o}function oo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Gi(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Gi(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ps))return;e.globalVersion=Ps;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!oo(e)){e.flags&=-3;return}const o=ke,l=kt;ke=e,kt=!0;try{Di(e);const c=e.fn(e._value);(t.version===0||is(c,e._value))&&(e._value=c,t.version++)}catch(c){throw t.version++,c}finally{ke=o,kt=l,Yi(e),e.flags&=-3}}function _o(e,t=!1){const{dep:o,prevSub:l,nextSub:c}=e;if(l&&(l.nextSub=c,e.prevSub=void 0),c&&(c.prevSub=l,e.nextSub=void 0),o.subs===e&&(o.subs=l,!l&&o.computed)){o.computed.flags&=-5;for(let a=o.computed.deps;a;a=a.nextDep)_o(a,!0)}!t&&!--o.sc&&o.map&&o.map.delete(o.key)}function ml(e){const{prevDep:t,nextDep:o}=e;t&&(t.nextDep=o,e.prevDep=void 0),o&&(o.prevDep=t,e.nextDep=void 0)}let kt=!0;const Bi=[];function cs(){Bi.push(kt),kt=!1}function us(){const e=Bi.pop();kt=e===void 0?!0:e}function Po(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const o=ke;ke=void 0;try{t()}finally{ke=o}}}let Ps=0;class wl{constructor(t,o){this.sub=t,this.dep=o,this.version=o.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Io{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ke||!kt||ke===this.computed)return;let o=this.activeLink;if(o===void 0||o.sub!==ke)o=this.activeLink=new wl(ke,this),ke.deps?(o.prevDep=ke.depsTail,ke.depsTail.nextDep=o,ke.depsTail=o):ke.deps=ke.depsTail=o,Xi(o);else if(o.version===-1&&(o.version=this.version,o.nextDep)){const l=o.nextDep;l.prevDep=o.prevDep,o.prevDep&&(o.prevDep.nextDep=l),o.prevDep=ke.depsTail,o.nextDep=void 0,ke.depsTail.nextDep=o,ke.depsTail=o,ke.deps===o&&(ke.deps=l)}return o}trigger(t){this.version++,Ps++,this.notify(t)}notify(t){Ro();try{for(let o=this.subs;o;o=o.prevSub)o.sub.notify()&&o.sub.dep.notify()}finally{Uo()}}}function Xi(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let l=t.deps;l;l=l.nextDep)Xi(l)}const o=e.dep.subs;o!==e&&(e.prevSub=o,o&&(o.nextSub=e)),e.dep.subs=e}}const mn=new WeakMap,gs=Symbol(""),io=Symbol(""),Ws=Symbol("");function rt(e,t,o){if(kt&&ke){let l=mn.get(e);l||mn.set(e,l=new Map);let c=l.get(o);c||(l.set(o,c=new Io),c.map=l,c.key=o),c.track()}}function zt(e,t,o,l,c,a){const f=mn.get(e);if(!f){Ps++;return}const h=g=>{g&&g.trigger()};if(Ro(),t==="clear")f.forEach(h);else{const g=pe(e),y=g&&So(o);if(g&&o==="length"){const v=Number(l);f.forEach((S,F)=>{(F==="length"||F===Ws||!ls(F)&&F>=v)&&h(S)})}else switch((o!==void 0||f.has(void 0))&&h(f.get(o)),y&&h(f.get(Ws)),t){case"add":g?y&&h(f.get("length")):(h(f.get(gs)),Is(e)&&h(f.get(io)));break;case"delete":g||(h(f.get(gs)),Is(e)&&h(f.get(io)));break;case"set":Is(e)&&h(f.get(gs));break}}Uo()}function El(e,t){const o=mn.get(e);return o&&o.get(t)}function vs(e){const t=Re(e);return t===e?t:(rt(t,"iterate",Ws),Ft(e)?t:t.map(lt))}function Vn(e){return rt(e=Re(e),"iterate",Ws),e}const yl={__proto__:null,[Symbol.iterator](){return Yn(this,Symbol.iterator,lt)},concat(...e){return vs(this).concat(...e.map(t=>pe(t)?vs(t):t))},entries(){return Yn(this,"entries",e=>(e[1]=lt(e[1]),e))},every(e,t){return Bt(this,"every",e,t,void 0,arguments)},filter(e,t){return Bt(this,"filter",e,t,o=>o.map(lt),arguments)},find(e,t){return Bt(this,"find",e,t,lt,arguments)},findIndex(e,t){return Bt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Bt(this,"findLast",e,t,lt,arguments)},findLastIndex(e,t){return Bt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Bt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Gn(this,"includes",e)},indexOf(...e){return Gn(this,"indexOf",e)},join(e){return vs(this).join(e)},lastIndexOf(...e){return Gn(this,"lastIndexOf",e)},map(e,t){return Bt(this,"map",e,t,void 0,arguments)},pop(){return xs(this,"pop")},push(...e){return xs(this,"push",e)},reduce(e,...t){return Wo(this,"reduce",e,t)},reduceRight(e,...t){return Wo(this,"reduceRight",e,t)},shift(){return xs(this,"shift")},some(e,t){return Bt(this,"some",e,t,void 0,arguments)},splice(...e){return xs(this,"splice",e)},toReversed(){return vs(this).toReversed()},toSorted(e){return vs(this).toSorted(e)},toSpliced(...e){return vs(this).toSpliced(...e)},unshift(...e){return xs(this,"unshift",e)},values(){return Yn(this,"values",lt)}};function Yn(e,t,o){const l=Vn(e),c=l[t]();return l!==e&&!Ft(e)&&(c._next=c.next,c.next=()=>{const a=c._next();return a.value&&(a.value=o(a.value)),a}),c}const vl=Array.prototype;function Bt(e,t,o,l,c,a){const f=Vn(e),h=f!==e&&!Ft(e),g=f[t];if(g!==vl[t]){const S=g.apply(e,a);return h?lt(S):S}let y=o;f!==e&&(h?y=function(S,F){return o.call(this,lt(S),F,e)}:o.length>2&&(y=function(S,F){return o.call(this,S,F,e)}));const v=g.call(f,y,l);return h&&c?c(v):v}function Wo(e,t,o,l){const c=Vn(e);let a=o;return c!==e&&(Ft(e)?o.length>3&&(a=function(f,h,g){return o.call(this,f,h,g,e)}):a=function(f,h,g){return o.call(this,f,lt(h),g,e)}),c[t](a,...l)}function Gn(e,t,o){const l=Re(e);rt(l,"iterate",Ws);const c=l[t](...o);return(c===-1||c===!1)&&Vo(o[0])?(o[0]=Re(o[0]),l[t](...o)):c}function xs(e,t,o=[]){cs(),Ro();const l=Re(e)[t].apply(e,o);return Uo(),us(),l}const Sl=Eo("__proto__,__v_isRef,__isVue"),zi=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ls));function bl(e){ls(e)||(e=String(e));const t=Re(this);return rt(t,"has",e),t.hasOwnProperty(e)}class Zi{constructor(t=!1,o=!1){this._isReadonly=t,this._isShallow=o}get(t,o,l){if(o==="__v_skip")return t.__v_skip;const c=this._isReadonly,a=this._isShallow;if(o==="__v_isReactive")return!c;if(o==="__v_isReadonly")return c;if(o==="__v_isShallow")return a;if(o==="__v_raw")return l===(c?a?Tl:tr:a?er:$i).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(l)?t:void 0;const f=pe(t);if(!c){let g;if(f&&(g=yl[o]))return g;if(o==="hasOwnProperty")return bl}const h=Reflect.get(t,o,Je(t)?t:l);return(ls(o)?zi.has(o):Sl(o))||(c||rt(t,"get",o),a)?h:Je(h)?f&&So(o)?h:h.value:Qe(h)?c?sr(h):Mn(h):h}}class Hi extends Zi{constructor(t=!1){super(!1,t)}set(t,o,l,c){let a=t[o];if(!this._isShallow){const g=ws(a);if(!Ft(l)&&!ws(l)&&(a=Re(a),l=Re(l)),!pe(t)&&Je(a)&&!Je(l))return g?!1:(a.value=l,!0)}const f=pe(t)&&So(o)?Number(o)<t.length:qe(t,o),h=Reflect.set(t,o,l,Je(t)?t:c);return t===Re(c)&&(f?is(l,a)&&zt(t,"set",o,l):zt(t,"add",o,l)),h}deleteProperty(t,o){const l=qe(t,o);t[o];const c=Reflect.deleteProperty(t,o);return c&&l&&zt(t,"delete",o,void 0),c}has(t,o){const l=Reflect.has(t,o);return(!ls(o)||!zi.has(o))&&rt(t,"has",o),l}ownKeys(t){return rt(t,"iterate",pe(t)?"length":gs),Reflect.ownKeys(t)}}class Rl extends Zi{constructor(t=!1){super(!0,t)}set(t,o){return!0}deleteProperty(t,o){return!0}}const Ul=new Hi,_l=new Rl,Il=new Hi(!0);const ro=e=>e,cn=e=>Reflect.getPrototypeOf(e);function ql(e,t,o){return function(...l){const c=this.__v_raw,a=Re(c),f=Is(a),h=e==="entries"||e===Symbol.iterator&&f,g=e==="keys"&&f,y=c[e](...l),v=o?ro:t?lo:lt;return!t&&rt(a,"iterate",g?io:gs),{next(){const{value:S,done:F}=y.next();return F?{value:S,done:F}:{value:h?[v(S[0]),v(S[1])]:v(S),done:F}},[Symbol.iterator](){return this}}}}function un(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Fl(e,t){const o={get(c){const a=this.__v_raw,f=Re(a),h=Re(c);e||(is(c,h)&&rt(f,"get",c),rt(f,"get",h));const{has:g}=cn(f),y=t?ro:e?lo:lt;if(g.call(f,c))return y(a.get(c));if(g.call(f,h))return y(a.get(h));a!==f&&a.get(c)},get size(){const c=this.__v_raw;return!e&&rt(Re(c),"iterate",gs),Reflect.get(c,"size",c)},has(c){const a=this.__v_raw,f=Re(a),h=Re(c);return e||(is(c,h)&&rt(f,"has",c),rt(f,"has",h)),c===h?a.has(c):a.has(c)||a.has(h)},forEach(c,a){const f=this,h=f.__v_raw,g=Re(h),y=t?ro:e?lo:lt;return!e&&rt(g,"iterate",gs),h.forEach((v,S)=>c.call(a,y(v),y(S),f))}};return et(o,e?{add:un("add"),set:un("set"),delete:un("delete"),clear:un("clear")}:{add(c){!t&&!Ft(c)&&!ws(c)&&(c=Re(c));const a=Re(this);return cn(a).has.call(a,c)||(a.add(c),zt(a,"add",c,c)),this},set(c,a){!t&&!Ft(a)&&!ws(a)&&(a=Re(a));const f=Re(this),{has:h,get:g}=cn(f);let y=h.call(f,c);y||(c=Re(c),y=h.call(f,c));const v=g.call(f,c);return f.set(c,a),y?is(a,v)&&zt(f,"set",c,a):zt(f,"add",c,a),this},delete(c){const a=Re(this),{has:f,get:h}=cn(a);let g=f.call(a,c);g||(c=Re(c),g=f.call(a,c)),h&&h.call(a,c);const y=a.delete(c);return g&&zt(a,"delete",c,void 0),y},clear(){const c=Re(this),a=c.size!==0,f=c.clear();return a&&zt(c,"clear",void 0,void 0),f}}),["keys","values","entries",Symbol.iterator].forEach(c=>{o[c]=ql(c,e,t)}),o}function qo(e,t){const o=Fl(e,t);return(l,c,a)=>c==="__v_isReactive"?!e:c==="__v_isReadonly"?e:c==="__v_raw"?l:Reflect.get(qe(o,c)&&c in l?o:l,c,a)}const Vl={get:qo(!1,!1)},Ml={get:qo(!1,!0)},xl={get:qo(!0,!1)};const $i=new WeakMap,er=new WeakMap,tr=new WeakMap,Tl=new WeakMap;function Cl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kl(e){return e.__v_skip||!Object.isExtensible(e)?0:Cl(rl(e))}function Mn(e){return ws(e)?e:Fo(e,!1,Ul,Vl,$i)}function Nl(e){return Fo(e,!1,Il,Ml,er)}function sr(e){return Fo(e,!0,_l,xl,tr)}function Fo(e,t,o,l,c){if(!Qe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=c.get(e);if(a)return a;const f=kl(e);if(f===0)return e;const h=new Proxy(e,f===2?l:o);return c.set(e,h),h}function Ht(e){return ws(e)?Ht(e.__v_raw):!!(e&&e.__v_isReactive)}function ws(e){return!!(e&&e.__v_isReadonly)}function Ft(e){return!!(e&&e.__v_isShallow)}function Vo(e){return e?!!e.__v_raw:!1}function Re(e){const t=e&&e.__v_raw;return t?Re(t):e}function xn(e){return!qe(e,"__v_skip")&&Object.isExtensible(e)&&Ni(e,"__v_skip",!0),e}const lt=e=>Qe(e)?Mn(e):e,lo=e=>Qe(e)?sr(e):e;function Je(e){return e?e.__v_isRef===!0:!1}function Le(e){return nr(e,!1)}function Al(e){return nr(e,!0)}function nr(e,t){return Je(e)?e:new Kl(e,t)}class Kl{constructor(t,o){this.dep=new Io,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=o?t:Re(t),this._value=o?t:lt(t),this.__v_isShallow=o}get value(){return this.dep.track(),this._value}set value(t){const o=this._rawValue,l=this.__v_isShallow||Ft(t)||ws(t);t=l?t:Re(t),is(t,o)&&(this._rawValue=t,this._value=l?t:lt(t),this.dep.trigger())}}function Ge(e){return Je(e)?e.value:e}const Ol={get:(e,t,o)=>t==="__v_raw"?e:Ge(Reflect.get(e,t,o)),set:(e,t,o,l)=>{const c=e[t];return Je(c)&&!Je(o)?(c.value=o,!0):Reflect.set(e,t,o,l)}};function or(e){return Ht(e)?e:new Proxy(e,Ol)}function jl(e){const t=pe(e)?new Array(e.length):{};for(const o in e)t[o]=ir(e,o);return t}class Jl{constructor(t,o,l){this._object=t,this._key=o,this._defaultValue=l,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return El(Re(this._object),this._key)}}class Ql{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Ll(e,t,o){return Je(e)?e:me(e)?new Ql(e):Qe(e)&&arguments.length>1?ir(e,t,o):Le(e)}function ir(e,t,o){const l=e[t];return Je(l)?l:new Jl(e,t,o)}class Pl{constructor(t,o,l){this.fn=t,this.setter=o,this._value=void 0,this.dep=new Io(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ps-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!o,this.isSSR=l}notify(){if(this.flags|=16,!(this.flags&8)&&ke!==this)return Wi(this,!0),!0}get value(){const t=this.dep.track();return Gi(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Wl(e,t,o=!1){let l,c;return me(e)?l=e:(l=e.get,c=e.set),new Pl(l,c,o)}const an={},wn=new WeakMap;let hs;function Dl(e,t=!1,o=hs){if(o){let l=wn.get(o);l||wn.set(o,l=[]),l.push(e)}}function Yl(e,t,o=Te){const{immediate:l,deep:c,once:a,scheduler:f,augmentJob:h,call:g}=o,y=G=>c?G:Ft(G)||c===!1||c===0?Zt(G,1):Zt(G);let v,S,F,V,C=!1,O=!1;if(Je(e)?(S=()=>e.value,C=Ft(e)):Ht(e)?(S=()=>y(e),C=!0):pe(e)?(O=!0,C=e.some(G=>Ht(G)||Ft(G)),S=()=>e.map(G=>{if(Je(G))return G.value;if(Ht(G))return y(G);if(me(G))return g?g(G,2):G()})):me(e)?t?S=g?()=>g(e,2):e:S=()=>{if(F){cs();try{F()}finally{us()}}const G=hs;hs=v;try{return g?g(e,3,[V]):e(V)}finally{hs=G}}:S=Pt,t&&c){const G=S,ne=c===!0?1/0:c;S=()=>Zt(G(),ne)}const H=Qi(),z=()=>{v.stop(),H&&H.active&&vo(H.effects,v)};if(a&&t){const G=t;t=(...ne)=>{G(...ne),z()}}let X=O?new Array(e.length).fill(an):an;const oe=G=>{if(!(!(v.flags&1)||!v.dirty&&!G))if(t){const ne=v.run();if(c||C||(O?ne.some((ye,Fe)=>is(ye,X[Fe])):is(ne,X))){F&&F();const ye=hs;hs=v;try{const Fe=[ne,X===an?void 0:O&&X[0]===an?[]:X,V];g?g(t,3,Fe):t(...Fe),X=ne}finally{hs=ye}}}else v.run()};return h&&h(oe),v=new Li(S),v.scheduler=f?()=>f(oe,!1):oe,V=G=>Dl(G,!1,v),F=v.onStop=()=>{const G=wn.get(v);if(G){if(g)g(G,4);else for(const ne of G)ne();wn.delete(v)}},t?l?oe(!0):X=v.run():f?f(oe.bind(null,!0),!0):v.run(),z.pause=v.pause.bind(v),z.resume=v.resume.bind(v),z.stop=z,z}function Zt(e,t=1/0,o){if(t<=0||!Qe(e)||e.__v_skip||(o=o||new Set,o.has(e)))return e;if(o.add(e),t--,Je(e))Zt(e.value,t,o);else if(pe(e))for(let l=0;l<e.length;l++)Zt(e[l],t,o);else if(Mi(e)||Is(e))e.forEach(l=>{Zt(l,t,o)});else if(Ci(e)){for(const l in e)Zt(e[l],t,o);for(const l of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,l)&&Zt(e[l],t,o)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Xs(e,t,o,l){try{return l?e(...l):e()}catch(c){Tn(c,t,o)}}function Wt(e,t,o,l){if(me(e)){const c=Xs(e,t,o,l);return c&&xi(c)&&c.catch(a=>{Tn(a,t,o)}),c}if(pe(e)){const c=[];for(let a=0;a<e.length;a++)c.push(Wt(e[a],t,o,l));return c}}function Tn(e,t,o,l=!0){const c=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:f}=t&&t.appContext.config||Te;if(t){let h=t.parent;const g=t.proxy,y=`https://vuejs.org/error-reference/#runtime-${o}`;for(;h;){const v=h.ec;if(v){for(let S=0;S<v.length;S++)if(v[S](e,g,y)===!1)return}h=h.parent}if(a){cs(),Xs(a,null,10,[e,g,y]),us();return}}Gl(e,o,c,l,f)}function Gl(e,t,o,l=!0,c=!1){if(c)throw e;console.error(e)}const pt=[];let Jt=-1;const qs=[];let ns=null,bs=0;const rr=Promise.resolve();let En=null;function Mo(e){const t=En||rr;return e?t.then(this?e.bind(this):e):t}function Bl(e){let t=Jt+1,o=pt.length;for(;t<o;){const l=t+o>>>1,c=pt[l],a=Ds(c);a<e||a===e&&c.flags&2?t=l+1:o=l}return t}function xo(e){if(!(e.flags&1)){const t=Ds(e),o=pt[pt.length-1];!o||!(e.flags&2)&&t>=Ds(o)?pt.push(e):pt.splice(Bl(t),0,e),e.flags|=1,lr()}}function lr(){En||(En=rr.then(ur))}function Xl(e){pe(e)?qs.push(...e):ns&&e.id===-1?ns.splice(bs+1,0,e):e.flags&1||(qs.push(e),e.flags|=1),lr()}function Do(e,t,o=Jt+1){for(;o<pt.length;o++){const l=pt[o];if(l&&l.flags&2){if(e&&l.id!==e.uid)continue;pt.splice(o,1),o--,l.flags&4&&(l.flags&=-2),l(),l.flags&4||(l.flags&=-2)}}}function cr(e){if(qs.length){const t=[...new Set(qs)].sort((o,l)=>Ds(o)-Ds(l));if(qs.length=0,ns){ns.push(...t);return}for(ns=t,bs=0;bs<ns.length;bs++){const o=ns[bs];o.flags&4&&(o.flags&=-2),o.flags&8||o(),o.flags&=-2}ns=null,bs=0}}const Ds=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ur(e){try{for(Jt=0;Jt<pt.length;Jt++){const t=pt[Jt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Xs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Jt<pt.length;Jt++){const t=pt[Jt];t&&(t.flags&=-2)}Jt=-1,pt.length=0,cr(),En=null,(pt.length||qs.length)&&ur()}}let Rt=null,ar=null;function yn(e){const t=Rt;return Rt=e,ar=e&&e.type.__scopeId||null,t}function zl(e,t=Rt,o){if(!t||e._n)return e;const l=(...c)=>{l._d&&$o(-1);const a=yn(t);let f;try{f=e(...c)}finally{yn(a),l._d&&$o(1)}return f};return l._n=!0,l._c=!0,l._d=!0,l}function Zl(e,t){if(Rt===null)return e;const o=Kn(Rt),l=e.dirs||(e.dirs=[]);for(let c=0;c<t.length;c++){let[a,f,h,g=Te]=t[c];a&&(me(a)&&(a={mounted:a,updated:a}),a.deep&&Zt(f),l.push({dir:a,instance:o,value:f,oldValue:void 0,arg:h,modifiers:g}))}return e}function as(e,t,o,l){const c=e.dirs,a=t&&t.dirs;for(let f=0;f<c.length;f++){const h=c[f];a&&(h.oldValue=a[f].value);let g=h.dir[l];g&&(cs(),Wt(g,o,8,[e.el,h,e,t]),us())}}const Hl=Symbol("_vte"),$l=e=>e.__isTeleport;function To(e,t){e.shapeFlag&6&&e.component?(e.transition=t,To(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Dt(e,t){return me(e)?et({name:e.name},t,{setup:e}):e}function fr(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function vn(e,t,o,l,c=!1){if(pe(e)){e.forEach((C,O)=>vn(C,t&&(pe(t)?t[O]:t),o,l,c));return}if(Ks(l)&&!c){l.shapeFlag&512&&l.type.__asyncResolved&&l.component.subTree.component&&vn(e,t,o,l.component.subTree);return}const a=l.shapeFlag&4?Kn(l.component):l.el,f=c?null:a,{i:h,r:g}=e,y=t&&t.r,v=h.refs===Te?h.refs={}:h.refs,S=h.setupState,F=Re(S),V=S===Te?()=>!1:C=>qe(F,C);if(y!=null&&y!==g&&(Be(y)?(v[y]=null,V(y)&&(S[y]=null)):Je(y)&&(y.value=null)),me(g))Xs(g,h,12,[f,v]);else{const C=Be(g),O=Je(g);if(C||O){const H=()=>{if(e.f){const z=C?V(g)?S[g]:v[g]:g.value;c?pe(z)&&vo(z,a):pe(z)?z.includes(a)||z.push(a):C?(v[g]=[a],V(g)&&(S[g]=v[g])):(g.value=[a],e.k&&(v[e.k]=g.value))}else C?(v[g]=f,V(g)&&(S[g]=f)):O&&(g.value=f,e.k&&(v[e.k]=f))};f?(H.id=-1,bt(H,o)):H()}}}Fn().requestIdleCallback;Fn().cancelIdleCallback;const Ks=e=>!!e.type.__asyncLoader,hr=e=>e.type.__isKeepAlive;function ec(e,t){dr(e,"a",t)}function tc(e,t){dr(e,"da",t)}function dr(e,t,o=ct){const l=e.__wdc||(e.__wdc=()=>{let c=o;for(;c;){if(c.isDeactivated)return;c=c.parent}return e()});if(Cn(t,l,o),o){let c=o.parent;for(;c&&c.parent;)hr(c.parent.vnode)&&sc(l,t,o,c),c=c.parent}}function sc(e,t,o,l){const c=Cn(t,e,l,!0);kn(()=>{vo(l[t],c)},o)}function Cn(e,t,o=ct,l=!1){if(o){const c=o[e]||(o[e]=[]),a=t.__weh||(t.__weh=(...f)=>{cs();const h=Zs(o),g=Wt(t,o,e,f);return h(),us(),g});return l?c.unshift(a):c.push(a),a}}const $t=e=>(t,o=ct)=>{(!Gs||e==="sp")&&Cn(e,(...l)=>t(...l),o)},nc=$t("bm"),zs=$t("m"),oc=$t("bu"),ic=$t("u"),gr=$t("bum"),kn=$t("um"),rc=$t("sp"),lc=$t("rtg"),cc=$t("rtc");function uc(e,t=ct){Cn("ec",e,t)}const ac=Symbol.for("v-ndc");function pr(e,t,o,l){let c;const a=o,f=pe(e);if(f||Be(e)){const h=f&&Ht(e);let g=!1;h&&(g=!Ft(e),e=Vn(e)),c=new Array(e.length);for(let y=0,v=e.length;y<v;y++)c[y]=t(g?lt(e[y]):e[y],y,void 0,a)}else if(typeof e=="number"){c=new Array(e);for(let h=0;h<e;h++)c[h]=t(h+1,h,void 0,a)}else if(Qe(e))if(e[Symbol.iterator])c=Array.from(e,(h,g)=>t(h,g,void 0,a));else{const h=Object.keys(e);c=new Array(h.length);for(let g=0,y=h.length;g<y;g++){const v=h[g];c[g]=t(e[v],v,g,a)}}else c=[];return c}const co=e=>e?Ar(e)?Kn(e):co(e.parent):null,Os=et(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>co(e.parent),$root:e=>co(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Co(e),$forceUpdate:e=>e.f||(e.f=()=>{xo(e.update)}),$nextTick:e=>e.n||(e.n=Mo.bind(e.proxy)),$watch:e=>Cc.bind(e)}),Bn=(e,t)=>e!==Te&&!e.__isScriptSetup&&qe(e,t),fc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:o,setupState:l,data:c,props:a,accessCache:f,type:h,appContext:g}=e;let y;if(t[0]!=="$"){const V=f[t];if(V!==void 0)switch(V){case 1:return l[t];case 2:return c[t];case 4:return o[t];case 3:return a[t]}else{if(Bn(l,t))return f[t]=1,l[t];if(c!==Te&&qe(c,t))return f[t]=2,c[t];if((y=e.propsOptions[0])&&qe(y,t))return f[t]=3,a[t];if(o!==Te&&qe(o,t))return f[t]=4,o[t];uo&&(f[t]=0)}}const v=Os[t];let S,F;if(v)return t==="$attrs"&&rt(e.attrs,"get",""),v(e);if((S=h.__cssModules)&&(S=S[t]))return S;if(o!==Te&&qe(o,t))return f[t]=4,o[t];if(F=g.config.globalProperties,qe(F,t))return F[t]},set({_:e},t,o){const{data:l,setupState:c,ctx:a}=e;return Bn(c,t)?(c[t]=o,!0):l!==Te&&qe(l,t)?(l[t]=o,!0):qe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=o,!0)},has({_:{data:e,setupState:t,accessCache:o,ctx:l,appContext:c,propsOptions:a}},f){let h;return!!o[f]||e!==Te&&qe(e,f)||Bn(t,f)||(h=a[0])&&qe(h,f)||qe(l,f)||qe(Os,f)||qe(c.config.globalProperties,f)},defineProperty(e,t,o){return o.get!=null?e._.accessCache[t]=0:qe(o,"value")&&this.set(e,t,o.value,null),Reflect.defineProperty(e,t,o)}};function Yo(e){return pe(e)?e.reduce((t,o)=>(t[o]=null,t),{}):e}let uo=!0;function hc(e){const t=Co(e),o=e.proxy,l=e.ctx;uo=!1,t.beforeCreate&&Go(t.beforeCreate,e,"bc");const{data:c,computed:a,methods:f,watch:h,provide:g,inject:y,created:v,beforeMount:S,mounted:F,beforeUpdate:V,updated:C,activated:O,deactivated:H,beforeDestroy:z,beforeUnmount:X,destroyed:oe,unmounted:G,render:ne,renderTracked:ye,renderTriggered:Fe,errorCaptured:de,serverPrefetch:we,expose:Ne,inheritAttrs:tt,components:ot,directives:wt,filters:Vt}=t;if(y&&dc(y,l,null),f)for(const Ee in f){const _e=f[Ee];me(_e)&&(l[Ee]=_e.bind(o))}if(c){const Ee=c.call(o,o);Qe(Ee)&&(e.data=Mn(Ee))}if(uo=!0,a)for(const Ee in a){const _e=a[Ee],_t=me(_e)?_e.bind(o,o):me(_e.get)?_e.get.bind(o,o):Pt,Yt=!me(_e)&&me(_e.set)?_e.set.bind(o):Pt,It=$e({get:_t,set:Yt});Object.defineProperty(l,Ee,{enumerable:!0,configurable:!0,get:()=>It.value,set:le=>It.value=le})}if(h)for(const Ee in h)mr(h[Ee],l,o,Ee);if(g){const Ee=me(g)?g.call(o):g;Reflect.ownKeys(Ee).forEach(_e=>{yc(_e,Ee[_e])})}v&&Go(v,e,"c");function Ce(Ee,_e){pe(_e)?_e.forEach(_t=>Ee(_t.bind(o))):_e&&Ee(_e.bind(o))}if(Ce(nc,S),Ce(zs,F),Ce(oc,V),Ce(ic,C),Ce(ec,O),Ce(tc,H),Ce(uc,de),Ce(cc,ye),Ce(lc,Fe),Ce(gr,X),Ce(kn,G),Ce(rc,we),pe(Ne))if(Ne.length){const Ee=e.exposed||(e.exposed={});Ne.forEach(_e=>{Object.defineProperty(Ee,_e,{get:()=>o[_e],set:_t=>o[_e]=_t})})}else e.exposed||(e.exposed={});ne&&e.render===Pt&&(e.render=ne),tt!=null&&(e.inheritAttrs=tt),ot&&(e.components=ot),wt&&(e.directives=wt),we&&fr(e)}function dc(e,t,o=Pt){pe(e)&&(e=ao(e));for(const l in e){const c=e[l];let a;Qe(c)?"default"in c?a=js(c.from||l,c.default,!0):a=js(c.from||l):a=js(c),Je(a)?Object.defineProperty(t,l,{enumerable:!0,configurable:!0,get:()=>a.value,set:f=>a.value=f}):t[l]=a}}function Go(e,t,o){Wt(pe(e)?e.map(l=>l.bind(t.proxy)):e.bind(t.proxy),t,o)}function mr(e,t,o,l){let c=l.includes(".")?Mr(o,l):()=>o[l];if(Be(e)){const a=t[e];me(a)&&ms(c,a)}else if(me(e))ms(c,e.bind(o));else if(Qe(e))if(pe(e))e.forEach(a=>mr(a,t,o,l));else{const a=me(e.handler)?e.handler.bind(o):t[e.handler];me(a)&&ms(c,a,e)}}function Co(e){const t=e.type,{mixins:o,extends:l}=t,{mixins:c,optionsCache:a,config:{optionMergeStrategies:f}}=e.appContext,h=a.get(t);let g;return h?g=h:!c.length&&!o&&!l?g=t:(g={},c.length&&c.forEach(y=>Sn(g,y,f,!0)),Sn(g,t,f)),Qe(t)&&a.set(t,g),g}function Sn(e,t,o,l=!1){const{mixins:c,extends:a}=t;a&&Sn(e,a,o,!0),c&&c.forEach(f=>Sn(e,f,o,!0));for(const f in t)if(!(l&&f==="expose")){const h=gc[f]||o&&o[f];e[f]=h?h(e[f],t[f]):t[f]}return e}const gc={data:Bo,props:Xo,emits:Xo,methods:Cs,computed:Cs,beforeCreate:dt,created:dt,beforeMount:dt,mounted:dt,beforeUpdate:dt,updated:dt,beforeDestroy:dt,beforeUnmount:dt,destroyed:dt,unmounted:dt,activated:dt,deactivated:dt,errorCaptured:dt,serverPrefetch:dt,components:Cs,directives:Cs,watch:mc,provide:Bo,inject:pc};function Bo(e,t){return t?e?function(){return et(me(e)?e.call(this,this):e,me(t)?t.call(this,this):t)}:t:e}function pc(e,t){return Cs(ao(e),ao(t))}function ao(e){if(pe(e)){const t={};for(let o=0;o<e.length;o++)t[e[o]]=e[o];return t}return e}function dt(e,t){return e?[...new Set([].concat(e,t))]:t}function Cs(e,t){return e?et(Object.create(null),e,t):t}function Xo(e,t){return e?pe(e)&&pe(t)?[...new Set([...e,...t])]:et(Object.create(null),Yo(e),Yo(t??{})):t}function mc(e,t){if(!e)return t;if(!t)return e;const o=et(Object.create(null),e);for(const l in t)o[l]=dt(e[l],t[l]);return o}function wr(){return{app:null,config:{isNativeTag:ol,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wc=0;function Ec(e,t){return function(l,c=null){me(l)||(l=et({},l)),c!=null&&!Qe(c)&&(c=null);const a=wr(),f=new WeakSet,h=[];let g=!1;const y=a.app={_uid:wc++,_component:l,_props:c,_container:null,_context:a,_instance:null,version:eu,get config(){return a.config},set config(v){},use(v,...S){return f.has(v)||(v&&me(v.install)?(f.add(v),v.install(y,...S)):me(v)&&(f.add(v),v(y,...S))),y},mixin(v){return a.mixins.includes(v)||a.mixins.push(v),y},component(v,S){return S?(a.components[v]=S,y):a.components[v]},directive(v,S){return S?(a.directives[v]=S,y):a.directives[v]},mount(v,S,F){if(!g){const V=y._ceVNode||Ze(l,c);return V.appContext=a,F===!0?F="svg":F===!1&&(F=void 0),S&&t?t(V,v):e(V,v,F),g=!0,y._container=v,v.__vue_app__=y,Kn(V.component)}},onUnmount(v){h.push(v)},unmount(){g&&(Wt(h,y._instance,16),e(null,y._container),delete y._container.__vue_app__)},provide(v,S){return a.provides[v]=S,y},runWithContext(v){const S=ps;ps=y;try{return v()}finally{ps=S}}};return y}}let ps=null;function yc(e,t){if(ct){let o=ct.provides;const l=ct.parent&&ct.parent.provides;l===o&&(o=ct.provides=Object.create(l)),o[e]=t}}function js(e,t,o=!1){const l=ct||Rt;if(l||ps){const c=ps?ps._context.provides:l?l.parent==null?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides:void 0;if(c&&e in c)return c[e];if(arguments.length>1)return o&&me(t)?t.call(l&&l.proxy):t}}function vc(){return!!(ct||Rt||ps)}const Er={},yr=()=>Object.create(Er),vr=e=>Object.getPrototypeOf(e)===Er;function Sc(e,t,o,l=!1){const c={},a=yr();e.propsDefaults=Object.create(null),Sr(e,t,c,a);for(const f in e.propsOptions[0])f in c||(c[f]=void 0);o?e.props=l?c:Nl(c):e.type.props?e.props=c:e.props=a,e.attrs=a}function bc(e,t,o,l){const{props:c,attrs:a,vnode:{patchFlag:f}}=e,h=Re(c),[g]=e.propsOptions;let y=!1;if((l||f>0)&&!(f&16)){if(f&8){const v=e.vnode.dynamicProps;for(let S=0;S<v.length;S++){let F=v[S];if(Nn(e.emitsOptions,F))continue;const V=t[F];if(g)if(qe(a,F))V!==a[F]&&(a[F]=V,y=!0);else{const C=rs(F);c[C]=fo(g,h,C,V,e,!1)}else V!==a[F]&&(a[F]=V,y=!0)}}}else{Sr(e,t,c,a)&&(y=!0);let v;for(const S in h)(!t||!qe(t,S)&&((v=ys(S))===S||!qe(t,v)))&&(g?o&&(o[S]!==void 0||o[v]!==void 0)&&(c[S]=fo(g,h,S,void 0,e,!0)):delete c[S]);if(a!==h)for(const S in a)(!t||!qe(t,S))&&(delete a[S],y=!0)}y&&zt(e.attrs,"set","")}function Sr(e,t,o,l){const[c,a]=e.propsOptions;let f=!1,h;if(t)for(let g in t){if(ks(g))continue;const y=t[g];let v;c&&qe(c,v=rs(g))?!a||!a.includes(v)?o[v]=y:(h||(h={}))[v]=y:Nn(e.emitsOptions,g)||(!(g in l)||y!==l[g])&&(l[g]=y,f=!0)}if(a){const g=Re(o),y=h||Te;for(let v=0;v<a.length;v++){const S=a[v];o[S]=fo(c,g,S,y[S],e,!qe(y,S))}}return f}function fo(e,t,o,l,c,a){const f=e[o];if(f!=null){const h=qe(f,"default");if(h&&l===void 0){const g=f.default;if(f.type!==Function&&!f.skipFactory&&me(g)){const{propsDefaults:y}=c;if(o in y)l=y[o];else{const v=Zs(c);l=y[o]=g.call(null,t),v()}}else l=g;c.ce&&c.ce._setProp(o,l)}f[0]&&(a&&!h?l=!1:f[1]&&(l===""||l===ys(o))&&(l=!0))}return l}const Rc=new WeakMap;function br(e,t,o=!1){const l=o?Rc:t.propsCache,c=l.get(e);if(c)return c;const a=e.props,f={},h=[];let g=!1;if(!me(e)){const v=S=>{g=!0;const[F,V]=br(S,t,!0);et(f,F),V&&h.push(...V)};!o&&t.mixins.length&&t.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}if(!a&&!g)return Qe(e)&&l.set(e,_s),_s;if(pe(a))for(let v=0;v<a.length;v++){const S=rs(a[v]);zo(S)&&(f[S]=Te)}else if(a)for(const v in a){const S=rs(v);if(zo(S)){const F=a[v],V=f[S]=pe(F)||me(F)?{type:F}:et({},F),C=V.type;let O=!1,H=!0;if(pe(C))for(let z=0;z<C.length;++z){const X=C[z],oe=me(X)&&X.name;if(oe==="Boolean"){O=!0;break}else oe==="String"&&(H=!1)}else O=me(C)&&C.name==="Boolean";V[0]=O,V[1]=H,(O||qe(V,"default"))&&h.push(S)}}const y=[f,h];return Qe(e)&&l.set(e,y),y}function zo(e){return e[0]!=="$"&&!ks(e)}const Rr=e=>e[0]==="_"||e==="$stable",ko=e=>pe(e)?e.map(Lt):[Lt(e)],Uc=(e,t,o)=>{if(t._n)return t;const l=zl((...c)=>ko(t(...c)),o);return l._c=!1,l},Ur=(e,t,o)=>{const l=e._ctx;for(const c in e){if(Rr(c))continue;const a=e[c];if(me(a))t[c]=Uc(c,a,l);else if(a!=null){const f=ko(a);t[c]=()=>f}}},_r=(e,t)=>{const o=ko(t);e.slots.default=()=>o},Ir=(e,t,o)=>{for(const l in t)(o||l!=="_")&&(e[l]=t[l])},_c=(e,t,o)=>{const l=e.slots=yr();if(e.vnode.shapeFlag&32){const c=t._;c?(Ir(l,t,o),o&&Ni(l,"_",c,!0)):Ur(t,l)}else t&&_r(e,t)},Ic=(e,t,o)=>{const{vnode:l,slots:c}=e;let a=!0,f=Te;if(l.shapeFlag&32){const h=t._;h?o&&h===1?a=!1:Ir(c,t,o):(a=!t.$stable,Ur(t,c)),f=t}else t&&(_r(e,t),f={default:1});if(a)for(const h in c)!Rr(h)&&f[h]==null&&delete c[h]},bt=Jc;function qc(e){return Fc(e)}function Fc(e,t){const o=Fn();o.__VUE__=!0;const{insert:l,remove:c,patchProp:a,createElement:f,createText:h,createComment:g,setText:y,setElementText:v,parentNode:S,nextSibling:F,setScopeId:V=Pt,insertStaticContent:C}=e,O=(R,_,T,Q=null,A=null,j=null,D=void 0,B=null,Y=!!_.dynamicChildren)=>{if(R===_)return;R&&!Ts(R,_)&&(Q=ut(R),le(R,A,j,!0),R=null),_.patchFlag===-2&&(Y=!1,_.dynamicChildren=null);const{type:K,ref:ce,shapeFlag:Z}=_;switch(K){case An:H(R,_,T,Q);break;case Es:z(R,_,T,Q);break;case Zn:R==null&&X(_,T,Q,D);break;case Ct:ot(R,_,T,Q,A,j,D,B,Y);break;default:Z&1?ne(R,_,T,Q,A,j,D,B,Y):Z&6?wt(R,_,T,Q,A,j,D,B,Y):(Z&64||Z&128)&&K.process(R,_,T,Q,A,j,D,B,Y,Kt)}ce!=null&&A&&vn(ce,R&&R.ref,j,_||R,!_)},H=(R,_,T,Q)=>{if(R==null)l(_.el=h(_.children),T,Q);else{const A=_.el=R.el;_.children!==R.children&&y(A,_.children)}},z=(R,_,T,Q)=>{R==null?l(_.el=g(_.children||""),T,Q):_.el=R.el},X=(R,_,T,Q)=>{[R.el,R.anchor]=C(R.children,_,T,Q,R.el,R.anchor)},oe=({el:R,anchor:_},T,Q)=>{let A;for(;R&&R!==_;)A=F(R),l(R,T,Q),R=A;l(_,T,Q)},G=({el:R,anchor:_})=>{let T;for(;R&&R!==_;)T=F(R),c(R),R=T;c(_)},ne=(R,_,T,Q,A,j,D,B,Y)=>{_.type==="svg"?D="svg":_.type==="math"&&(D="mathml"),R==null?ye(_,T,Q,A,j,D,B,Y):we(R,_,A,j,D,B,Y)},ye=(R,_,T,Q,A,j,D,B)=>{let Y,K;const{props:ce,shapeFlag:Z,transition:ie,dirs:fe}=R;if(Y=R.el=f(R.type,j,ce&&ce.is,ce),Z&8?v(Y,R.children):Z&16&&de(R.children,Y,null,Q,A,Xn(R,j),D,B),fe&&as(R,null,Q,"created"),Fe(Y,R,R.scopeId,D,Q),ce){for(const Me in ce)Me!=="value"&&!ks(Me)&&a(Y,Me,null,ce[Me],j,Q);"value"in ce&&a(Y,"value",null,ce.value,j),(K=ce.onVnodeBeforeMount)&&jt(K,Q,R)}fe&&as(R,null,Q,"beforeMount");const ve=Vc(A,ie);ve&&ie.beforeEnter(Y),l(Y,_,T),((K=ce&&ce.onVnodeMounted)||ve||fe)&&bt(()=>{K&&jt(K,Q,R),ve&&ie.enter(Y),fe&&as(R,null,Q,"mounted")},A)},Fe=(R,_,T,Q,A)=>{if(T&&V(R,T),Q)for(let j=0;j<Q.length;j++)V(R,Q[j]);if(A){let j=A.subTree;if(_===j||Tr(j.type)&&(j.ssContent===_||j.ssFallback===_)){const D=A.vnode;Fe(R,D,D.scopeId,D.slotScopeIds,A.parent)}}},de=(R,_,T,Q,A,j,D,B,Y=0)=>{for(let K=Y;K<R.length;K++){const ce=R[K]=B?os(R[K]):Lt(R[K]);O(null,ce,_,T,Q,A,j,D,B)}},we=(R,_,T,Q,A,j,D)=>{const B=_.el=R.el;let{patchFlag:Y,dynamicChildren:K,dirs:ce}=_;Y|=R.patchFlag&16;const Z=R.props||Te,ie=_.props||Te;let fe;if(T&&fs(T,!1),(fe=ie.onVnodeBeforeUpdate)&&jt(fe,T,_,R),ce&&as(_,R,T,"beforeUpdate"),T&&fs(T,!0),(Z.innerHTML&&ie.innerHTML==null||Z.textContent&&ie.textContent==null)&&v(B,""),K?Ne(R.dynamicChildren,K,B,T,Q,Xn(_,A),j):D||_e(R,_,B,null,T,Q,Xn(_,A),j,!1),Y>0){if(Y&16)tt(B,Z,ie,T,A);else if(Y&2&&Z.class!==ie.class&&a(B,"class",null,ie.class,A),Y&4&&a(B,"style",Z.style,ie.style,A),Y&8){const ve=_.dynamicProps;for(let Me=0;Me<ve.length;Me++){const Ie=ve[Me],at=Z[Ie],He=ie[Ie];(He!==at||Ie==="value")&&a(B,Ie,at,He,A,T)}}Y&1&&R.children!==_.children&&v(B,_.children)}else!D&&K==null&&tt(B,Z,ie,T,A);((fe=ie.onVnodeUpdated)||ce)&&bt(()=>{fe&&jt(fe,T,_,R),ce&&as(_,R,T,"updated")},Q)},Ne=(R,_,T,Q,A,j,D)=>{for(let B=0;B<_.length;B++){const Y=R[B],K=_[B],ce=Y.el&&(Y.type===Ct||!Ts(Y,K)||Y.shapeFlag&70)?S(Y.el):T;O(Y,K,ce,null,Q,A,j,D,!0)}},tt=(R,_,T,Q,A)=>{if(_!==T){if(_!==Te)for(const j in _)!ks(j)&&!(j in T)&&a(R,j,_[j],null,A,Q);for(const j in T){if(ks(j))continue;const D=T[j],B=_[j];D!==B&&j!=="value"&&a(R,j,B,D,A,Q)}"value"in T&&a(R,"value",_.value,T.value,A)}},ot=(R,_,T,Q,A,j,D,B,Y)=>{const K=_.el=R?R.el:h(""),ce=_.anchor=R?R.anchor:h("");let{patchFlag:Z,dynamicChildren:ie,slotScopeIds:fe}=_;fe&&(B=B?B.concat(fe):fe),R==null?(l(K,T,Q),l(ce,T,Q),de(_.children||[],T,ce,A,j,D,B,Y)):Z>0&&Z&64&&ie&&R.dynamicChildren?(Ne(R.dynamicChildren,ie,T,A,j,D,B),(_.key!=null||A&&_===A.subTree)&&qr(R,_,!0)):_e(R,_,T,ce,A,j,D,B,Y)},wt=(R,_,T,Q,A,j,D,B,Y)=>{_.slotScopeIds=B,R==null?_.shapeFlag&512?A.ctx.activate(_,T,Q,D,Y):Vt(_,T,Q,A,j,D,Y):At(R,_,Y)},Vt=(R,_,T,Q,A,j,D)=>{const B=R.component=Bc(R,Q,A);if(hr(R)&&(B.ctx.renderer=Kt),Xc(B,!1,D),B.asyncDep){if(A&&A.registerDep(B,Ce,D),!R.el){const Y=B.subTree=Ze(Es);z(null,Y,_,T)}}else Ce(B,R,_,T,A,j,D)},At=(R,_,T)=>{const Q=_.component=R.component;if(Oc(R,_,T))if(Q.asyncDep&&!Q.asyncResolved){Ee(Q,_,T);return}else Q.next=_,Q.update();else _.el=R.el,Q.vnode=_},Ce=(R,_,T,Q,A,j,D)=>{const B=()=>{if(R.isMounted){let{next:Z,bu:ie,u:fe,parent:ve,vnode:Me}=R;{const ft=Fr(R);if(ft){Z&&(Z.el=Me.el,Ee(R,Z,D)),ft.asyncDep.then(()=>{R.isUnmounted||B()});return}}let Ie=Z,at;fs(R,!1),Z?(Z.el=Me.el,Ee(R,Z,D)):Z=Me,ie&&dn(ie),(at=Z.props&&Z.props.onVnodeBeforeUpdate)&&jt(at,ve,Z,Me),fs(R,!0);const He=zn(R),yt=R.subTree;R.subTree=He,O(yt,He,S(yt.el),ut(yt),R,A,j),Z.el=He.el,Ie===null&&jc(R,He.el),fe&&bt(fe,A),(at=Z.props&&Z.props.onVnodeUpdated)&&bt(()=>jt(at,ve,Z,Me),A)}else{let Z;const{el:ie,props:fe}=_,{bm:ve,m:Me,parent:Ie,root:at,type:He}=R,yt=Ks(_);if(fs(R,!1),ve&&dn(ve),!yt&&(Z=fe&&fe.onVnodeBeforeMount)&&jt(Z,Ie,_),fs(R,!0),ie&&en){const ft=()=>{R.subTree=zn(R),en(ie,R.subTree,R,A,null)};yt&&He.__asyncHydrate?He.__asyncHydrate(ie,R,ft):ft()}else{at.ce&&at.ce._injectChildStyle(He);const ft=R.subTree=zn(R);O(null,ft,T,Q,R,A,j),_.el=ft.el}if(Me&&bt(Me,A),!yt&&(Z=fe&&fe.onVnodeMounted)){const ft=_;bt(()=>jt(Z,Ie,ft),A)}(_.shapeFlag&256||Ie&&Ks(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&R.a&&bt(R.a,A),R.isMounted=!0,_=T=Q=null}};R.scope.on();const Y=R.effect=new Li(B);R.scope.off();const K=R.update=Y.run.bind(Y),ce=R.job=Y.runIfDirty.bind(Y);ce.i=R,ce.id=R.uid,Y.scheduler=()=>xo(ce),fs(R,!0),K()},Ee=(R,_,T)=>{_.component=R;const Q=R.vnode.props;R.vnode=_,R.next=null,bc(R,_.props,Q,T),Ic(R,_.children,T),cs(),Do(R),us()},_e=(R,_,T,Q,A,j,D,B,Y=!1)=>{const K=R&&R.children,ce=R?R.shapeFlag:0,Z=_.children,{patchFlag:ie,shapeFlag:fe}=_;if(ie>0){if(ie&128){Yt(K,Z,T,Q,A,j,D,B,Y);return}else if(ie&256){_t(K,Z,T,Q,A,j,D,B,Y);return}}fe&8?(ce&16&&Ye(K,A,j),Z!==K&&v(T,Z)):ce&16?fe&16?Yt(K,Z,T,Q,A,j,D,B,Y):Ye(K,A,j,!0):(ce&8&&v(T,""),fe&16&&de(Z,T,Q,A,j,D,B,Y))},_t=(R,_,T,Q,A,j,D,B,Y)=>{R=R||_s,_=_||_s;const K=R.length,ce=_.length,Z=Math.min(K,ce);let ie;for(ie=0;ie<Z;ie++){const fe=_[ie]=Y?os(_[ie]):Lt(_[ie]);O(R[ie],fe,T,null,A,j,D,B,Y)}K>ce?Ye(R,A,j,!0,!1,Z):de(_,T,Q,A,j,D,B,Y,Z)},Yt=(R,_,T,Q,A,j,D,B,Y)=>{let K=0;const ce=_.length;let Z=R.length-1,ie=ce-1;for(;K<=Z&&K<=ie;){const fe=R[K],ve=_[K]=Y?os(_[K]):Lt(_[K]);if(Ts(fe,ve))O(fe,ve,T,null,A,j,D,B,Y);else break;K++}for(;K<=Z&&K<=ie;){const fe=R[Z],ve=_[ie]=Y?os(_[ie]):Lt(_[ie]);if(Ts(fe,ve))O(fe,ve,T,null,A,j,D,B,Y);else break;Z--,ie--}if(K>Z){if(K<=ie){const fe=ie+1,ve=fe<ce?_[fe].el:Q;for(;K<=ie;)O(null,_[K]=Y?os(_[K]):Lt(_[K]),T,ve,A,j,D,B,Y),K++}}else if(K>ie)for(;K<=Z;)le(R[K],A,j,!0),K++;else{const fe=K,ve=K,Me=new Map;for(K=ve;K<=ie;K++){const ht=_[K]=Y?os(_[K]):Lt(_[K]);ht.key!=null&&Me.set(ht.key,K)}let Ie,at=0;const He=ie-ve+1;let yt=!1,ft=0;const ts=new Array(He);for(K=0;K<He;K++)ts[K]=0;for(K=fe;K<=Z;K++){const ht=R[K];if(at>=He){le(ht,A,j,!0);continue}let qt;if(ht.key!=null)qt=Me.get(ht.key);else for(Ie=ve;Ie<=ie;Ie++)if(ts[Ie-ve]===0&&Ts(ht,_[Ie])){qt=Ie;break}qt===void 0?le(ht,A,j,!0):(ts[qt-ve]=K+1,qt>=ft?ft=qt:yt=!0,O(ht,_[qt],T,null,A,j,D,B,Y),at++)}const tn=yt?Mc(ts):_s;for(Ie=tn.length-1,K=He-1;K>=0;K--){const ht=ve+K,qt=_[ht],sn=ht+1<ce?_[ht+1].el:Q;ts[K]===0?O(null,qt,T,sn,A,j,D,B,Y):yt&&(Ie<0||K!==tn[Ie]?It(qt,T,sn,2):Ie--)}}},It=(R,_,T,Q,A=null)=>{const{el:j,type:D,transition:B,children:Y,shapeFlag:K}=R;if(K&6){It(R.component.subTree,_,T,Q);return}if(K&128){R.suspense.move(_,T,Q);return}if(K&64){D.move(R,_,T,Kt);return}if(D===Ct){l(j,_,T);for(let Z=0;Z<Y.length;Z++)It(Y[Z],_,T,Q);l(R.anchor,_,T);return}if(D===Zn){oe(R,_,T);return}if(Q!==2&&K&1&&B)if(Q===0)B.beforeEnter(j),l(j,_,T),bt(()=>B.enter(j),A);else{const{leave:Z,delayLeave:ie,afterLeave:fe}=B,ve=()=>l(j,_,T),Me=()=>{Z(j,()=>{ve(),fe&&fe()})};ie?ie(j,ve,Me):Me()}else l(j,_,T)},le=(R,_,T,Q=!1,A=!1)=>{const{type:j,props:D,ref:B,children:Y,dynamicChildren:K,shapeFlag:ce,patchFlag:Z,dirs:ie,cacheIndex:fe}=R;if(Z===-2&&(A=!1),B!=null&&vn(B,null,T,R,!0),fe!=null&&(_.renderCache[fe]=void 0),ce&256){_.ctx.deactivate(R);return}const ve=ce&1&&ie,Me=!Ks(R);let Ie;if(Me&&(Ie=D&&D.onVnodeBeforeUnmount)&&jt(Ie,_,R),ce&6)P(R.component,T,Q);else{if(ce&128){R.suspense.unmount(T,Q);return}ve&&as(R,null,_,"beforeUnmount"),ce&64?R.type.remove(R,_,T,Kt,Q):K&&!K.hasOnce&&(j!==Ct||Z>0&&Z&64)?Ye(K,_,T,!1,!0):(j===Ct&&Z&384||!A&&ce&16)&&Ye(Y,_,T),Q&&Ue(R)}(Me&&(Ie=D&&D.onVnodeUnmounted)||ve)&&bt(()=>{Ie&&jt(Ie,_,R),ve&&as(R,null,_,"unmounted")},T)},Ue=R=>{const{type:_,el:T,anchor:Q,transition:A}=R;if(_===Ct){Et(T,Q);return}if(_===Zn){G(R);return}const j=()=>{c(T),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(R.shapeFlag&1&&A&&!A.persisted){const{leave:D,delayLeave:B}=A,Y=()=>D(T,j);B?B(R.el,j,Y):Y()}else j()},Et=(R,_)=>{let T;for(;R!==_;)T=F(R),c(R),R=T;c(_)},P=(R,_,T)=>{const{bum:Q,scope:A,job:j,subTree:D,um:B,m:Y,a:K}=R;Zo(Y),Zo(K),Q&&dn(Q),A.stop(),j&&(j.flags|=8,le(D,R,_,T)),B&&bt(B,_),bt(()=>{R.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},Ye=(R,_,T,Q=!1,A=!1,j=0)=>{for(let D=j;D<R.length;D++)le(R[D],_,T,Q,A)},ut=R=>{if(R.shapeFlag&6)return ut(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const _=F(R.anchor||R.el),T=_&&_[Hl];return T?F(T):_};let De=!1;const Mt=(R,_,T)=>{R==null?_._vnode&&le(_._vnode,null,null,!0):O(_._vnode||null,R,_,null,null,null,T),_._vnode=R,De||(De=!0,Do(),cr(),De=!1)},Kt={p:O,um:le,m:It,r:Ue,mt:Vt,mc:de,pc:_e,pbc:Ne,n:ut,o:e};let $s,en;return{render:Mt,hydrate:$s,createApp:Ec(Mt,$s)}}function Xn({type:e,props:t},o){return o==="svg"&&e==="foreignObject"||o==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:o}function fs({effect:e,job:t},o){o?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Vc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function qr(e,t,o=!1){const l=e.children,c=t.children;if(pe(l)&&pe(c))for(let a=0;a<l.length;a++){const f=l[a];let h=c[a];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=c[a]=os(c[a]),h.el=f.el),!o&&h.patchFlag!==-2&&qr(f,h)),h.type===An&&(h.el=f.el)}}function Mc(e){const t=e.slice(),o=[0];let l,c,a,f,h;const g=e.length;for(l=0;l<g;l++){const y=e[l];if(y!==0){if(c=o[o.length-1],e[c]<y){t[l]=c,o.push(l);continue}for(a=0,f=o.length-1;a<f;)h=a+f>>1,e[o[h]]<y?a=h+1:f=h;y<e[o[a]]&&(a>0&&(t[l]=o[a-1]),o[a]=l)}}for(a=o.length,f=o[a-1];a-- >0;)o[a]=f,f=t[f];return o}function Fr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Fr(t)}function Zo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const xc=Symbol.for("v-scx"),Tc=()=>js(xc);function ms(e,t,o){return Vr(e,t,o)}function Vr(e,t,o=Te){const{immediate:l,deep:c,flush:a,once:f}=o,h=et({},o),g=t&&l||!t&&a!=="post";let y;if(Gs){if(a==="sync"){const V=Tc();y=V.__watcherHandles||(V.__watcherHandles=[])}else if(!g){const V=()=>{};return V.stop=Pt,V.resume=Pt,V.pause=Pt,V}}const v=ct;h.call=(V,C,O)=>Wt(V,v,C,O);let S=!1;a==="post"?h.scheduler=V=>{bt(V,v&&v.suspense)}:a!=="sync"&&(S=!0,h.scheduler=(V,C)=>{C?V():xo(V)}),h.augmentJob=V=>{t&&(V.flags|=4),S&&(V.flags|=2,v&&(V.id=v.uid,V.i=v))};const F=Yl(e,t,h);return Gs&&(y?y.push(F):g&&F()),F}function Cc(e,t,o){const l=this.proxy,c=Be(e)?e.includes(".")?Mr(l,e):()=>l[e]:e.bind(l,l);let a;me(t)?a=t:(a=t.handler,o=t);const f=Zs(this),h=Vr(c,a.bind(l),o);return f(),h}function Mr(e,t){const o=t.split(".");return()=>{let l=e;for(let c=0;c<o.length&&l;c++)l=l[o[c]];return l}}const kc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${rs(t)}Modifiers`]||e[`${ys(t)}Modifiers`];function Nc(e,t,...o){if(e.isUnmounted)return;const l=e.vnode.props||Te;let c=o;const a=t.startsWith("update:"),f=a&&kc(l,t.slice(7));f&&(f.trim&&(c=o.map(v=>Be(v)?v.trim():v)),f.number&&(c=o.map(no)));let h,g=l[h=Pn(t)]||l[h=Pn(rs(t))];!g&&a&&(g=l[h=Pn(ys(t))]),g&&Wt(g,e,6,c);const y=l[h+"Once"];if(y){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,Wt(y,e,6,c)}}function xr(e,t,o=!1){const l=t.emitsCache,c=l.get(e);if(c!==void 0)return c;const a=e.emits;let f={},h=!1;if(!me(e)){const g=y=>{const v=xr(y,t,!0);v&&(h=!0,et(f,v))};!o&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}return!a&&!h?(Qe(e)&&l.set(e,null),null):(pe(a)?a.forEach(g=>f[g]=null):et(f,a),Qe(e)&&l.set(e,f),f)}function Nn(e,t){return!e||!_n(t)?!1:(t=t.slice(2).replace(/Once$/,""),qe(e,t[0].toLowerCase()+t.slice(1))||qe(e,ys(t))||qe(e,t))}function zn(e){const{type:t,vnode:o,proxy:l,withProxy:c,propsOptions:[a],slots:f,attrs:h,emit:g,render:y,renderCache:v,props:S,data:F,setupState:V,ctx:C,inheritAttrs:O}=e,H=yn(e);let z,X;try{if(o.shapeFlag&4){const G=c||l,ne=G;z=Lt(y.call(ne,G,v,S,V,F,C)),X=h}else{const G=t;z=Lt(G.length>1?G(S,{attrs:h,slots:f,emit:g}):G(S,null)),X=t.props?h:Ac(h)}}catch(G){Js.length=0,Tn(G,e,1),z=Ze(Es)}let oe=z;if(X&&O!==!1){const G=Object.keys(X),{shapeFlag:ne}=oe;G.length&&ne&7&&(a&&G.some(yo)&&(X=Kc(X,a)),oe=Fs(oe,X,!1,!0))}return o.dirs&&(oe=Fs(oe,null,!1,!0),oe.dirs=oe.dirs?oe.dirs.concat(o.dirs):o.dirs),o.transition&&To(oe,o.transition),z=oe,yn(H),z}const Ac=e=>{let t;for(const o in e)(o==="class"||o==="style"||_n(o))&&((t||(t={}))[o]=e[o]);return t},Kc=(e,t)=>{const o={};for(const l in e)(!yo(l)||!(l.slice(9)in t))&&(o[l]=e[l]);return o};function Oc(e,t,o){const{props:l,children:c,component:a}=e,{props:f,children:h,patchFlag:g}=t,y=a.emitsOptions;if(t.dirs||t.transition)return!0;if(o&&g>=0){if(g&1024)return!0;if(g&16)return l?Ho(l,f,y):!!f;if(g&8){const v=t.dynamicProps;for(let S=0;S<v.length;S++){const F=v[S];if(f[F]!==l[F]&&!Nn(y,F))return!0}}}else return(c||h)&&(!h||!h.$stable)?!0:l===f?!1:l?f?Ho(l,f,y):!0:!!f;return!1}function Ho(e,t,o){const l=Object.keys(t);if(l.length!==Object.keys(e).length)return!0;for(let c=0;c<l.length;c++){const a=l[c];if(t[a]!==e[a]&&!Nn(o,a))return!0}return!1}function jc({vnode:e,parent:t},o){for(;t;){const l=t.subTree;if(l.suspense&&l.suspense.activeBranch===e&&(l.el=e.el),l===e)(e=t.vnode).el=o,t=t.parent;else break}}const Tr=e=>e.__isSuspense;function Jc(e,t){t&&t.pendingBranch?pe(e)?t.effects.push(...e):t.effects.push(e):Xl(e)}const Ct=Symbol.for("v-fgt"),An=Symbol.for("v-txt"),Es=Symbol.for("v-cmt"),Zn=Symbol.for("v-stc"),Js=[];let Ut=null;function Pe(e=!1){Js.push(Ut=e?null:[])}function Qc(){Js.pop(),Ut=Js[Js.length-1]||null}let Ys=1;function $o(e,t=!1){Ys+=e,e<0&&Ut&&t&&(Ut.hasOnce=!0)}function Cr(e){return e.dynamicChildren=Ys>0?Ut||_s:null,Qc(),Ys>0&&Ut&&Ut.push(e),e}function We(e,t,o,l,c,a){return Cr(ae(e,t,o,l,c,a,!0))}function Lc(e,t,o,l,c){return Cr(Ze(e,t,o,l,c,!0))}function kr(e){return e?e.__v_isVNode===!0:!1}function Ts(e,t){return e.type===t.type&&e.key===t.key}const Nr=({key:e})=>e??null,gn=({ref:e,ref_key:t,ref_for:o})=>(typeof e=="number"&&(e=""+e),e!=null?Be(e)||Je(e)||me(e)?{i:Rt,r:e,k:t,f:!!o}:e:null);function ae(e,t=null,o=null,l=0,c=null,a=e===Ct?0:1,f=!1,h=!1){const g={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Nr(t),ref:t&&gn(t),scopeId:ar,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:l,dynamicProps:c,dynamicChildren:null,appContext:null,ctx:Rt};return h?(No(g,o),a&128&&e.normalize(g)):o&&(g.shapeFlag|=Be(o)?8:16),Ys>0&&!f&&Ut&&(g.patchFlag>0||a&6)&&g.patchFlag!==32&&Ut.push(g),g}const Ze=Pc;function Pc(e,t=null,o=null,l=0,c=null,a=!1){if((!e||e===ac)&&(e=Es),kr(e)){const h=Fs(e,t,!0);return o&&No(h,o),Ys>0&&!a&&Ut&&(h.shapeFlag&6?Ut[Ut.indexOf(e)]=h:Ut.push(h)),h.patchFlag=-2,h}if($c(e)&&(e=e.__vccOpts),t){t=Wc(t);let{class:h,style:g}=t;h&&!Be(h)&&(t.class=bo(h)),Qe(g)&&(Vo(g)&&!pe(g)&&(g=et({},g)),t.style=Ls(g))}const f=Be(e)?1:Tr(e)?128:$l(e)?64:Qe(e)?4:me(e)?2:0;return ae(e,t,o,l,c,f,a,!0)}function Wc(e){return e?Vo(e)||vr(e)?et({},e):e:null}function Fs(e,t,o=!1,l=!1){const{props:c,ref:a,patchFlag:f,children:h,transition:g}=e,y=t?Dc(c||{},t):c,v={__v_isVNode:!0,__v_skip:!0,type:e.type,props:y,key:y&&Nr(y),ref:t&&t.ref?o&&a?pe(a)?a.concat(gn(t)):[a,gn(t)]:gn(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:h,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ct?f===-1?16:f|16:f,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:g,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Fs(e.ssContent),ssFallback:e.ssFallback&&Fs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return g&&l&&To(v,g.clone(v)),v}function bn(e=" ",t=0){return Ze(An,null,e,t)}function ds(e="",t=!1){return t?(Pe(),Lc(Es,null,e)):Ze(Es,null,e)}function Lt(e){return e==null||typeof e=="boolean"?Ze(Es):pe(e)?Ze(Ct,null,e.slice()):kr(e)?os(e):Ze(An,null,String(e))}function os(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Fs(e)}function No(e,t){let o=0;const{shapeFlag:l}=e;if(t==null)t=null;else if(pe(t))o=16;else if(typeof t=="object")if(l&65){const c=t.default;c&&(c._c&&(c._d=!1),No(e,c()),c._c&&(c._d=!0));return}else{o=32;const c=t._;!c&&!vr(t)?t._ctx=Rt:c===3&&Rt&&(Rt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else me(t)?(t={default:t,_ctx:Rt},o=32):(t=String(t),l&64?(o=16,t=[bn(t)]):o=8);e.children=t,e.shapeFlag|=o}function Dc(...e){const t={};for(let o=0;o<e.length;o++){const l=e[o];for(const c in l)if(c==="class")t.class!==l.class&&(t.class=bo([t.class,l.class]));else if(c==="style")t.style=Ls([t.style,l.style]);else if(_n(c)){const a=t[c],f=l[c];f&&a!==f&&!(pe(a)&&a.includes(f))&&(t[c]=a?[].concat(a,f):f)}else c!==""&&(t[c]=l[c])}return t}function jt(e,t,o,l=null){Wt(e,t,7,[o,l])}const Yc=wr();let Gc=0;function Bc(e,t,o){const l=e.type,c=(t?t.appContext:e.appContext)||Yc,a={uid:Gc++,vnode:e,type:l,parent:t,appContext:c,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ji(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(c.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:br(l,c),emitsOptions:xr(l,c),emit:null,emitted:null,propsDefaults:Te,inheritAttrs:l.inheritAttrs,ctx:Te,data:Te,props:Te,attrs:Te,slots:Te,refs:Te,setupState:Te,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=Nc.bind(null,a),e.ce&&e.ce(a),a}let ct=null,Rn,ho;{const e=Fn(),t=(o,l)=>{let c;return(c=e[o])||(c=e[o]=[]),c.push(l),a=>{c.length>1?c.forEach(f=>f(a)):c[0](a)}};Rn=t("__VUE_INSTANCE_SETTERS__",o=>ct=o),ho=t("__VUE_SSR_SETTERS__",o=>Gs=o)}const Zs=e=>{const t=ct;return Rn(e),e.scope.on(),()=>{e.scope.off(),Rn(t)}},ei=()=>{ct&&ct.scope.off(),Rn(null)};function Ar(e){return e.vnode.shapeFlag&4}let Gs=!1;function Xc(e,t=!1,o=!1){t&&ho(t);const{props:l,children:c}=e.vnode,a=Ar(e);Sc(e,l,a,t),_c(e,c,o);const f=a?zc(e,t):void 0;return t&&ho(!1),f}function zc(e,t){const o=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,fc);const{setup:l}=o;if(l){cs();const c=e.setupContext=l.length>1?Hc(e):null,a=Zs(e),f=Xs(l,e,0,[e.props,c]),h=xi(f);if(us(),a(),(h||e.sp)&&!Ks(e)&&fr(e),h){if(f.then(ei,ei),t)return f.then(g=>{ti(e,g,t)}).catch(g=>{Tn(g,e,0)});e.asyncDep=f}else ti(e,f,t)}else Kr(e,t)}function ti(e,t,o){me(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Qe(t)&&(e.setupState=or(t)),Kr(e,o)}let si;function Kr(e,t,o){const l=e.type;if(!e.render){if(!t&&si&&!l.render){const c=l.template||Co(e).template;if(c){const{isCustomElement:a,compilerOptions:f}=e.appContext.config,{delimiters:h,compilerOptions:g}=l,y=et(et({isCustomElement:a,delimiters:h},f),g);l.render=si(c,y)}}e.render=l.render||Pt}{const c=Zs(e);cs();try{hc(e)}finally{us(),c()}}}const Zc={get(e,t){return rt(e,"get",""),e[t]}};function Hc(e){const t=o=>{e.exposed=o||{}};return{attrs:new Proxy(e.attrs,Zc),slots:e.slots,emit:e.emit,expose:t}}function Kn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(or(xn(e.exposed)),{get(t,o){if(o in t)return t[o];if(o in Os)return Os[o](e)},has(t,o){return o in t||o in Os}})):e.proxy}function $c(e){return me(e)&&"__vccOpts"in e}const $e=(e,t)=>Wl(e,t,Gs),eu="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let go;const ni=typeof window<"u"&&window.trustedTypes;if(ni)try{go=ni.createPolicy("vue",{createHTML:e=>e})}catch{}const Or=go?e=>go.createHTML(e):e=>e,tu="http://www.w3.org/2000/svg",su="http://www.w3.org/1998/Math/MathML",Xt=typeof document<"u"?document:null,oi=Xt&&Xt.createElement("template"),nu={insert:(e,t,o)=>{t.insertBefore(e,o||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,o,l)=>{const c=t==="svg"?Xt.createElementNS(tu,e):t==="mathml"?Xt.createElementNS(su,e):o?Xt.createElement(e,{is:o}):Xt.createElement(e);return e==="select"&&l&&l.multiple!=null&&c.setAttribute("multiple",l.multiple),c},createText:e=>Xt.createTextNode(e),createComment:e=>Xt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Xt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,o,l,c,a){const f=o?o.previousSibling:t.lastChild;if(c&&(c===a||c.nextSibling))for(;t.insertBefore(c.cloneNode(!0),o),!(c===a||!(c=c.nextSibling)););else{oi.innerHTML=Or(l==="svg"?`<svg>${e}</svg>`:l==="mathml"?`<math>${e}</math>`:e);const h=oi.content;if(l==="svg"||l==="mathml"){const g=h.firstChild;for(;g.firstChild;)h.appendChild(g.firstChild);h.removeChild(g)}t.insertBefore(h,o)}return[f?f.nextSibling:t.firstChild,o?o.previousSibling:t.lastChild]}},ou=Symbol("_vtc");function iu(e,t,o){const l=e[ou];l&&(t=(t?[t,...l]:[...l]).join(" ")),t==null?e.removeAttribute("class"):o?e.setAttribute("class",t):e.className=t}const ii=Symbol("_vod"),ru=Symbol("_vsh"),lu=Symbol(""),cu=/(^|;)\s*display\s*:/;function uu(e,t,o){const l=e.style,c=Be(o);let a=!1;if(o&&!c){if(t)if(Be(t))for(const f of t.split(";")){const h=f.slice(0,f.indexOf(":")).trim();o[h]==null&&pn(l,h,"")}else for(const f in t)o[f]==null&&pn(l,f,"");for(const f in o)f==="display"&&(a=!0),pn(l,f,o[f])}else if(c){if(t!==o){const f=l[lu];f&&(o+=";"+f),l.cssText=o,a=cu.test(o)}}else t&&e.removeAttribute("style");ii in e&&(e[ii]=a?l.display:"",e[ru]&&(l.display="none"))}const ri=/\s*!important$/;function pn(e,t,o){if(pe(o))o.forEach(l=>pn(e,t,l));else if(o==null&&(o=""),t.startsWith("--"))e.setProperty(t,o);else{const l=au(e,t);ri.test(o)?e.setProperty(ys(l),o.replace(ri,""),"important"):e[l]=o}}const li=["Webkit","Moz","ms"],Hn={};function au(e,t){const o=Hn[t];if(o)return o;let l=rs(t);if(l!=="filter"&&l in e)return Hn[t]=l;l=ki(l);for(let c=0;c<li.length;c++){const a=li[c]+l;if(a in e)return Hn[t]=a}return t}const ci="http://www.w3.org/1999/xlink";function ui(e,t,o,l,c,a=gl(t)){l&&t.startsWith("xlink:")?o==null?e.removeAttributeNS(ci,t.slice(6,t.length)):e.setAttributeNS(ci,t,o):o==null||a&&!Ai(o)?e.removeAttribute(t):e.setAttribute(t,a?"":ls(o)?String(o):o)}function ai(e,t,o,l,c){if(t==="innerHTML"||t==="textContent"){o!=null&&(e[t]=t==="innerHTML"?Or(o):o);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const h=a==="OPTION"?e.getAttribute("value")||"":e.value,g=o==null?e.type==="checkbox"?"on":"":String(o);(h!==g||!("_value"in e))&&(e.value=g),o==null&&e.removeAttribute(t),e._value=o;return}let f=!1;if(o===""||o==null){const h=typeof e[t];h==="boolean"?o=Ai(o):o==null&&h==="string"?(o="",f=!0):h==="number"&&(o=0,f=!0)}try{e[t]=o}catch{}f&&e.removeAttribute(c||t)}function Rs(e,t,o,l){e.addEventListener(t,o,l)}function fu(e,t,o,l){e.removeEventListener(t,o,l)}const fi=Symbol("_vei");function hu(e,t,o,l,c=null){const a=e[fi]||(e[fi]={}),f=a[t];if(l&&f)f.value=l;else{const[h,g]=du(t);if(l){const y=a[t]=mu(l,c);Rs(e,h,y,g)}else f&&(fu(e,h,f,g),a[t]=void 0)}}const hi=/(?:Once|Passive|Capture)$/;function du(e){let t;if(hi.test(e)){t={};let l;for(;l=e.match(hi);)e=e.slice(0,e.length-l[0].length),t[l[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ys(e.slice(2)),t]}let $n=0;const gu=Promise.resolve(),pu=()=>$n||(gu.then(()=>$n=0),$n=Date.now());function mu(e,t){const o=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=o.attached)return;Wt(wu(l,o.value),t,5,[l])};return o.value=e,o.attached=pu(),o}function wu(e,t){if(pe(t)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},t.map(l=>c=>!c._stopped&&l&&l(c))}else return t}const di=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Eu=(e,t,o,l,c,a)=>{const f=c==="svg";t==="class"?iu(e,l,f):t==="style"?uu(e,o,l):_n(t)?yo(t)||hu(e,t,o,l,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):yu(e,t,l,f))?(ai(e,t,l),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ui(e,t,l,f,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Be(l))?ai(e,rs(t),l,a,t):(t==="true-value"?e._trueValue=l:t==="false-value"&&(e._falseValue=l),ui(e,t,l,f))};function yu(e,t,o,l){if(l)return!!(t==="innerHTML"||t==="textContent"||t in e&&di(t)&&me(o));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const c=e.tagName;if(c==="IMG"||c==="VIDEO"||c==="CANVAS"||c==="SOURCE")return!1}return di(t)&&Be(o)?!1:t in e}const gi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return pe(t)?o=>dn(t,o):t};function vu(e){e.target.composing=!0}function pi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const eo=Symbol("_assign"),Su={created(e,{modifiers:{lazy:t,trim:o,number:l}},c){e[eo]=gi(c);const a=l||c.props&&c.props.type==="number";Rs(e,t?"change":"input",f=>{if(f.target.composing)return;let h=e.value;o&&(h=h.trim()),a&&(h=no(h)),e[eo](h)}),o&&Rs(e,"change",()=>{e.value=e.value.trim()}),t||(Rs(e,"compositionstart",vu),Rs(e,"compositionend",pi),Rs(e,"change",pi))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:o,modifiers:{lazy:l,trim:c,number:a}},f){if(e[eo]=gi(f),e.composing)return;const h=(a||e.type==="number")&&!/^0\d/.test(e.value)?no(e.value):e.value,g=t??"";h!==g&&(document.activeElement===e&&e.type!=="range"&&(l&&t===o||c&&e.value.trim()===g)||(e.value=g))}},bu=et({patchProp:Eu},nu);let mi;function Ru(){return mi||(mi=qc(bu))}const Uu=(...e)=>{const t=Ru().createApp(...e),{mount:o}=t;return t.mount=l=>{const c=Iu(l);if(!c)return;const a=t._component;!me(a)&&!a.render&&!a.template&&(a.template=c.innerHTML),c.nodeType===1&&(c.textContent="");const f=o(c,!1,_u(c));return c instanceof Element&&(c.removeAttribute("v-cloak"),c.setAttribute("data-v-app","")),f},t};function _u(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Iu(e){return Be(e)?document.querySelector(e):e}var qu=!1;/*!
 * pinia v2.2.7
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let jr;const On=e=>jr=e,Jr=Symbol();function po(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Qs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Qs||(Qs={}));function Fu(){const e=Ji(!0),t=e.run(()=>Le({}));let o=[],l=[];const c=xn({install(a){On(c),c._a=a,a.provide(Jr,c),a.config.globalProperties.$pinia=c,l.forEach(f=>o.push(f)),l=[]},use(a){return!this._a&&!qu?l.push(a):o.push(a),this},_p:o,_a:null,_e:e,_s:new Map,state:t});return c}const Qr=()=>{};function wi(e,t,o,l=Qr){e.push(t);const c=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),l())};return!o&&Qi()&&pl(c),c}function Ss(e,...t){e.slice().forEach(o=>{o(...t)})}const Vu=e=>e(),Ei=Symbol(),to=Symbol();function mo(e,t){e instanceof Map&&t instanceof Map?t.forEach((o,l)=>e.set(l,o)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const o in t){if(!t.hasOwnProperty(o))continue;const l=t[o],c=e[o];po(c)&&po(l)&&e.hasOwnProperty(o)&&!Je(l)&&!Ht(l)?e[o]=mo(c,l):e[o]=l}return e}const Mu=Symbol();function xu(e){return!po(e)||!e.hasOwnProperty(Mu)}const{assign:ss}=Object;function Tu(e){return!!(Je(e)&&e.effect)}function Cu(e,t,o,l){const{state:c,actions:a,getters:f}=t,h=o.state.value[e];let g;function y(){h||(o.state.value[e]=c?c():{});const v=jl(o.state.value[e]);return ss(v,a,Object.keys(f||{}).reduce((S,F)=>(S[F]=xn($e(()=>{On(o);const V=o._s.get(e);return f[F].call(V,V)})),S),{}))}return g=Lr(e,y,t,o,l,!0),g}function Lr(e,t,o={},l,c,a){let f;const h=ss({actions:{}},o),g={deep:!0};let y,v,S=[],F=[],V;const C=l.state.value[e];!a&&!C&&(l.state.value[e]={}),Le({});let O;function H(de){let we;y=v=!1,typeof de=="function"?(de(l.state.value[e]),we={type:Qs.patchFunction,storeId:e,events:V}):(mo(l.state.value[e],de),we={type:Qs.patchObject,payload:de,storeId:e,events:V});const Ne=O=Symbol();Mo().then(()=>{O===Ne&&(y=!0)}),v=!0,Ss(S,we,l.state.value[e])}const z=a?function(){const{state:we}=o,Ne=we?we():{};this.$patch(tt=>{ss(tt,Ne)})}:Qr;function X(){f.stop(),S=[],F=[],l._s.delete(e)}const oe=(de,we="")=>{if(Ei in de)return de[to]=we,de;const Ne=function(){On(l);const tt=Array.from(arguments),ot=[],wt=[];function Vt(Ee){ot.push(Ee)}function At(Ee){wt.push(Ee)}Ss(F,{args:tt,name:Ne[to],store:ne,after:Vt,onError:At});let Ce;try{Ce=de.apply(this&&this.$id===e?this:ne,tt)}catch(Ee){throw Ss(wt,Ee),Ee}return Ce instanceof Promise?Ce.then(Ee=>(Ss(ot,Ee),Ee)).catch(Ee=>(Ss(wt,Ee),Promise.reject(Ee))):(Ss(ot,Ce),Ce)};return Ne[Ei]=!0,Ne[to]=we,Ne},G={_p:l,$id:e,$onAction:wi.bind(null,F),$patch:H,$reset:z,$subscribe(de,we={}){const Ne=wi(S,de,we.detached,()=>tt()),tt=f.run(()=>ms(()=>l.state.value[e],ot=>{(we.flush==="sync"?v:y)&&de({storeId:e,type:Qs.direct,events:V},ot)},ss({},g,we)));return Ne},$dispose:X},ne=Mn(G);l._s.set(e,ne);const Fe=(l._a&&l._a.runWithContext||Vu)(()=>l._e.run(()=>(f=Ji()).run(()=>t({action:oe}))));for(const de in Fe){const we=Fe[de];if(Je(we)&&!Tu(we)||Ht(we))a||(C&&xu(we)&&(Je(we)?we.value=C[de]:mo(we,C[de])),l.state.value[e][de]=we);else if(typeof we=="function"){const Ne=oe(we,de);Fe[de]=Ne,h.actions[de]=we}}return ss(ne,Fe),ss(Re(ne),Fe),Object.defineProperty(ne,"$state",{get:()=>l.state.value[e],set:de=>{H(we=>{ss(we,de)})}}),l._p.forEach(de=>{ss(ne,f.run(()=>de({store:ne,app:l._a,pinia:l,options:h})))}),C&&a&&o.hydrate&&o.hydrate(ne.$state,C),y=!0,v=!0,ne}/*! #__NO_SIDE_EFFECTS__ */function ku(e,t,o){let l,c;const a=typeof t=="function";l=e,c=a?o:t;function f(h,g){const y=vc();return h=h||(y?js(Jr,null):null),h&&On(h),h=jr,h._s.has(l)||(a?Lr(l,t,c,h):Cu(l,c,h)),h._s.get(l)}return f.$id=l,f}function Hs(e){{const t=Re(e),o={};for(const l in t){const c=t[l];(Je(c)||Ht(c))&&(o[l]=Ll(e,l))}return o}}const Nu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABlCAAAAACAHCmeAAAETklEQVRoBZXBiYGCQAAEsEz/Rc+BIJ8Lekn8T+3iX+JXdSd+Ej9o6ll8F9/ULg7qKL6JL2oTA7WJR/GoVvGgFmnciwe1iO9qksatuFOLOKlFXJVU3IkbNUnjot7iql5iKIbqJUZqER9qEkMxUi8xUm/xqYiR+FQvMVIH8ale4io+1CyG6iQGahYXcVWzGKqzGKlZnMVFTWKormKoZnESZzWJofoQN2oSR3FSxFCNxI2axEEc1SQG6kNqEjdqErs4qElc1ZO4UanYxK6ID/UsbtQk3mJXxFV9EbeKWMWmiA+1Su2i3uJOEat4K+JTLVKbUJu4VcQiVjWJDzWLeotJ7eJeES+xKjFQR7GoXTwo4iUWRQzUJlZ1FE+KmMVLTWKgVrGqk3hWxCReihipWbzVSXxTxCRmRYxVbOosvisxiVmJ7+oiflAEMSnxVT2IeyWISYln9VXcKEFQxIP6TQyVICjiXv0sRioISgyUmNWToFYxUEJQMVLErO7ES73FQIlQYqQmUavUSbzVLj6VCCVG6iq1il0dxUBFKDFSt2JXJzFQEUqM1EFQm3irt6BioCJKDNVbLOotFrWKeomBkigxUqtY1SZm9SFGSqLESC1iVZugPsWNSpQYqEW81FdxrxIlBupf4lElRQzUP8QXlRQxUD+LryopMVK/iV9UUmKkDlIX8S8lJYZqlzqJs4pHJSWG6ipqFhc1i3slJcaK1CY1i4taxa2SEmMlFFGruKhN3Copca9mqUVc1EHcqqTEnTqLiyJqEbcqKTFUA3FQk9QsJW5VUsSnuhOLmkRt4lYlRVzUo5jUJGoT9ypR4qB+kJqE2sS9kiixqUepXahNPCiJEm/1IE1tQm3iUUWUWNWTUJuoTTyrCCVe6irqINQqtYkvKkKJlzqIWZ2lPsQ3FUKJWb3FqkZSB/FVhaDEpF5iU1/FDyoEJahJHNRA1C5+UEJQhBK7Okm9hNrFD0oIirioo6hFqJP4poKgiLM6ilqkRuJBCWJSxFEdhPpFDJUgJkUc1SRqEvWz+FAEMStiValNqP+JkxKTmBWxql2o/4tdEZN4KWJRb0Hton4Tb0XM4qUmsahZzGoXs1ql7sWqiFksiljUJGa1i5daxKI2qU28FPESqyIWNQlqF4taxK5WqbeYFLGIVU3ipV5Su1jUIs7qIiZFLOKtiEVdxKpW8aFOQhGr2BSxqJNY1SqGahdFvMWmJrGog1jVWzwpoohN7GoSizoJtUiJHxSxiYOaxKLGouIHReziqCaxqEnqIhXf1SQO4qQmsahZ6iBFfFWTOIqzmsSqLqLiu5rESVzUJFZ1EI2Kr2oSZ3FVk3irXfymJnERH4rY1Vv8pIgPMVJiV4v4RRGfYqRm8Vaz+EURAzFUk/i/msRIjNUs/qmIsbhTs/hdTeJO3KtFfFcvcS8e1Fs8qLd4EM9qFwO1iUfxVR3Fok7iq/hJpW7FL+I/6iD+5w8rOJhwB3wAwQAAAABJRU5ErkJggg==",Au=Object.freeze(Object.defineProperty({__proto__:null,default:Nu},Symbol.toStringTag,{value:"Module"})),Ku="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABmCAAAAADpSjAOAAAErklEQVRoBa3BC6KqSgIEsNT+F13TfMRGUTz3TRJ/Vrv4m/hdXYlfxU+a+iruxQ/qXtyKO/UUb+oQ38V39RAf1S6+iW9qFzdqE5/FR7WLn9QQn8UntYrf1ZDGtbhWm/iTEp/EpVrFnxVpXIgrtYh/Uot4E+9qETcqLtUqXsS7GuJODXGlFnEWr2oRt2oVF2oRJ/GihvhB7eJdLWIWZzXET2oXF2qISZwU8aM6xIUinmJWQ/yqDnGhiENMaoif1ZBaxJumxCGeaogrFe/qKS4U8RBPRbyrTZzVJK4UsYtDEW/qECe1Sg1xpYbYxEMRL+osnmqTIq7VEKvYFTGrd3GoSXxSxCp2JR7qg3ioXUoMJd7UEIvYFPFQH8SuHlKhdvGqiCE2RTzUB7Gpz+KsiCFWJZ7qWqzqqzgpYohFEZO6ELv6Lk6KIBZFzOpN7OqQpobULGZFEIsiTuohijjUU6ios5iVIIYiXtUmKia1Sc2iDjEpQQwlrtQuJnUWh3qISQUxlLhSpMSsZjGpQzyVEJS4VKTipA5xVod4KiEocaVIxVlt4k0dYlIiKHGlSMVZDXGhnmJSIqi4UqTEWYldEQ91iJOKUOJCreKj2sWmHuKsIpS4UKTxQc1iqId4URJKvKtNXKhXQe3iVUko8a5IxYV6F2oXbypR4l2Rigt1IWoX7ypR4l0t4lV9EDWkxLtKlHhTxLu6EhU1pOJCJUq8KWJTQ6zqXaioISUuVKLEqxrSUA8x1CpNbWJo1C6uVKLEqyINNYmhFmlqFTTULq6UKPFUT1EnQa1CPYR6iCslRTzVIeosqE1qlaZRD3GppIhJPaRehTpLRT3EtRIlZvVZ1HdxrUSJWR1ST7Goz1LxQYkSs5qEWkQFdRI1iw8qUWJST7GoISqoSUpqFSU+qUSJST3FolYx1CE1iRIfVaLEU01iUaRiqEVQuxQp4rNKlDjULBZFbGoWi9rEF5Uo8VAnsShSMRSpRexqFV+URBG7OgtqFYsiFbNaxBclUcSmNqlNqE0silTMiviqJJRY1SZqk1qlsahVnJT4riKUWNQqqLNUDLWIP6sIJYbaBPUqFrWIeyUOJUIR1CqGOknTGGoR90ocKgQlqEUs6iQ0qFXcK3GoEBShhljVi1jUKu6VeCghKEIRmzqLVa3iXomHEmIooeKhZrGrVdwrsStBDCVOahIPtYpbRexKEEMRs3qISa3iTg2xK0EMNcSkdjGrVdypRayKIBZFzGoTs1rFjVrFqsQQixpiVquY1Sa+qk0sihhiVcRJLWJWu/isDkERi9gUcVLEST3FpZoERSxiU8RZibM6iZN6EYpYxa6IO/U3qSFWsash7tSvUqSITTxUKu7UT6KGlNjFoYa4VbdCDVHxEE9F3KtfpeIQTzXEL+oHUeIQkxriZ/VJDEU8xayG+Ks6xKGISZzUEP8HNcQszmqI/6yGOIkXNcR/VEOcxasa4j+pIV7Em1rEP6tFvIorRfyrGuJNXCnS+Bc1xIW4VEP8Wa3iSlyrRfxRDXEtPqhV/K6pIT6Ij2oXP6hNfBTf1C6+ql18EV/VU1yrh/gqbpTUISY1iTtxr1E34l78QR1Si/iD/wETNddw4LVh4wAAAABJRU5ErkJggg==",Ou=Object.freeze(Object.defineProperty({__proto__:null,default:Ku},Symbol.toStringTag,{value:"Module"})),ju="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABlCAAAAACAHCmeAAADbUlEQVRoBa3BCYKkRgADMPn/j3aKvoA+oNiJFJfUVlwRk+q3mBET6kycizO1EY2b2oszcaxW8UWt4kgcqac4UA9xIH6rhzhVd/FT/FJ3Malu4of4ru5iXt3Ed/FV3cRFtYhv4ou6i+tqEZ/iUy3i39QiPsSHWsS/qpt4E+9qEX9Qi9iLN7WIP6lF7MReDfFnNcRW7BRxpIhzNcRGbNUQB+ouThWxio0ijtRLnKghXmJVQxyprThUQzzFSw1xrLbiUA3xEE81xInaiSM1xEM81RBnaieO1BB38VBDnKutOFbETdwVMaO24lgRN3FXYkptxbEaYhE3RcypjThRxCJuiphTG3GmiCEWRUyqjThTxBCLIibVRpwqghhKTKtVnCuCGEpMq1VMKEFQxLRaxYQSBCXm1SpmVBCKmFermFFCKGJerWJGCaHEBbWKKSVCiQtqFVNKRBEX1CqmlIgiLqhV7NRLbJVEiStqFXf1RbxURIkLalo8lUSJC2pePJREiWl1STxUUsS5+idxV0kRh+rfxV0lRfxSfxR3lZTYaDzUnwQVdyUlnup/lYq7khJPNSE1KRp3JSVe6p/EU22k8VBS4qWuia9qEatKSrzUNTGpkhKruiQmVVJiVUeC2ohJlZTYqB/irjZiUiVFrOqLWNVGTKqkiI16Ezu1EZMqUWKrtuJNbcSckiixUy/xoTZiTkWU2KtFfFWrmFQRJS6oVUyqiCLm1SomVYQS82oVcyqEEvNqFXMqBCVm1UbMqRCUmFUbUTdxpIKgiEm1EbWKHyoIiphUv8VXJQiKmFRH4osSBDXEqToXn0oQQxFHala8K4JYFPFNXRRvihhiUcSHui7elFjEooZ4VydSH2KniEXc1BB79S9ip4hF3BXxpv5BbBVxE3c1xF5dF1tF3MVDDbFXP8VTbcVWEXfxVMRefYqv6ia2iniIlyL2ai+uKOIpXmqIvVrFNTXEU6xqiDd1FxfVEC+xUUPs1SKuqiFWsVVD7JW4rIbYiJ0a4u9qiK3YqyH+qobYiTdNib+pIfbiXQ3xFzXEm/hQxB8U8SE+NSX+UQ3xKb6pRfyDGuKL+KqGuKyG+Cq+q0Vc0dQQ38UvtUhjTt3EL/Fb3cWpeoif4kC9xG/1FAfiUG3EF/USh+JM7cRQH+JMzKhDMSOuqK245D9LSCVxusul6AAAAABJRU5ErkJggg==",Ju=Object.freeze(Object.defineProperty({__proto__:null,default:ju},Symbol.toStringTag,{value:"Module"})),Qu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABlCAAAAABrK5KdAAAE9UlEQVRoBZ3BiWHkNgAEMEz/RU9I/dqVfHaA+JO6ij+IX6pX8RvxC/UP8W/xD3URh7qLf4if1Ske1Cl+ED+pTfykVvGDeFeb+KdaxZt4U6v4nZISL+JZreIPaopH8agW8Te1iAfxoBbxsyLuaopv8a2m+FFt4q6G+BJfaoof1SluahF38amG+FndxE1NcRN3NcWm8aREneKmpriKuyIORXyqGOoUNzXFRdwUcaop7hpTneKupjjFVQ1xUVNcNRZ1EZ+KOMRFDXFVi3hQX+JUQ+ziVEPc1Cq+1JPY1RSbONQQd7WJT/UoDkVsYldDfKpN3NWL2NUQq9gV8aWGFHFVr+JQxCI2RXyrXVzVp9QmdkUsYlXEg5pS4qI2qV1qE7siplgV8aB2capN6kEcSkyxKOJJ7eJQd0EtosShiCGmIh7VLg61SE0x1BRKXBRBTEU8ql3sapEaYlFDUOKiCGIo4lntYlOL1BCLmkLjQxFiKOJZLVKxqFWKWNUiHhQhhhIvaoqKqS5iU0M8KyEo4kVNKTHVKTY1xbMSghI3FZvaxFQ3MdUUbyoEJRZ1ikUdgvoQ1BQaT0qEEqu6iKkOQX2KmlLiUYlQYlOnmGoXQ/0gXlSEEpu6iKE2MdW7eFMSJXZ1FdQmpjqkbuJVSZQ41EWoXUz1Jt6VRIlTnUJtYlEv4ieVKHFRu6A2sSiiPsWPSpS4qtQU1Co+1UXc1BCnkiIuahGLWsWHuohF3cWupIiLmmJRm7io34pVSYmLmmJRu7ioX4tVpcSppljUIa7q12JRKXGqIRZ1iJv6vZgqJU5FLOoUF/Ui6iYlpkqJQ4lVXcSh3kTdRcVUKXForOomNvUuKtQpNpUSu8aq7mJRh9SnqHhWKbFrTLVJrUJdpTYx1BCNF5USm8ZQu6gfxaaGVLyolNg0qF2od3FRpOJFpcSmUqtoUG/iphbxolJiVYdY1bP4UIt4USliqkOs6pDaxbdaxLMSJabaBI2hVqE28aQW8axEialWQWOqVQw1xKbEqVbxqESJqRZxqlVc1CF2tYpHlSgx1SJOtYldXcWmVvGoEiWmmmLXqFXs6i5WtYpHlShiKkJjqqghFZv6FItaxZOKUGIq4tCoIRWb+hSLWsSjilDEUMShFlGxqVVqF4taxJOKoMRQpGJVi6i4KlKbmGoVDyoERQxF7GoRFVc1paZY1CoeVAiKmIrY1CoVu0ZdxaJW8a2EoIgvdYhdSZ1iVav4VkJQQ3yqQxxKUIvY1Cq+FCGGIj7VIU4lvtQqvhQhpiI+1CEuivhQq/hUBDEV8aEOcVFT3NQqPhVBTDXEh9rFVS3iolbxoYghFjXEXe3iphZxqlV8KGKIVRF3tYu72sSqVvGhiClWNcRNbeJTHWKoVdwVsYhNDXFTq/hSj+KuiEXsiripVXyrJ3FTxCoORdzUFE/qQVwVsYlDDXFVUzyrm2hcFbGLUw1xVUO8qKtoXNQQu7ioIa5KvKpTNC5qiENc1RBXjR/ULjRONcQpbmqI36tNShxqiIu4qyH+oBbRONQQV/GhhviDmqKxqyFu4lNT4i9qSGNTQ9zFlyL+pohVDfEpnpT4k4pVDfElntQU/0MN8S0e1RB/VkM8iWc1xd/UEI/iRa3i94p4Ee9qFf9Wi3gVP6hd/KB28S5+Vqd4ULv4UfxTXcWq7uIf4lfqR/Fv8Rd1EX/yH4p07GIDXbCnAAAAAElFTkSuQmCC",Lu=Object.freeze(Object.defineProperty({__proto__:null,default:Qu},Symbol.toStringTag,{value:"Module"})),Pu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABlCAAAAACAHCmeAAAET0lEQVRoBZXBiYGCQAAEsEz/Rc+t8isgl8R/1F78SzxU1+KJeKCpe/Fb/FSr2Kud+CV+qFWcqFXciju1iDs1iRtxoybxWw1pXIpLNYlnSiquxIWaxHM1RONMnKuXuNP4VC9xJs7UW1ypVRwUaXyLE/US5+pD7NUQ3+JLvcS5+hYH9RIf4ksNcaZOxYdKxVF8qJdYVCzqQnyoIQ7iQxGbEm91KT7VEHtxUEPs1BCUoE7ElxpiJ/aKOKiXKOKtjuJMDbGJnRriqBYxqYM4V6lYxaaIT7WISU1SxKUaYhGbSuNTvaViUpOUuFFDzGJVxJcaUmJSm7hVQ0xiUUN8qVm81F7cK2ISsxriW81iqKO4VUO8xayIEzUJ6kvcK+IlJkWcqUmoE3GriJeYFHGmJlFn4l4RQ7yVOFWzqDPxQ4kh3oo4U7OoU3GvCOKlxLkaUqFOxb0iiJcS52pIhToTvxQhhhIXahLqW/xWhBhKXKhJqFXqLR4oQlDEhZoEtUgN8UwJQYkLNYtFLeKhCkGJCzWJVc3iqRJBxZWaxKwO4okSoYgLNYlJfYoHKkKJKzWJtzoRP1WEEhdqFkOdip8qosSVmoW6Er+URIkrNYu6FD9VosSVmoS6Er9VosSVmoSapY7it0qUuFCzoM7EI5UocaFmQS1Ss3iopIgLNYuhZqm3eKykiAs1i5c6iH+oFHGhZrGoRfxHpYgLNYlFLeI/Soq4UJOY1So2tYhzJUVcqEm81U7qXJwoKXGlJjHUU/GlpMSVmoT6j/hQUuJKTVL/FEclJa7UJPVfcVBS4lK9pU7FQW3ioBIlrtRb1CQ1iRO1ib1KlLhUL6EO4kztxE4lSlyql6D24kztxKYkSlwr4q02caZ2YlMRSlwrsaq3lPhUe7GpCCUeqr04qr3YVIQSD9WXWNVObEqEEs/UmZjUTuxUCEr8VJfirTaxVyEo8UvdiaE2sVNCUMSJeouXuhNqE3slxFBiKGJWe1FHUZtQm9grIYYSQz0Vk5qFWsVeEWIognooFjWJWsVBCWIoYqidqKgvcVAx1Cr2iiBeiqCOYqiDOFeLOCgxxEsR1CI0JrUT52oVe0UM8VYE9ZLGXq2CxrdaxF4RL/FWxFAv0dirSVDEh1rFXom3mBQx1BCNoyLeaoiDWsVOEW8xK2Io0rhRQ+zVIvaKeItZDTEUcacmsahV7BQxiUURz9Qm1CQldoqYxaqIZ+pMVGyKWMSqhnimvqVpbIpYxaaGeKY+pYhNEavYKeKhOhGrGmITezXEM3WQEqsaYicOaoiHahMVqxpiL45qiIdqESUWNcRBfKghHqqdWNQQR/GphnioNjGrIT7ElyKNZ2oRsxriU5wp8VBNYlbEtzhVQzxSLzGpIU7EqSIeKmJSxKk4Vy/xSMVbDXEurtRLPNYUcSWu1SR+qllcihu1iBu1iBtxrzZxohZxL36qvXirD/FLPFJ34on4l9qJf/kDL2Gdat+6n0YAAAAASUVORK5CYII=",Wu=Object.freeze(Object.defineProperty({__proto__:null,default:Pu},Symbol.toStringTag,{value:"Module"})),Du="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABqCAAAAACeiPB1AAAEQklEQVRoBb3BWaKjSAIEMMX9Dx2TLPYDzFbz0VL8d+K/E/+d+Ef1J/5JvFbn4qV4o57Es3hUG6FEHcSjeFJfcaK+4lbcq4+4VIu4FTdqFV/1EVs1icaVuFSL2KqN2KohLsWVmsVBbcVWpXElztUsftVWbBVxIU7VJM7UTuwVcSZO1CzO1U7sVSp+xa+axJXai72SEgfxoyZxrXbiqCaxF0c1xK3aih+VEjtxUEM8qFVK/KqU2Iq9Ip7UKkWcKmIjdmqIB7UV52qIP7FRk3hQW3GpiK/YKOJJ7QQ1xEFT4iv+FPGkdqJWcdCU+IivIh7UjTioIVbxVcStuhcHRazio4gb9SyOSixiVcSpei2OipjFooY4U+/FUQ0xiUWJo8ZHvREnSkxiUeKgxEc9iAtFDDErcVA3Uh9xr4ghJiWO6lJqlYoHRRCTEkd1JWon7hRBDEUc1a1QH3GnBDGU+FFnQhFUqFncKEEMJX7VmagYKqhZ3ChBUMSJ2guNiqExqVncKSEocaa2QknFUDGpRdwoIShxqlYxqUkMJSa1iDsVQhFv1BCTikmt4k6JUOKNmsRQYlKruFMilHihJjGUmNRH3KqIEi/UJCYlhvqKWyVR4lnNYihiqK24VhIlHtUihhJDHcSlSpR4VIugCOpHXKlEiSf1ETUE9SvOlUSJB3UUapX6E+cqKeJeHYU6FecqKeJW/Yg6ChUXKiniRp2IWoSahIorJSXu1InULIb6iEslJW7UjRjqI66VlLhRk9SJGOojbpSUuFGrUDtBTVLEnUpKXKtVTOpPqFmKuFVJiWu1iFltpD7iSSUlrtUsFnUqHlVS4lpN4qu2UsQLlZS4VkNs1E68U4kSl0rs1J94qyRKvFQ7sagzsVESJd6ofxVfFVHiUX1EvRUfFVHiXi1iUq/FR0UocaNmQf2jWFWEEldqEtQ7MdQiFhVCiVP1/0rNYlEhlDhRT2KvjmJRIShxUC/EqfqKWQVBiY9KXQtqFZdqEosKgiIWdS0WtYp3ShAUsagL8VWreKcEQQ0xqxOxU6t4pQhiKGJSR/GjVvFKiSGGIma1FWdqFW8UMcSkiEn9iXO1ijeKGGJSxKxmca0W8UYRk5gV8VIt4o0Ss1gU8U4t4oUiZrEo4p1axLMiFrGoIV6pRTyqIRaxqiHeqEU8KmIVH0W8UYt4UsRHfBXxQi3iQRFf8aeIZzWLBzXEV/ypIR7VLO7VEH9io4Z4UrO4VUNsxFYN8aBmcaeG2IqdGuJezeJGDbETezXErZrFtRpiLw6aIm7ULC7VEAdx1BRxrWZxqYijOFPiWk3iQhG/4kxJ40oNcaGIE3GmhrhSQ5xpSpyKUzXEhRriTBHn4kINaZyoIX7VEBfiSs3iVxEHjSIuxbVaxV4RW7WKa3GnvmKjxFet4lY8qD+xKjGpP/EgntVeVGonnsVb9SfULN6Lf1STaPyr/wEZZ5J2PlnxwgAAAABJRU5ErkJggg==",Yu=Object.freeze(Object.defineProperty({__proto__:null,default:Du},Symbol.toStringTag,{value:"Module"})),Gu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABlCAAAAACAHCmeAAAEQUlEQVRoBa3BC5LqOAAEMPX9D93PSfgEsAOztVL8TZ3FH8SvaiV+Er+ob+Kr+KpO4qyG1C6uxRd1iIqJImqIK3GpNvFFU4dYigu1i1/UIRZiqYjGrxpKzMVCDWl8KGKqUcRMzBVpfKi7+NRQYiKmipiop5iqIT7ERA0xUycx1ZR4F59qiLk6ialKxZv4UNJYqU0UsdR4E+9KXKinWKhUvIg3NcSFuoulSsVZvCriUt3FWg1xEi9qiEv1IhaKeIqzIr6pNzFT0niIkyK+qiHqIWZqiLt4qiG+qImYqSFu4qmISzUXU5XGTTwUcaGWYq7SOMRdESv1KuokForYxU0RK/Um6iGWaohN3BSxUm+iDnGpiE0cilirV6ldfFPEELsirtSL+FURQ+xKXKsXafymCGJTxBd1korfFEFsirhUL1KxqZtYKUIMRVypQ1ALsVBCDEWs1S52tRRTJcRQYq02cVOb1ETMlBAUsVKbONQhmhLqLGYqBCVWiripuxjqU0yUCEosFHGop6ipmCgRlJgrcaiT1BA39RQTFaHEXIlDnaXEUz3Fp4pQMVdiV69S4qmG1CY+lYSKqSI2NREPtYka4lNJlJgqYihiaFCHeKhNUGKiEiVmagiKuKuT2NUmlJipRImZ2qXEU53FpnYpYqYSJWbqIW7qJmoTm3qIqRIlZuohDvUQlcamHmKuRImZOqRiU69Ssam7WChRYqrugnoRKo2h7mKhpIi5uouaiE3dxUpJEQt1E/UiRexqSImlkiJW6hB1liIORUqslRSxUocY6kUc6hAXSopYql3c1EMcipS4UFLEWu3iUE9B3cWVkiLWahebmkuJKyUqLtQuhlqLS5UocaE2QT1FncW1SpS4UJtQr4I6xBeVKHGhNlGvUg/xTSVKXKiJ1F38ohIlrtSH1C5+VBFKXKgPKeJ3FaHEhZqKP6gIJa7UTLyph3hTEYq4Un8XJyWCEtdK7OpH8VQhKPGT+ou4qxCU+KpOUj+IQwkxlLhS/03sSoihxEpNhPouNkWIoYhPtZD6SWxKEEMRr+r/EBRBbIrY1Y/iU51FgxJDbIrY1afUp5iru9gUMcSuiE1dCHUTa7WJTYlN7GqIoebiUDfxkyI2cShiU0SdxUMd4idF7OJQQ2zqTZzUIX5SxC5uitjVSbyqQ/yiiEPcFbGrm/hQh/hBETfxUMQ3dYjviriLhxriizrEVzXEXTzVENfqEF8V8RAnRVyrQ3xRQzzFWRGXipT4ooiTOKshrhQpca2Is3hRQ1yoXVyqIV7EmyIulFRcqSFexbsaYqmk4kIN8SY+1CYWSiqWahPv4lNtYq6ksVRDfIqZ2sRMDbFQm5iIqdrERA0xVZuYirmSEp8qjZkaYiFWmtrEmyI+1C5W4koN8arEu9rFWlyoQxonjXe1iwtxrW5irlGb+CK+qrM41Iv4Kn5Rl+IX8Sf1EH/0DyR8qGp+1pBYAAAAAElFTkSuQmCC",Bu=Object.freeze(Object.defineProperty({__proto__:null,default:Gu},Symbol.toStringTag,{value:"Module"})),Xu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABsCAAAAACu+NgsAAAFfklEQVRoBb3BUULbCgJFMZ39L/qOnRCIIWnp+xgpvzF/ll/KX82v5BfyF/NN7ua7/FX+aL7khXmWv8gfzIf80TR3+aO8Mw/5jfmQ9/LGfMhvzV3eykvzIf9gPuSNvDI3+Vdzl9fy09zlP5i7vJIf5ibPRn5lzSGv5Ls55WLu8gtzygv5Zk65mE/5hTnlh1zNKVfzJX83N/kuF3PKN/MkvzCnfJNnc8p38yy/MKdc5cmc8sNc5BfmlIt8mVN+WnPTHPIbc8qzfJpTXpon+ZU55Fk+DXljnuR35pQv+TCnvDF3DfmlOeRLPswh78xdQ35pTvmUuznlnblpyK/NKQ+5mVPemptG/sEc8pCbOeStuWvklTXywxzyIac55L35lJ/mU67mlLuc5pD35lN+mGe5mEPucphD/mA+5Zv5Ls/mkJsc5pD35lmezAt5MofchDnknfkhD/OheZYvQ27CkHfmhdzNG3ky5BRzyEvzWu7mnXwZcsoc8tK8kdE8yzzJpyGnzCE/zSvNIXOV03zKpznkkDnku3mlOcXcNS0f5ks+DTlkyDfzUnMK85Av8yWfhhwy5DByM80fhDnlar7kyxAachjChHknp7nLxXzKkyE05DB3zWvNIac5NHI1D3kyhIYwNzEvNYfczKEhQyOHeciTOUQjpzmEeSt3c5d5EvOQZ0M0cprXmlNDbuZJ86X5kIshGrmZFzJfcppfyMUc0sjN/NQ8y2F+I1dDGrmbv8hhfiUXc0iTD/NNcxHmSfNOLuaQJg9z1dA8xPxJ5kMu5pAmD3NqnmQeMn8S8yFXQ5p8mu9iXmuuYh5yNaTJl7kKc9dcNM9ymIdcDWnyZJ6FuWrNQ/OQwzzkakiTZ/Mlh7loWebUfMjNPORqSJNv5i6n+dCcYplTc2q5m4dcDWny3RxyM18acprvcpiHXA1p8ifzIYac5tAyGrEwD7ka0uQP5qE55GZOMaccFvOQqyFN3puHpslhmZvMKadpHnI1pJF3lrlrWk6L+aF5kqshjbyxrLlpcreYv8jVkEZeW8ynfFhM5qfmLhdzSCOvLIf5lA/LvJE55WqIRn6anOYhD8s0mpvmJqc55WKIRr6Z3MyXPCxzajIPWRjyzRCNXI2c5kkeltGcMocWFoZ8M0RGLoaYJy1PRsvcZTksDLmaQ2TkYl7JwzJac5OHhZFv5hANuZgX8mw0N5ncLYxczSE0h1zMT3k2mrtcDLmaQ2gOuZif8mkZzSnfDLkacsiQq/mm5dMymnxYPg25GnLIHPJkzTctn5aR08hp5DCHXMwhhzDyZM03LReTkS8j5tDybHITc8iToXnS8mkxTX6aQ8uXtZZTrJFnE0bm1PJpMS0fhtzMIcunNS2nHEaejbCsNVmuRsyXHOaQ5dNaPuQ08mXExGKyXM17Wb5My00Oc8iXkU+T5cti3svyMIfc5bBGXllMlvfWwtzF8jDykJshLywmy5PlwzJhzYc8mUM+5G7khcVkeWn5MJlTvqwhH3Iz5IXFZHm2nJZPa80py92ylofcrCE/LCbfTZZnoyFf1pCH3K2RHxaj5e/mlE9DnuTDmrw0h/zVMmS5WUO+5MMa8sIc8guj5dOQJ3lYQ14Y8ndrstzMTZ7k0xpytRjyC5PlZhm5yJc15IchvzAtd3PKRZ6sId8N+TdDy1WerZGrNflHc8o3uVhzyLMh/2IOLd/lam7ybORfDHkh36zR8p+tOeSF/DCHlv9mTZZX8tPc5D9YRstLeWFO+XdzaPJaXptT/ska8l5eW3OTX5rmJm/ljblr+YV5yB/krfmSP5uGlj/KH0zmLm/NTZa/yJ8tc5EP803+Kn8zr8R8iJFfyC/MH2Tkd/I7c9U0Dfm9/JP5kn+X/6v8X/0Phhh8i1Cy6vcAAAAASUVORK5CYII=",zu=Object.freeze(Object.defineProperty({__proto__:null,default:Xu},Symbol.toStringTag,{value:"Module"})),Zu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABrCAAAAACz/eiUAAAFdklEQVRoBb3BCRabSgIEMNX9D13TzWKDwUuSeV+KH9R38Yv4qn4T38VndRIndRLfxCe1icYb9RSfxXu1iy9qF5/EO7WKH9Uq3ot7tYmf1SbeiVu1iD9Tq3gjbtQi/lyt4lZc1SL+Si3iTlzUIqghbpW4U4u4Ea9qCmoVN2qKOzXFVZzVFFNt4qpWcaOmuIizmmKqXVzVJq5qildxVItYVGoVV7WJq5riRRzUFE+1iYt6iIua4iwOaoiD2sRVPcRFTXESTzXEUe3iop7ioqY4ioca4qR2cVEHcVFTHMSupjipXVzUQVzVFE+xqSFe1C5e1VHcqCGeYlNDvKhdvKijuFVDPMSqhnhVuzirVWqIN2qIXSxqiFf1EGe1SA3xTg2xi0UN8ap2cVYHoTZxVkNsYqohLmoXJ3WQeooXNcQqhprionZxUJ/ESQ2xiqGGuKpNHNRncVLEKqghbtRBbOqLOKohFkENcaOm1CIW9VUc1RBTqCHuNIrUIqb6Lg5qiCnUEKsSD416iqnuBPUQTzXEFIpY1RSbRhE1xVQvYlcP8VRDDFFDbGoRi6am1CKGeoqTeoqHGmKIGmJXU0y1iloFTa3iRT3FUxFDFPFQi6CuQm3iVT3EQQ1BaoiHWkXdCEUaN+ohDmoIUsRTTWnqIhqKWNUQm3qIkyJIEU/1QRzUQyxqF2c1hBTxVB/ErobUlIqpdnFWQ0gRT/VW7GqKmlKC2sWLGkJKPNVFaopdTamjUJu4KEJKPNRFvKg7Ubu4KEJKPNRVHJSoG6lNXBUhJXa1Se3ioIbUWdRBXBUhJTb1EE1NcVCr1FEqtYkbRUiJVT2lqUU81VVKmtrFjSKkxKKOohZx1NQiakoRahO3ikjFqg5CLeKkVlGpVdQubhWRilUdhFrESVNTGtQQU63iVhGpWNVTqEWc1EOoKaZaxL0iUrGqp1CLOKmHqKu4V0QqVvUQ1CJOakjFULuoRbxRRCo2tYmhFnFSJ6EO4p0iUrGpTVCrOKkXUQ/xTg2Rik2tYqhVHJVU6k4a79QQKbGpKaZ6il2jNlFp6iHeKkJKbEoai3pIxapRUoIKagiN94qQErsSi9rEVLEpqUVMNUTjgyKkxI3axVBCQ0URu5rikyKkxI16iKFCo6RxVEN8VISUuKijUESjiJOKL4ogKi7qRjRKvKj4rAiixIumFqmnaDQV31U8FUGUeFGbaAxFNIr4QeOphiBKnDW1CBoU0dQQP2g81RCEEie1iqlBiaaG+K7EQw1BFHHU1CIWDSpqEd81jYcihijirBaxatBoaojvmsauhhiiKXFUUzwVoab4QdPYFDEFJU5qiBdNTfFVU7FpSkyhKbFr1BQvmpriBxWbpmlMQRGbRg1x0dQUv2gaU9M0FkFTcVBDvGpqih9UGotKYxE0JaaGCo2LphbxXaUxNEUsYihiaChxrzbxVmPRWNUQqxhqCA0lGncaRSjxSYWGksYmVvUQjVsNJYaa4qnEpogGlcYmVrVLxRsNRXxWQ0wVT7FoahfvNagh3qlVDBUHsWpKfNWYakjjoDHUIhU1xVPsiviqsagpHuokKNJ4iocivqt4qBtpTDXEQeyaEj+peGiaEmc1xUkclPhZEbcqFGkcxVERf6JWUVNqCJoiTuKkxP9FU2mcxVkR/66pNF7EUS3iXxVpvIqTRhH/pIY0LuJVScXfa0oaV/GiKan4S40St+Kihvg7tYh7cauG+CuVxr24U6v4I5Wa4o24V1P8rkQN8Va80RSp+ElFDfFBvNXUIr5qFKn4JD6oXXxUUzQ+i0/qRZzUUyq+ic/qjdSUGqLiB/FdpW6kFtE0fhG/KKFeBCV+Fr+rmBpUSvyZ+GM1ROPPxX8q/lP/A9zVYIqTjIeUAAAAAElFTkSuQmCC",Hu=Object.freeze(Object.defineProperty({__proto__:null,default:Zu},Symbol.toStringTag,{value:"Module"})),$u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABsCAAAAACu+NgsAAAE+klEQVRoBb3BC3bqSgLAQGn/i9a0P4DbNoTkvjNV8o34TL4kP4mvyDfksziSp7iQH8kH8SK34kh+IO/FTj6KF/lI3okH+ULs5AN5I1YmX4qdvCW3YiO/Eit5R27ERn4tFvKGXMVK/iJWcksuYiV/Eyu5Iyexkj+LldyQWazkX8RCrmQSC/lObOQkFnIhR7GQl0DeiBeZxELO5CAWchAgt+JIJrGQE3mJhRzFQm7EkcxiITN5iUFmsZCrmMgsFjKRh1jIWSzkInbGICexkCN5iEEuYiNncSRnsZAD2cVCzuJBTmIiZ7GQF9nEIFfxJLOYyEUM8iKbGOQqnmQWE7mKQZ5kFYPciBeZxZFcxSBPsgqQG3EgsziSGzHIgyxikBtxILM4kjsxyE6GGORGHMksDuRWDLITiEFuxERmcSS3YpCNQAxyFTOZxYG8EYOshBjkRsxkFgfyRgyyEmKQO3EkJ3Eg7wTISgiQGxlHchIH8k4MspAY5CqJlTHIWRzIOzHIQmKQi4yNMchFHMhbMchgDHIVO2OQqziQt2KQwRjkInbGIDfiQHbJWYAMBshVHMmdOBAIkJBZDAIGyFnsjEFuxYkEEjKJQcBALuLA5E7MJGMjkwABAzmLidyKiUnsZBKDYCAnMZF7Ge/IJAbBQM7iQN7IeE8OYhAMZJKxMgZ5Iz6SowDBkEnM5E5CfCJHAYIhkziSi0AW8ZEcBAiGHMXOGOQkkFV8JgcBgiEvMZOjANnET+QgQDDkKWbyFMhD/EyOYhBDHuJENjHILr4hkwAxeYgTWcVGhrgyMAYhVjKJQQzZxZkM8RNjJ5tkFoMYsosLIe4ZDxKDZMidGMSQTcaFgRAI8WDM5LMYxJBNxh3ZBDLEDfksBjFkk7ES4kUekiR2Eg/yWQxiyC4GyYTYyFFm7CQe5LMYxJBdgEkyxEomITEYEg/yWQxiyC7ATBaxkpMMhIRYCMlnAYIhuwB5iI3cS4iFkHwWIBiyi0F2sZF7CbEQks8CBAN5SJ5iI/cSYiEknwUIBnIjdnIvIRbyswDBQG7ETu4lxEJ+FCBgIDdiJ2/FSkI+ChAwkBuxk7diJYQMIbcCBAzkRuzkndjIT2IQkECuYifvxEaOkosYBCSQq9jJVSAQOzlIzmIQEEIuYidnIZt4EAiQITkJkEEI5Cx2Mgl5iCuBZBaDDEIgZ7GTh0AO4o5AMgmQhWQgJ7GTTTKJe3IjkIVkIBexkqv4QM4yk4UMgUwSYiFPyRA/EJKjQFYyBDLJjIXsMiYGMgsEkqNMVgIxyFFmLOQlHkw+SA4CZCUQCznIWMkkBpPvxSAbWQTIJFZyFCCz2MitQJ5kESBHsZGjkKckOcmQozDZySJAZrEweQrZJV8J5EU2YXIQBpK8ZPIbgRzIKgPkJSFkkvxSgDzJJpOzkH+RAfIiDyFnyb8JkBfZZYBMkn8QYHIgDxkmT0nI3wUmR/IUYPIUIH8UEshEjgL5b8RCZnKQgfwXAgyZySyQfxdgciYnAfKPMkwuZBaDyT/IQO7ISQYmf5aEyQ05ywD5qwxM7shFLEz+IAlMbsmNGOT3MlZyT27FYMgvJAQm78itMFbypYRYyFvyRjzIF2IlyQfyXjzIZ4GxkI/kg8BYmLwTGCv5gXyWxEoyeQrjxZAfyU/iwbglBPIF+Vl8IIR8Sb4TM1mF/Ib8QsaL/J78X8n/1f8Am9IOixOlrIUAAAAASUVORK5CYII=",ea=Object.freeze(Object.defineProperty({__proto__:null,default:$u},Symbol.toStringTag,{value:"Module"})),ta="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABsCAAAAACu+NgsAAAF5klEQVRoBb3BSWLjRgAEMNT/H13p5k6JsuU5BIhv1M/iS/Gr+kZ8I35RpzQ29S5+FT+pUzypq/hFfFaH+Ent4mfxSe3iV7VJ4wfxQW3iS7WJj+JRbeI3tQi1iU/iSa3iV7ULtYoP4l2t4nd1CmqRxpN4U4sYivhBnWKqRTyJVzXFohbxSZ1iUYt4EC9qik2t4lldxKoW8SbuaopdreJZHdLY1CJexVVNcVGreFSHNHa1iBdxUVNc1S4e1EWcaoq7uKghbuoQ72pILeKqhriJUw1xUxfxrtLUFHc1xFXsaoqruol3jaYWcVNDXMWuhriqu3hSqUXc1RAXsakpTvUqHjW1iBc1xCk2RZzqTTyq1BRvijjFqoY41Jt4VqkpStzUELtY1BCHpq7is0aR2sSphtjFVFPs6iZ+UilSQ5oShxpiE1MNsatFahE/qtQUtYtNDbGJqYhDXcQvKvUmNjXEKoYiTo1axaqGeFKvUsSmhljEUMShoabYlBTxpp7FpoZYBEWcmloFRUxFvGrUk9gUsQg1xKmpIShiqkVMRRpDox7FpoaYQhEXNYUSQ72JChpqF3WIXRFT1BAXdYihHqREQ+1SF7ErYooibuobKaE+iEMRQxRxU6TeRUWlCHUT1C52NcSQGuKiqSEq6iIVi3oQQ+3iUMQQJa6aGkLFVKcY6kFMtYtTEaSIq6aGmIrUIiWm2qQOMdUuTkWQIq6aGmJRU4pULOpBTLWLUw0hRVw1NcShUYtY1IOYahenGkJKvKghDo2aYlW7qE1MtYuLIqTEi5LGpkJNsapd1Cam2sVFEVLipilpLCooUrGqTahNTLWLixoiJW5qkSIWtYlFbUJtYqpdXNQQKXFVm9jUKabahNrEVLu4qCFS4qqGlKB2qSk2NYXaxFS7uKghUuKqppjqVaxqEWoTU+3iooZIiat6kRpCxa6moDYx1S6uikjFTb0LJU6VEtQmptrFVRGpuKkptUot4tSoKdQuptrETRGpuKlDmlrFRaOmUIcYahM3RaTiphapXbxo1BRqkRJDbeKmiFRc1So1BbWKTaOmUItUGtQmbopIxVWdgopNiU1FhdpFo3ZxU0QqrmoVFHFRQUPFog5Rp7gpIhVXdYpNDUGFRokGjTqEWsVNEam4qik2dRUVjRINGnVI7eKmiJS4qEUs6l0aRUwNJfUibopIiYt6E+qURg0xNGqRuoi7IlLioq5iqqs0aoihUavUJhU3NURKnOoUi0pNqRgaRUyNIirqEDc1REpc1CINNQQ1pAgalcbUKKJC7eKmhkiJi7qIRa3SGBqVxtQookJN0bgrQkpc1CJOTS1i1RSxKaEx1BCNuyKkiFMt4tCoKTZNEVOjhKahpjTuipAiTrWIVQU1pLEpYtEoodFQQuOmhpAa4lCr1BBTDWnsKo1Fo8SuROOuCFJDHJoiLmqKxq5pLColFg0VjZsagtQQh6aIQ61C401Ncag07moIoobYNUpQd9F4U1OsmiJeFDFEDXFRh6hdNN7UIlZFvKghhlDEoVHEi8aDWqWxqHhVQwyhhtg1Kt4U8ap28UkNMQVF7BoVRZwqHtQuPqkhpqCIXVNDfKV28UENsQhqiF1N8ZXaxQc1xCKGGmJTU3yldvGshljFUENsaorv1Cae1RCrmGqITRFfqk08qiE2MdUUqyK+VJt4UlNsYlFDbCq+Vqt4UkPsYlVD/INaxYOaYhermuIf1CIe1BCH2NQUf1dTvKspTrGrKf6spnhXU5ziUFP8WQ3xpqa4iFNN8Vc1xKua4ipOtYg/qiFe1BQ3cVGL+Jsa4q6muIurmuJvirirKV7ETU3xJ0Vc1SJexV1N8SclLmoRb+JVDfGtRomLWsS7eFNTfKdR4lSLeBAPaoivNEocaopH8aSG+E6JXS3iWTyqKb5QxKoW8Uk8q0X8qoipVvFRfFCH+EkJdYjP4qM6xWeVOsRP4id1ikd1FT+LX9SraKh38Zv4TX0pfhdfaOoX8ZX4Sv0gvhZ/UK/S+Iv4X8X/6j/OzIuL68bXyAAAAABJRU5ErkJggg==",sa=Object.freeze(Object.defineProperty({__proto__:null,default:ta},Symbol.toStringTag,{value:"Module"})),na="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABsCAAAAABBOrMSAAAFg0lEQVRoBb3BSYKkRgAEMMX/Hx1OloKEWnsOluIX9UX8KL6r79L4RXxWV7GpF+Kr+KhO8UrN4ov4oA7xQZ3io3irHuKr2qXxQbxTu/hN7eK9eK028Qe1i3fipdrE39Qm3ogXahN/V5t4KZ7VKv5NreKVuKtV/KY2cahVvBA3tYrf1CEOtYoncVOLODVeq6s41Cru4qIWMSnxQt3FqRZxF7NaxKyIu3ohJjXETUxqEbNaxKrEql6IiyKu4lSLuKhVLIqgblLEVQ1xEYdaxEXtYqhF6iY1xE0NMYtDDXFVuxjqENRF3NUQk3ioIW7qIYZ6CGoWz4qYxK6GuKlDDLWLoVYp4pUa4hSbWsRNHWKoXQx1ipdqiENsaoibOsVQu6BO8UYRh1jVEDc1iaF2oSbxRg3xEIsa4q4mMdQm1EW8UUPsYlFD3NQshtqk7uKNInYx1BB3NYlFvRXvlNjFUEPc1CQW9V68U8QmqCHuapMSq3ov3qkhVkERd7VJEat6JTXEW0WsgiJuahKb2qROKdJ4q4ZYhCJuapMSD7VJ3cUHRSxCETd1iofapA6pIT6pIYYo4qYm8VCb1FV8VEMMUcRVbVLiVJuoWXxRxBBFXNQmRRxqF6vaxRc1BKkhLuoUp9rEqibxSQ1Birio1EOcahNDXcUnRZAiLpoaUmJWm6B2qU18UAQpYtaoXcxqE/VCvFdDSBGTmsSsNqlX4r0aQkpM6hQXtUu9Eh8UISVONYmL2kRdpVLxXg0hJQ41i4vaRM1SpOKDIqTEoWZxUZuoSYo0PipCShxqFhe1ibqJb4qQEoe6CCo2tYk6pMR3NURKHOoiqFjVLtRFfFVDpMSpZqHEqnZBbVLxixoiJU51ERWb2sSqFmkap8ZrNURKnOoiKja1iaEOsapJ3NUQKTGpWSp2tYmh3osSVzVESkxqiHqIXW2ChvokrmqIlJiUoB7ioVYpUl/ERQ2REs9qF4d6LdSzmNUQKfGsdnEoQh1SH8SkCCnxrHZxqCHqJk1jV6c4FSElntUuDkXqSczqEKcipMST2sWkpFKzuKpTHIqQEk9qF5MijZrEVZ3iUIQUcVe7mNUQahKzhtrFoQgp4q52MStiVZM4NNQuHoogRdzVLi4qNk3NYtNQu3goghRxV5t4ry5i1ahdHIogRdzVJl6rqJugUbs41BCkhripTbxSQt2FRu3iUEOQGuKmdvFCiVqkJtEoKeJUxBBFXNVD7GoXKorUVTRqFacaYoga4qImQVOTKKlZlKBWcSpiETXERZ1SpE6hHmKoIUXUKk41xCIUcVGnoJ6kFrEqUkSt4lRDLEINMatZapW6i4ciGrWKQw2xCoqYNPUsqE1qEVcNtYhTDbEKipg0tUodYlGnaFw0ilScaohVUEOcapd6iF1tQombWsSphtjEUEMcaheVGuJQq1BDHBpqiEkNsYlFEYfahaaGmJQYahEPjSIVhxpiF4sa4lCbUKt4oYZ4aCipONQQD7GoRTzUJihpvFRDUEMoUvFQi3iIVQ3xUJtYVLzRlHioIRUPNcQhNrWITVOL+KJWsapNPNQiDrGpRWxqFV/VJtQiJXa1iFPsahGrpob4rq6iYleLOMVDLWLVVBo/qLvY1SImcahFrGqIX9RV7GoRszjVEJuKHzVNPcSuFnERp1rFX1XULja1iKuY1Cr+qlG7WNUibmJWq/ireohVLeIuLmoRf1abWNQqnsRVLeKvahOLWsSzuKsh/qqGWNQqXogntYg/KrGoVbwSL9QQ/6YW8Vq8UkP8g1rFG/FSLeKPahVvxWu1it/VLt6LN+oQ39VDfBJv1Sk+qkN8FJ/UKV6qSXwTn9VVDA31LL6Kb+pH8YP4QVOfxY/iJ/VB/C7+oG6i8Sfx/4r/13856SmLbWlT4gAAAABJRU5ErkJggg==",oa=Object.freeze(Object.defineProperty({__proto__:null,default:na},Symbol.toStringTag,{value:"Module"})),ia="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABqCAAAAAB4oTsxAAAEb0lEQVRoBb3BC5KDVgIEMPX9D937wGCD+XmS1Erxi3oSP4lH9Zt4FvdqJ3ZqJ57EndqIc/UR9+JareJBreJOXKlV/KAWcSPO1SJ+Vi9xKU7VS/xJzeJKnKiXOFUvcVSzOBdHNYkrtYqDeokzcVCzuFarOKhZnIhvNYk79RHfahZH8aUmcas24qAmcRB7NYlbtRVHNYlvsVWzuFV7caKG+BIbNYlb9S1O1CT2YqOGuFUHcaqG2ImPGuJOnYkzNYmteKshbtRBijhVk9iIVU3iUh2EpnGhJvERixriSp2IBzXERyxqiHN1Kp7UEG/xUkOcqi+hhjQe1BCrmNUQp2onSmoST2qIVcyKOFVboUQRP6ghFjGpIU7VVlQ0flVDLGKoSZyqL/EnNcRLDEVcqK34syJeghriQr3FlxriXg0xC2qIC/UWO7WKOzXEJCjiSn3ERm3EtRpiEhRxpTbirXbiUg0xCUVcqq1Y1Je4VEMMUUNcq42Y1FFcqiGGqCFu1Eeoc3GpiCGKuFe/iCs1BKkh7tUv4koNQWqIe/WLuFQEKeJB/SIuFUGKuFc/iUs1hBRxrw6ivsS1GkKKuFd7oQ7iRhFS4kFtpc7EnSKkxIP6CEWonbhThJS4V6uYNA21E7dqiJS4V4vQ0BhqJ27VEClxqxah4qV24l4NkRK36iVKvNROPKghUuJOLaLES71FxYMaIiXu1CI0ZvUWKp7UEClxpxbRmNVHaDyqIVLiTi2iMamPUPGohkiJO/URQ30EjWc1RCpu1UdQqZf4WQ2Rilv1FtRHKo1f1BCpuFVvUVtR0nhWQ6TEnXpLPYpTRUiJW7WRehYHRUiJW/VPxE4RUuJa/VOxVYSUOKp/L95qCCmxqiH1H4lVEaSIWf2XUmJRBCliUrNQp6KuhfoSiyJIEZP6z8VLDUEUMdSP4q0uhIpFDUEUMdSD2Ksb0VjUEEMUMdSlOFFbsVNiVUMMUUMMdRTXGr8pYhKKGGov/hs1xCTUENRHzIr4l4qYhRpiUkN8FHGqPuJOEbNQkzhRxEcRL7UTV4p4CWqIo6bErBaxqL04V8RLDEUc1CyGeom9WqVxpoZ4iaGG+FIHcVCrNI5qiEUMNYmtSr2kZnGm3uKohljErIi92otT9RHfaohVzGqIj6Z24qi+xJcijVW81BBvTW3FUR3EXg3xFi9NEataBBVn6lvs1BAfsaghVvUSRVyovdiqITZiVUMsmpqkxLXaiY2axEasahKrGlJp3Kit+CjS2Iq3GmLRKClxqz7ioyaxEx81iVmjpMS9eou3msRebNQkJk3N4kkt4q1msRdbNYlJvcSTSk1iVZP4Fjs1iUlN4lnNYlWTOIi9msVQxA9qEquaxFF8qVn8RRGrIo0T8a1m8Q/VLM7EQc3in6iXOBVnahJ/VYs4F6dqiL+pl7gUp2oVP6pVXIoL9RaP6i1uxKVaxb16i1txoz7iXG3Eg7hX31IX4lE8qB/FD+JZPYrfxE/qUvxB/EFtpdH4k/i/iv+r/wEEcJN6pgU6cwAAAABJRU5ErkJggg==",ra=Object.freeze(Object.defineProperty({__proto__:null,default:ia},Symbol.toStringTag,{value:"Module"})),la="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABsCAAAAABBOrMSAAAFa0lEQVRoBb3BR4IjRwADMPD/j6arc5Q0ezEQf1I/xN/Eb/UHafxB/FB3Mamn+Cm+qpN4UyfxQ3xTu/iidvFVfFS7+KlW8U18Uqv4o1rFR/GuVvEPahGfxKtaxD+qRbyLNzWLr2qIm1rEm3iqRXxVq7ioRbyIh5rFd7WLq5rEi7irWfxSu7iqWTzETU3ipPGmdnFTs7iLqxrirMSb2sVdTeImzmoWZ0W8qF081RBXcVaTOKsh3tQmnmoSF3FSk7ioSbyoQzzUJM7iUJO4qlk81Vnc1SRO4lBDXNUinuoqbmoSh9jVEFe1ibu6i5sa4hCbGuKmdnFWL+KmJrGLVQ1xU4c41Lu4qUlsYlGTuKlDLOohahJPRWxiVpO4qZOY1V1qES9qiFXMaoibOolFfRCvahKLmNUQN3USi3oTH9UQi5jUEDdNHWJVZ6khvqghZjEp4q5O4lAX8V0NMYuhhripVUqc1EX8UMQsqCFuapUiDnUVtYkXNcQkqCFuapESh1qEehN3NcQk1BB3NUuJXc1iUg8pcVfEJNQQN3WITU1iVu/iroYYQg1xVYdY1SQm9UXcFDFEDXHVqFWsaohJ7VIPcVPEEDXEVVNDilgVMdQh9SJuiiCKuGrUKlZFDPUQQ+3ipgiiiIs6xKKGGOomVrWLqyKIEle1i0URQz3Eog5xVUNIERd1iEUR1EOs6hBXNYQUcdbUJlZFqFWoTcxqFzc1hBRxUouU2NQuFnWIoXZxV0OkiEOdxKY2sajUJqhD3NUQKWJXJ7GpXUwa6hBqFw81RIrY1UnsapEGFeok1CaeaoiUONRZbJqapFGpQyoNtYmnGiIldnUWk8bQ1Cx1kYqhNvGihkiJQ10EjUl9FEOt4lURKXGoi1AxqY9iqFW8KiIlDnURKmY1C0pqE5NaxLsiUuKkzqJiVbMY6hBDLeKDIlLipM6iYlWzmNQmqE18UERKnNQQNUuJVc1iUS/ikyJS4qyEmqViV5OY1SbUKj4pIiWeahO7mkRFvYlPaoiUeKpN7GqShnoRn9UQKfFUqzjUImqX2sRnNURKPNUqDjWL2qRW8VUNkRJPtYqzukoNafxShBTxUKs4adRd/EURUsRDLeKsoc7S+JMipIiHWsRFU4uoIY1d7eKqhpAiHmoRV7VLkTqLTcVJDSE1xF0t4oNKzeKDxq6GkBrirmbx1CihhrioVdBY1RCkhripRdw0FbP6LjQWNQSpIW5qEZ/UT1ExK2KIGuKqFrErsai/icasiCEUcVWLmFWs6iw1iaGhpM5iqCGGUMRVreKirlKpQyxqE0MNMYQa4qJ2sahdTGoRJ0UMtYihiEmoIS7qENQuhhI1xEOJSRHUEJOghjipReomaBqNIt7VIoYaYhJDESeNGlJnocSmxG81xCyGGuJQi2ioIYaKkxI/NSUWMdQQh1qExq5x0Wj8UkMsYlJD7GoRVFDirvFbEZuYFbGrRXzU0Gj8UEOsYlZDbJqaxEeNisZ3NYlVLGqIVVOT+KrR+KomsYlFTWLRqCG+qWh8U5PYxaqGWDRqiG8qGt/UEIdY1SQWjSK+qfiuSOMQm5rErKHiq0rji5rESexqErOm4rtK44sa4iwONYlZEV9VGh/VJC7ipCYxa/xQaXxSs7iIs5rE31QaH9QsruKsZvEnJT6oIR7iqob4g6bEu5rEQ9zUEL81JV7VJJ7irob4gxIvahYv4qFm8UMRTzWLN/GihvihaTzUIl7Fm5rEv6tFvIt3NYl/U4v4JN7VLP6uNvFRfFKb+K128UV8VCfxTe3iq/imDvGmTtL4IX6ou5jUU/wUv9SrUIdU/EH8Qf0UfxN/U5/F38U/qJto/JP4f8X/6z8dVxuL55I6qgAAAABJRU5ErkJggg==",ca=Object.freeze(Object.defineProperty({__proto__:null,default:la},Symbol.toStringTag,{value:"Module"})),ua=Object.assign({"/assets/chess_templates/black_bishop.png":Au,"/assets/chess_templates/black_cannon.png":Ou,"/assets/chess_templates/black_guard.png":Ju,"/assets/chess_templates/black_king.png":Lu,"/assets/chess_templates/black_knight.png":Wu,"/assets/chess_templates/black_pawn.png":Yu,"/assets/chess_templates/black_rook.png":Bu,"/assets/chess_templates/red_bishop.png":zu,"/assets/chess_templates/red_cannon.png":Hu,"/assets/chess_templates/red_guard.png":ea,"/assets/chess_templates/red_king.png":sa,"/assets/chess_templates/red_knight.png":oa,"/assets/chess_templates/red_pawn.png":ra,"/assets/chess_templates/red_rook.png":ca});async function aa(){var t;const e={};for(const[o,l]of Object.entries(ua)){const c=(t=o.split("/").pop())==null?void 0:t.split(".")[0];if(c){const a=new Image;a.src=l.default,await new Promise(g=>{a.onload=g});const f=cv.imread(a),h=new cv.Mat;cv.cvtColor(f,h,cv.COLOR_RGBA2GRAY),e[c]=h,f.delete()}}return e}function fa(e,t,o){let l=-1,c="none";const a=[e.cols,e.rows],f=new cv.Mat;e.channels()===4?cv.cvtColor(e,f,cv.COLOR_RGBA2GRAY):e.channels()===3?cv.cvtColor(e,f,cv.COLOR_RGB2GRAY):e.copyTo(f);const h=Object.entries(t).filter(([y,v])=>o==="red"?y.startsWith("red_"):o==="black"?y.startsWith("black_"):!0);for(const[y,v]of h){const S=new cv.Mat;cv.resize(v,S,new cv.Size(a[0],a[1]));const F=new cv.Mat;cv.matchTemplate(f,S,F,cv.TM_CCOEFF_NORMED);const V=cv.minMaxLoc(F);if(V.maxVal>l){l=V.maxVal;const C={king:"k",guard:"a",bishop:"b",knight:"n",rook:"r",cannon:"c",pawn:"p"},O=y.split("_")[1];c=C[O]||"none"}S.delete(),F.delete()}return f.delete(),l>.3?c:"none"}function Pr(e,t){const[o,l]=e.trim().split(/\s+/),c=o.split("/");if(c.length!==10)throw new Error("无效的 FEN：行数不正确");const a=[];for(const G of c){const ne=[];for(const ye of G)if(ye>="1"&&ye<="9"){const Fe=parseInt(ye,10);for(let de=0;de<Fe;de++)ne.push(null)}else ne.push(ye);if(ne.length!==9)throw new Error("无效的 FEN：某一行的列数不正确");a.push(ne)}if(t.length!==4)throw new Error("无效的走棋格式");const f="abcdefghi",h=t.charAt(0),g=t.charAt(1),y=t.charAt(2),v=t.charAt(3),S=f.indexOf(h),F=9-parseInt(g,10),V=f.indexOf(y),C=9-parseInt(v,10);if(S===-1||V===-1||isNaN(F)||isNaN(C))throw new Error("无效的走棋格式");const O=a[F][S];if(!O)throw console.error("fen:",e),console.error("move:",t),new Error("起始位置没有棋子");a[C][V]=O,a[F][S]=null;const H=l==="w"?"b":"w";return`${a.map(G=>{let ne="",ye=0;for(const Fe of G)Fe?(ye>0&&(ne+=ye.toString(),ye=0),ne+=Fe):ye+=1;return ye>0&&(ne+=ye.toString()),ne}).join("/")} ${H} - - 0 1`}function yi(e,t){const o={K:"帅",A:"仕",B:"相",N:"马",R:"车",C:"炮",P:"兵",k:"将",a:"士",b:"象",n:"马",r:"车",c:"炮",p:"卒"},l="abcdefghi",c=["零","一","二","三","四","五","六","七","八","九"],[a]=e.trim().split(/\s+/),f=a.split("/"),h=[];for(const X of f){const oe=[];for(const G of X)if(G>="1"&&G<="9"){const ne=parseInt(G,10);for(let ye=0;ye<ne;ye++)oe.push(null)}else oe.push(G);h.push(oe)}const g=l.indexOf(t.charAt(0)),y=9-parseInt(t.charAt(1),10),v=l.indexOf(t.charAt(2)),S=9-parseInt(t.charAt(3),10),F=h[y][g];if(!F)throw console.error("fen:",e),console.error("move:",t),new Error("起始位置没有棋子");const V=F>="A"&&F<="Z",C=o[F],O=V?c[9-g]:` ${g+1} `;let H="",z="";return g===v?(H=V?y>S?"进":"退":y<S?"进":"退",z=V?c[Math.abs(y-S)]:` ${Math.abs(y-S)} `):(H="平",z=V?c[9-v]:` ${v+1} `),(C==="马"||C==="象"||C==="相"||C==="仕"||C==="士")&&(H=V?y>S?"进":"退":y<S?"进":"退",z=V?c[9-v]:` ${v+1} `),`${C}${O}${H}${z}`}const ha=(e,t)=>({k:t==="red"?"K":"k",a:t==="red"?"A":"a",b:t==="red"?"B":"b",n:t==="red"?"N":"n",r:t==="red"?"R":"r",c:t==="red"?"C":"c",p:t==="red"?"P":"p",none:""})[e];function da(e,t="red"){const o=[];for(const f of e){let h=0,g="";for(const y of f)if(y==="none")h++;else{h>0&&(g+=h.toString(),h=0);const[v,S]=y.split("_");g+=ha(S,v)}h>0&&(g+=h.toString()),o.push(g),console.log(`FEN row: ${g}`)}const a=`${o.join("/")} ${t==="red"?"w":"b"} - - 0 1`;return console.log(`Generated FEN: ${a}`),a}function vi(e){const t=e.split(" ")[0].split("/"),o=[];for(let l of t){const c=[];for(let a of l)if(isNaN(parseInt(a))){const f=a===a.toUpperCase()?"red":"black",h=a.toLowerCase();c.push({color:f,type:h})}else{const f=parseInt(a);for(let h=0;h<f;h++)c.push(null)}o.push(c)}return o}const Si={k:"将",a:"士",b:"象",n:"馬",r:"車",c:"砲",p:"卒",K:"帥",A:"仕",B:"相",N:"傌",R:"俥",C:"炮",P:"兵"},fn="9/9/9/9/9/9/9/9/9/9 w - - 0 1",es=ku("chess",()=>{const e=Le(""),t=Le(null),o=Le({width:0,height:0}),l=Le(fn),c=Le([]),a=Le([]),f=Le(""),h=Le(!1),g=Le(null),y=Le(Number(localStorage.getItem("depth"))||15),v=Le(!1),S=X=>{console.error("[Store] 错误:",X),g.value=X},F=X=>{console.log("[Store] 设置 FEN:",{current:l.value,new:X,isProcessing:v.value,bestMove:f.value}),l.value===fn&&(c.value=[X],a.value=[]),l.value=X},V=X=>{console.log("[Store] 设置最佳着法:",{current:f.value,new:X,isProcessing:v.value}),f.value=X};return{overlayImageSrc:e,chessboardRect:t,originalImageSize:o,fenCode:l,fenHistory:c,moveHistory:a,bestMove:f,isCalculating:h,error:g,depth:y,isProcessing:v,setError:S,setFenCode:F,setBestMove:V,handleNextMove:()=>{if(!(!f.value||f.value==="red_wins"||f.value==="black_wins"))try{const X=Pr(l.value,f.value),oe=f.value;c.value=[...c.value,X],a.value=[...a.value,oe],l.value=X,V("")}catch(X){S(`执行下一步时出错: ${X.message}`)}},handlePreviousMove:()=>{c.value.length>1&&(c.value=c.value.slice(0,-1),a.value=a.value.slice(0,-1),l.value=c.value[c.value.length-1],V(""))},resetHistory:()=>{console.log("[Store] 重置历史"),f.value="",c.value=[fn],a.value=[],l.value=fn,e.value="",t.value=null,o.value={width:0,height:0},g.value=null,h.value=!1,v.value=!0},setDepth:X=>{y.value=X,localStorage.setItem("depth",X.toString())}}});function ga(){const e=Al(),t=10;let o=0;const l=es(),c=async()=>{console.log("OpenCV.js is ready");try{const f=await aa();if(Object.keys(f).length===0){l.setError("没有成功加载任何模板");return}e.value=xn(f)}catch(f){throw l.setError(`加载模板时出错: ${f.message}`),f}};let a;return zs(()=>{(async()=>{a=window.setInterval(async()=>{if(o>=t){l.setError("在最大重试次数后仍未能加载 OpenCV.js"),clearInterval(a);return}o++,!e.value&&typeof cv<"u"&&typeof cv.Mat=="function"?(clearInterval(a),await c()):e.value&&clearInterval(a)},500),typeof cv<"u"?(await new Promise(h=>{cv.onRuntimeInitialized=h}),await c()):document.addEventListener("opencv-loaded",c)})()}),kn(()=>{document.removeEventListener("opencv-loaded",c),a&&clearInterval(a)}),{templates:e}}const pa="modulepreload",ma=function(e){return"/xiangqi-analysis/"+e},bi={},wa=function(t,o,l){let c=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));c=Promise.allSettled(o.map(g=>{if(g=ma(g),g in bi)return;bi[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":pa,y||(S.as="script"),S.crossOrigin="",S.href=g,h&&S.setAttribute("nonce",h),document.head.appendChild(S),y)return new Promise((F,V)=>{S.addEventListener("load",F),S.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${g}`)))})}))}function a(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return c.then(f=>{for(const h of f||[])h.status==="rejected"&&a(h.reason);return t().catch(a)})};class Ea{constructor(){Ms(this,"engineInstance");Ms(this,"engineReady",!1);Ms(this,"currentResolve",null)}async initEngine(){if(!this.engineReady)try{const t=await wa(()=>import("./pikafish-ZteQ764f.js"),[]),o=t.default||t;window.Pikafish=o,this.engineInstance=await o({locateFile:l=>l==="pikafish.data"?`https://xiangqiai.com/wasm/data/${l}`:`https://xiangqiai.com/wasm/single/${l}`}),await this.engineInstance.ready,this.engineInstance.read_stdout=l=>{if(l.includes("id name")||l.includes("bestmove"))console.log("[Engine] >",l);else if(l.includes("info depth")&&l.includes("score")){const a=l.match(/depth\s(\d+)/),f=l.match(/score\s(cp|mate)\s(-?\d+)/);a&&f&&a[1]==="14"&&console.log(`[Engine] 深度 ${a[1]}, 评分 ${f[1]} ${f[2]}`)}const c=l.match(/bestmove\s(\S+)/);c&&this.currentResolve&&(this.currentResolve(c[1]),this.currentResolve=null)},this.engineInstance.send_command("uci"),console.log("[Engine] 引擎初始化完成"),this.engineReady=!0}catch(t){throw console.error("[Engine] 初始化失败:",t),t}}async getBestMove(t,o=14){if(!this.engineReady)throw new Error("Engine is not ready");return console.log("[Engine] 开始分析:",{fen:t,depth:o}),new Promise((l,c)=>{try{this.currentResolve=a=>{if(a==="(none)"){const g=t.split(" ")[1]==="b"?"red_wins":"black_wins";console.log("[Engine] 分析结束:",g),l(g)}else console.log("[Engine] 分析结束:",a),l(a)},this.engineInstance.send_command(`position fen ${t}`),this.engineInstance.send_command(`go depth ${o}`),setTimeout(()=>{this.currentResolve&&(console.error("[Engine] 分析超时"),c(new Error("Engine timeout")),this.currentResolve=null)},5e3)}catch(a){console.error("[Engine] 分析错误:",a),c(a)}})}}function ya(){const e=Le(!1),t=es(),{isCalculating:o}=Hs(t),l=new Ea;return(async()=>{try{await l.initEngine(),e.value=!0}catch(f){t.setError(`初始化引擎失败: ${f.message}`)}})(),{isEngineReady:e,fetchBestMove:async(f,h)=>{o.value=!0;try{const g=await l.getBestMove(f,h);t.setBestMove(g)}catch(g){t.setError(`获取最佳移动失败: ${g.message}`)}finally{o.value=!1}}}}function va(e,t=30){const o=cv.matFromImageData(e),l=new cv.Mat;cv.cvtColor(o,l,cv.COLOR_RGBA2GRAY);const c=new cv.Mat,a=new cv.Mat;cv.meanStdDev(l,c,a);const f=a.doubleAt(0,0);return o.delete(),l.delete(),c.delete(),a.delete(),f>t}function Sa(e){const t=Ao(e),o=Un(t,[0,120,120],[10,255,255],[160,120,120],[179,255,255]),l=Un(t,[0,0,0],[180,255,80]),c=e.width*e.height,a=cv.countNonZero(o),f=cv.countNonZero(l),h=a/c,g=f/c;return t.delete(),o.delete(),l.delete(),h>.05?"red":g>.05?"black":"unknown"}function ba(e,t){let o;if(t==="red")o=Ra(e);else if(t==="black")o=Ua(e);else return e;const l=_a(o);let c=new cv.Mat;l.channels()===1?cv.cvtColor(l,c,cv.COLOR_GRAY2RGBA):l.channels()===3?cv.cvtColor(l,c,cv.COLOR_RGB2RGBA):c=l.clone();const a=new ImageData(new Uint8ClampedArray(c.data),c.cols,c.rows);return o.delete(),l.delete(),c.delete(),a}function Ra(e){const t=Ao(e),o=Un(t,[0,100,100],[10,255,255],[160,100,100],[179,255,255]);return t.delete(),o}function Ua(e){const t=Ao(e),o=new cv.MatVector;cv.split(t,o);const l=o.get(2);cv.equalizeHist(l,l),o.set(2,l),cv.merge(o,t);const c=new cv.Mat;cv.Canny(t,c,400,600);const a=cv.Mat.ones(3,3,cv.CV_8U),f=new cv.Mat;cv.morphologyEx(c,f,cv.MORPH_CLOSE,a);const h=new cv.MatVector,g=new cv.Mat;cv.findContours(f,h,g,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE);let y;if(h.size()===0)y=cv.Mat.zeros(t.rows,t.cols,cv.CV_8UC1);else{let v=0,S=h.get(0);for(let G=0;G<h.size();G++){const ne=h.get(G),ye=cv.contourArea(ne);ye>v&&(v=ye,S=ne)}const F=cv.moments(S,!1),V=F.m10/F.m00,C=F.m01/F.m00,O=new cv.Point(V,C),H=.98,z=new cv.Mat(S.rows,1,cv.CV_32SC2);for(let G=0;G<S.rows;G++){const ne=S.data32S[G*2],ye=S.data32S[G*2+1],Fe=O.x+(ne-O.x)*H,de=O.y+(ye-O.y)*H;z.intPtr(G,0)[0]=Fe,z.intPtr(G,0)[1]=de}y=Un(t,[0,0,0],[180,255,80]);const X=cv.Mat.zeros(y.rows,y.cols,cv.CV_8UC1),oe=new cv.MatVector;oe.push_back(z),cv.drawContours(X,oe,0,new cv.Scalar(255),cv.FILLED),cv.bitwise_and(y,X,y),z.delete(),oe.delete()}return t.delete(),o.delete(),l.delete(),c.delete(),f.delete(),h.delete(),g.delete(),a.delete(),y}function _a(e){const t=e.clone(),o=cv.Mat.ones(3,3,cv.CV_8U);cv.morphologyEx(e,e,cv.MORPH_CLOSE,o,new cv.Point(-1,-1),3);const l=new cv.MatVector,c=new cv.Mat;if(cv.findContours(e,l,c,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE),l.size()===0)return o.delete(),l.delete(),c.delete(),t;const a=e.cols*e.rows,f=[];for(let V=0;V<l.size();V++){const C=l.get(V),O=cv.boundingRect(C),H=O.width/O.height;if(.9<=H&&H<=1.1){const z=O.width*O.height;z/a>=.5&&f.push({contour:C,contourArea:z,rect:O})}C.delete()}if(f.length===0)return o.delete(),l.delete(),c.delete(),t;f.sort((V,C)=>C.contourArea-V.contourArea);const h=f[0],{x:g,y,width:v,height:S}=h.rect,F=t.roi(new cv.Rect(g,y,v,S));return o.delete(),l.delete(),c.delete(),t.delete(),F}function Ao(e){const t=cv.matFromImageData(e),o=new cv.Mat;cv.cvtColor(t,o,cv.COLOR_RGBA2RGB);const l=new cv.Mat;return cv.cvtColor(o,l,cv.COLOR_RGB2HSV),t.delete(),o.delete(),l}function Ri(e,t,o){const l=new cv.Mat;return cv.inRange(e,cv.matFromArray(1,3,cv.CV_8UC1,t),cv.matFromArray(1,3,cv.CV_8UC1,o),l),l}function Un(e,t,o,l,c){const a=Ri(e,t,o);if(l&&c){const f=Ri(e,l,c),h=new cv.Mat;return cv.bitwise_or(a,f,h),a.delete(),f.delete(),h}return a}const Ia={red_king:"帥",red_guard:"仕",red_bishop:"相",red_knight:"傌",red_rook:"俥",red_cannon:"炮",red_pawn:"兵",black_king:"将",black_guard:"士",black_bishop:"象",black_knight:"馬",black_rook:"車",black_cannon:"炮",black_pawn:"卒"};function qa(e,t,o,l){const c=document.createElement("canvas");c.width=e.width,c.height=e.height;const a=c.getContext("2d");a.drawImage(e,0,0,c.width,c.height),a.strokeStyle="rgba(0, 255, 0, 0.5)",a.lineWidth=2,a.strokeRect(t.x,t.y,t.width,t.height);const f=t.width/9;a.strokeStyle="rgba(0, 255, 0, 0.3)",a.lineWidth=1;for(let g=0;g<=9;g++){const y=t.x+g*f;a.beginPath(),a.moveTo(y,t.y),a.lineTo(y,t.y+t.height),a.stroke()}let h=t.y;for(let g=0;g<=10;g++)a.beginPath(),a.moveTo(t.x,h),a.lineTo(t.x+t.width,h),a.stroke(),g<10&&(h+=o[g]);return l.forEach(g=>{const[y,v]=g.position,S=t.x+v*f;let F=t.y;for(let C=0;C<y;C++)F+=o[C];const V=o[y];if(a.strokeStyle=g.color==="red"?"rgba(255, 0, 0, 0.7)":"rgba(0, 0, 0, 0.7)",a.lineWidth=2,a.strokeRect(S,F,f,V),g.type&&g.type!=="none"){const C=`${g.color}_${Fa(g.type)}`,O=Ia[C]||"";a.fillStyle=g.color==="red"?"rgba(255, 50, 50, 0.9)":"rgba(50, 50, 50, 0.9)",a.font="bold 24px Arial",a.textAlign="right",a.textBaseline="bottom",a.fillText(O,S+f-5,F+V-5)}}),c}function Fa(e){return{k:"king",a:"guard",b:"bishop",n:"knight",r:"rook",c:"cannon",p:"pawn",none:"none"}[e]}function jn(e,t){let o=0;for(let l=0;l<e.length;l++)o+=(e[l]-t[l])*(e[l]-t[l]);return o}const so={distanceFunction:jn};function Va(e,t,o=so){const l=o.distanceFunction||so.distanceFunction,c=o.similarityFunction||so.similarityFunction;let a=-1;if(typeof c=="function"){let f=Number.MIN_VALUE;for(let h=0;h<e.length;h++){const g=c(t,e[h]);g>f&&(f=g,a=h)}}else if(typeof l=="function"){let f=Number.MAX_VALUE;for(let h=0;h<e.length;h++){const g=l(t,e[h]);g<f&&(f=g,a=h)}}else throw new Error("A similarity or distance function it's required");return a}function Ma(e,t){let o=new Array(e.length);for(let l=0;l<e.length;++l)for(let c=l;c<e.length;++c){o[l]||(o[l]=new Array(e.length)),o[c]||(o[c]=new Array(e.length));const a=t(e[l],e[c]);o[l][c]=a,o[c][l]=a}return o}function Wr(e,t,o,l){for(let c=0;c<e.length;c++)o[c]=Va(t,e[c],{distanceFunction:l});return o}function xa(e,t,o,l){const c=t[0].length;let a=new Array(l),f=new Array(l);for(let h=0;h<l;h++){a[h]=new Array(c),f[h]=0;for(let g=0;g<c;g++)a[h][g]=0}for(let h=0;h<t.length;h++){f[o[h]]++;for(let g=0;g<c;g++)a[o[h]][g]+=t[h][g]}for(let h=0;h<l;h++)for(let g=0;g<c;g++)f[h]?a[h][g]/=f[h]:a[h][g]=e[h][g];return a}function Ta(e,t,o,l){for(let c=0;c<e.length;c++)if(o(e[c],t[c])>l)return!1;return!0}class Ca{constructor(t,o,l,c,a){this.clusters=t,this.centroids=o,this.converged=l,this.iterations=c,this.distance=a}nearest(t){const o=new Array(t.length);return Wr(t,this.centroids,o,this.distance)}computeInformation(t){let o=this.centroids.map(l=>({centroid:l,error:0,size:0}));for(let l=0;l<t.length;l++)o[this.clusters[l]].error+=this.distance(t[l],this.centroids[this.clusters[l]]),o[this.clusters[l]].size++;for(let l=0;l<this.centroids.length;l++){let c=o[l].error;o[l].size&&c!==-1?c/=o[l].size:o[l].error=-1}return o}}function ka(e,t){throw new Error(`${t}: "${String(e)}"`)}function Na(e,t){if(t<=0||t>e.length||!Number.isInteger(t))throw new Error("K should be a positive integer smaller than the number of points")}function Aa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Dr(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var o=function l(){return this instanceof l?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};o.prototype=t.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach(function(l){var c=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(o,l,c.get?c:{enumerable:!0,get:function(){return e[l]}})}),o}var Se={};const Ka=Object.prototype.toString;function Bs(e){const t=Ka.call(e);return t.endsWith("Array]")&&!t.includes("Big")}const Oa=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:Bs},Symbol.toStringTag,{value:"Module"})),ja=Dr(Oa);function Ja(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Bs(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var o=t.fromIndex,l=o===void 0?0:o,c=t.toIndex,a=c===void 0?e.length:c;if(l<0||l>=e.length||!Number.isInteger(l))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=l||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var f=e[l],h=l+1;h<a;h++)e[h]>f&&(f=e[h]);return f}function Qa(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Bs(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var o=t.fromIndex,l=o===void 0?0:o,c=t.toIndex,a=c===void 0?e.length:c;if(l<0||l>=e.length||!Number.isInteger(l))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=l||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var f=e[l],h=l+1;h<a;h++)e[h]<f&&(f=e[h]);return f}function La(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Bs(e)){if(e.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var o;if(t.output!==void 0){if(!Bs(t.output))throw new TypeError("output option must be an array if specified");o=t.output}else o=new Array(e.length);var l=Qa(e),c=Ja(e);if(l===c)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=t.min,f=a===void 0?t.autoMinMax?l:0:a,h=t.max,g=h===void 0?t.autoMinMax?c:1:h;if(f>=g)throw new RangeError("min option must be smaller than max option");for(var y=(g-f)/(c-l),v=0;v<e.length;v++)o[v]=(e[v]-l)*y+f;return o}const Pa=Object.freeze(Object.defineProperty({__proto__:null,default:La},Symbol.toStringTag,{value:"Module"})),Wa=Dr(Pa);var Ui;function Da(){var Vs,wo,it;if(Ui)return Se;Ui=1,Object.defineProperty(Se,"__esModule",{value:!0});var e=ja,t=Wa;const o=" ".repeat(2),l=" ".repeat(4);function c(){return a(this)}function a(d,r={}){const{maxRows:n=15,maxColumns:s=10,maxNumSize:i=8,padMinus:u="auto"}=r;return`${d.constructor.name} {
${o}[
${l}${f(d,n,s,i,u)}
${o}]
${o}rows: ${d.rows}
${o}columns: ${d.columns}
}`}function f(d,r,n,s,i){const{rows:u,columns:p}=d,m=Math.min(u,r),w=Math.min(p,n),E=[];if(i==="auto"){i=!1;e:for(let q=0;q<m;q++)for(let b=0;b<w;b++)if(d.get(q,b)<0){i=!0;break e}}for(let q=0;q<m;q++){let b=[];for(let x=0;x<w;x++)b.push(h(d.get(q,x),s,i));E.push(`${b.join(" ")}`)}return w!==p&&(E[E.length-1]+=` ... ${p-n} more columns`),m!==u&&E.push(`... ${u-r} more rows`),E.join(`
${l}`)}function h(d,r,n){return(d>=0&&n?` ${g(d,r-1)}`:g(d,r)).padEnd(r)}function g(d,r){let n=d.toString();if(n.length<=r)return n;let s=d.toFixed(r);if(s.length>r&&(s=d.toFixed(Math.max(0,r-(s.length-r)))),s.length<=r&&!s.startsWith("0.000")&&!s.startsWith("-0.000"))return s;let i=d.toExponential(r);return i.length>r&&(i=d.toExponential(Math.max(0,r-(i.length-r)))),i.slice(0)}function y(d,r){d.prototype.add=function(s){return typeof s=="number"?this.addS(s):this.addM(s)},d.prototype.addS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)+s);return this},d.prototype.addM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)+s.get(i,u));return this},d.add=function(s,i){return new r(s).add(i)},d.prototype.sub=function(s){return typeof s=="number"?this.subS(s):this.subM(s)},d.prototype.subS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)-s);return this},d.prototype.subM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)-s.get(i,u));return this},d.sub=function(s,i){return new r(s).sub(i)},d.prototype.subtract=d.prototype.sub,d.prototype.subtractS=d.prototype.subS,d.prototype.subtractM=d.prototype.subM,d.subtract=d.sub,d.prototype.mul=function(s){return typeof s=="number"?this.mulS(s):this.mulM(s)},d.prototype.mulS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)*s);return this},d.prototype.mulM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)*s.get(i,u));return this},d.mul=function(s,i){return new r(s).mul(i)},d.prototype.multiply=d.prototype.mul,d.prototype.multiplyS=d.prototype.mulS,d.prototype.multiplyM=d.prototype.mulM,d.multiply=d.mul,d.prototype.div=function(s){return typeof s=="number"?this.divS(s):this.divM(s)},d.prototype.divS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)/s);return this},d.prototype.divM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)/s.get(i,u));return this},d.div=function(s,i){return new r(s).div(i)},d.prototype.divide=d.prototype.div,d.prototype.divideS=d.prototype.divS,d.prototype.divideM=d.prototype.divM,d.divide=d.div,d.prototype.mod=function(s){return typeof s=="number"?this.modS(s):this.modM(s)},d.prototype.modS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)%s);return this},d.prototype.modM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)%s.get(i,u));return this},d.mod=function(s,i){return new r(s).mod(i)},d.prototype.modulus=d.prototype.mod,d.prototype.modulusS=d.prototype.modS,d.prototype.modulusM=d.prototype.modM,d.modulus=d.mod,d.prototype.and=function(s){return typeof s=="number"?this.andS(s):this.andM(s)},d.prototype.andS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)&s);return this},d.prototype.andM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)&s.get(i,u));return this},d.and=function(s,i){return new r(s).and(i)},d.prototype.or=function(s){return typeof s=="number"?this.orS(s):this.orM(s)},d.prototype.orS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)|s);return this},d.prototype.orM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)|s.get(i,u));return this},d.or=function(s,i){return new r(s).or(i)},d.prototype.xor=function(s){return typeof s=="number"?this.xorS(s):this.xorM(s)},d.prototype.xorS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)^s);return this},d.prototype.xorM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)^s.get(i,u));return this},d.xor=function(s,i){return new r(s).xor(i)},d.prototype.leftShift=function(s){return typeof s=="number"?this.leftShiftS(s):this.leftShiftM(s)},d.prototype.leftShiftS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)<<s);return this},d.prototype.leftShiftM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)<<s.get(i,u));return this},d.leftShift=function(s,i){return new r(s).leftShift(i)},d.prototype.signPropagatingRightShift=function(s){return typeof s=="number"?this.signPropagatingRightShiftS(s):this.signPropagatingRightShiftM(s)},d.prototype.signPropagatingRightShiftS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)>>s);return this},d.prototype.signPropagatingRightShiftM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)>>s.get(i,u));return this},d.signPropagatingRightShift=function(s,i){return new r(s).signPropagatingRightShift(i)},d.prototype.rightShift=function(s){return typeof s=="number"?this.rightShiftS(s):this.rightShiftM(s)},d.prototype.rightShiftS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)>>>s);return this},d.prototype.rightShiftM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)>>>s.get(i,u));return this},d.rightShift=function(s,i){return new r(s).rightShift(i)},d.prototype.zeroFillRightShift=d.prototype.rightShift,d.prototype.zeroFillRightShiftS=d.prototype.rightShiftS,d.prototype.zeroFillRightShiftM=d.prototype.rightShiftM,d.zeroFillRightShift=d.rightShift,d.prototype.not=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,~this.get(s,i));return this},d.not=function(s){return new r(s).not()},d.prototype.abs=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.abs(this.get(s,i)));return this},d.abs=function(s){return new r(s).abs()},d.prototype.acos=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.acos(this.get(s,i)));return this},d.acos=function(s){return new r(s).acos()},d.prototype.acosh=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.acosh(this.get(s,i)));return this},d.acosh=function(s){return new r(s).acosh()},d.prototype.asin=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.asin(this.get(s,i)));return this},d.asin=function(s){return new r(s).asin()},d.prototype.asinh=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.asinh(this.get(s,i)));return this},d.asinh=function(s){return new r(s).asinh()},d.prototype.atan=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.atan(this.get(s,i)));return this},d.atan=function(s){return new r(s).atan()},d.prototype.atanh=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.atanh(this.get(s,i)));return this},d.atanh=function(s){return new r(s).atanh()},d.prototype.cbrt=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.cbrt(this.get(s,i)));return this},d.cbrt=function(s){return new r(s).cbrt()},d.prototype.ceil=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.ceil(this.get(s,i)));return this},d.ceil=function(s){return new r(s).ceil()},d.prototype.clz32=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.clz32(this.get(s,i)));return this},d.clz32=function(s){return new r(s).clz32()},d.prototype.cos=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.cos(this.get(s,i)));return this},d.cos=function(s){return new r(s).cos()},d.prototype.cosh=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.cosh(this.get(s,i)));return this},d.cosh=function(s){return new r(s).cosh()},d.prototype.exp=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.exp(this.get(s,i)));return this},d.exp=function(s){return new r(s).exp()},d.prototype.expm1=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.expm1(this.get(s,i)));return this},d.expm1=function(s){return new r(s).expm1()},d.prototype.floor=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.floor(this.get(s,i)));return this},d.floor=function(s){return new r(s).floor()},d.prototype.fround=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.fround(this.get(s,i)));return this},d.fround=function(s){return new r(s).fround()},d.prototype.log=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.log(this.get(s,i)));return this},d.log=function(s){return new r(s).log()},d.prototype.log1p=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.log1p(this.get(s,i)));return this},d.log1p=function(s){return new r(s).log1p()},d.prototype.log10=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.log10(this.get(s,i)));return this},d.log10=function(s){return new r(s).log10()},d.prototype.log2=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.log2(this.get(s,i)));return this},d.log2=function(s){return new r(s).log2()},d.prototype.round=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.round(this.get(s,i)));return this},d.round=function(s){return new r(s).round()},d.prototype.sign=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.sign(this.get(s,i)));return this},d.sign=function(s){return new r(s).sign()},d.prototype.sin=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.sin(this.get(s,i)));return this},d.sin=function(s){return new r(s).sin()},d.prototype.sinh=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.sinh(this.get(s,i)));return this},d.sinh=function(s){return new r(s).sinh()},d.prototype.sqrt=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.sqrt(this.get(s,i)));return this},d.sqrt=function(s){return new r(s).sqrt()},d.prototype.tan=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.tan(this.get(s,i)));return this},d.tan=function(s){return new r(s).tan()},d.prototype.tanh=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.tanh(this.get(s,i)));return this},d.tanh=function(s){return new r(s).tanh()},d.prototype.trunc=function(){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.set(s,i,Math.trunc(this.get(s,i)));return this},d.trunc=function(s){return new r(s).trunc()},d.pow=function(s,i){return new r(s).pow(i)},d.prototype.pow=function(s){return typeof s=="number"?this.powS(s):this.powM(s)},d.prototype.powS=function(s){for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)**s);return this},d.prototype.powM=function(s){if(s=r.checkMatrix(s),this.rows!==s.rows||this.columns!==s.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let u=0;u<this.columns;u++)this.set(i,u,this.get(i,u)**s.get(i,u));return this}}function v(d,r,n){let s=n?d.rows:d.rows-1;if(r<0||r>s)throw new RangeError("Row index out of range")}function S(d,r,n){let s=n?d.columns:d.columns-1;if(r<0||r>s)throw new RangeError("Column index out of range")}function F(d,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==d.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function V(d,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==d.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function C(d,r){if(!e.isAnyArray(r))throw new TypeError("row indices must be an array");for(let n=0;n<r.length;n++)if(r[n]<0||r[n]>=d.rows)throw new RangeError("row indices are out of range")}function O(d,r){if(!e.isAnyArray(r))throw new TypeError("column indices must be an array");for(let n=0;n<r.length;n++)if(r[n]<0||r[n]>=d.columns)throw new RangeError("column indices are out of range")}function H(d,r,n,s,i){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(X("startRow",r),X("endRow",n),X("startColumn",s),X("endColumn",i),r>n||s>i||r<0||r>=d.rows||n<0||n>=d.rows||s<0||s>=d.columns||i<0||i>=d.columns)throw new RangeError("Submatrix indices are out of range")}function z(d,r=0){let n=[];for(let s=0;s<d;s++)n.push(r);return n}function X(d,r){if(typeof r!="number")throw new TypeError(`${d} must be a number`)}function oe(d){if(d.isEmpty())throw new Error("Empty matrix has no elements to index")}function G(d){let r=z(d.rows);for(let n=0;n<d.rows;++n)for(let s=0;s<d.columns;++s)r[n]+=d.get(n,s);return r}function ne(d){let r=z(d.columns);for(let n=0;n<d.rows;++n)for(let s=0;s<d.columns;++s)r[s]+=d.get(n,s);return r}function ye(d){let r=0;for(let n=0;n<d.rows;n++)for(let s=0;s<d.columns;s++)r+=d.get(n,s);return r}function Fe(d){let r=z(d.rows,1);for(let n=0;n<d.rows;++n)for(let s=0;s<d.columns;++s)r[n]*=d.get(n,s);return r}function de(d){let r=z(d.columns,1);for(let n=0;n<d.rows;++n)for(let s=0;s<d.columns;++s)r[s]*=d.get(n,s);return r}function we(d){let r=1;for(let n=0;n<d.rows;n++)for(let s=0;s<d.columns;s++)r*=d.get(n,s);return r}function Ne(d,r,n){const s=d.rows,i=d.columns,u=[];for(let p=0;p<s;p++){let m=0,w=0,E=0;for(let q=0;q<i;q++)E=d.get(p,q)-n[p],m+=E,w+=E*E;r?u.push((w-m*m/i)/(i-1)):u.push((w-m*m/i)/i)}return u}function tt(d,r,n){const s=d.rows,i=d.columns,u=[];for(let p=0;p<i;p++){let m=0,w=0,E=0;for(let q=0;q<s;q++)E=d.get(q,p)-n[p],m+=E,w+=E*E;r?u.push((w-m*m/s)/(s-1)):u.push((w-m*m/s)/s)}return u}function ot(d,r,n){const s=d.rows,i=d.columns,u=s*i;let p=0,m=0,w=0;for(let E=0;E<s;E++)for(let q=0;q<i;q++)w=d.get(E,q)-n,p+=w,m+=w*w;return r?(m-p*p/u)/(u-1):(m-p*p/u)/u}function wt(d,r){for(let n=0;n<d.rows;n++)for(let s=0;s<d.columns;s++)d.set(n,s,d.get(n,s)-r[n])}function Vt(d,r){for(let n=0;n<d.rows;n++)for(let s=0;s<d.columns;s++)d.set(n,s,d.get(n,s)-r[s])}function At(d,r){for(let n=0;n<d.rows;n++)for(let s=0;s<d.columns;s++)d.set(n,s,d.get(n,s)-r)}function Ce(d){const r=[];for(let n=0;n<d.rows;n++){let s=0;for(let i=0;i<d.columns;i++)s+=d.get(n,i)**2/(d.columns-1);r.push(Math.sqrt(s))}return r}function Ee(d,r){for(let n=0;n<d.rows;n++)for(let s=0;s<d.columns;s++)d.set(n,s,d.get(n,s)/r[n])}function _e(d){const r=[];for(let n=0;n<d.columns;n++){let s=0;for(let i=0;i<d.rows;i++)s+=d.get(i,n)**2/(d.rows-1);r.push(Math.sqrt(s))}return r}function _t(d,r){for(let n=0;n<d.rows;n++)for(let s=0;s<d.columns;s++)d.set(n,s,d.get(n,s)/r[s])}function Yt(d){const r=d.size-1;let n=0;for(let s=0;s<d.columns;s++)for(let i=0;i<d.rows;i++)n+=d.get(i,s)**2/r;return Math.sqrt(n)}function It(d,r){for(let n=0;n<d.rows;n++)for(let s=0;s<d.columns;s++)d.set(n,s,d.get(n,s)/r)}class le{static from1DArray(r,n,s){if(r*n!==s.length)throw new RangeError("data length does not match given dimensions");let u=new P(r,n);for(let p=0;p<r;p++)for(let m=0;m<n;m++)u.set(p,m,s[p*n+m]);return u}static rowVector(r){let n=new P(1,r.length);for(let s=0;s<r.length;s++)n.set(0,s,r[s]);return n}static columnVector(r){let n=new P(r.length,1);for(let s=0;s<r.length;s++)n.set(s,0,r[s]);return n}static zeros(r,n){return new P(r,n)}static ones(r,n){return new P(r,n).fill(1)}static rand(r,n,s={}){if(typeof s!="object")throw new TypeError("options must be an object");const{random:i=Math.random}=s;let u=new P(r,n);for(let p=0;p<r;p++)for(let m=0;m<n;m++)u.set(p,m,i());return u}static randInt(r,n,s={}){if(typeof s!="object")throw new TypeError("options must be an object");const{min:i=0,max:u=1e3,random:p=Math.random}=s;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(u))throw new TypeError("max must be an integer");if(i>=u)throw new RangeError("min must be smaller than max");let m=u-i,w=new P(r,n);for(let E=0;E<r;E++)for(let q=0;q<n;q++){let b=i+Math.round(p()*m);w.set(E,q,b)}return w}static eye(r,n,s){n===void 0&&(n=r),s===void 0&&(s=1);let i=Math.min(r,n),u=this.zeros(r,n);for(let p=0;p<i;p++)u.set(p,p,s);return u}static diag(r,n,s){let i=r.length;n===void 0&&(n=i),s===void 0&&(s=n);let u=Math.min(i,n,s),p=this.zeros(n,s);for(let m=0;m<u;m++)p.set(m,m,r[m]);return p}static min(r,n){r=this.checkMatrix(r),n=this.checkMatrix(n);let s=r.rows,i=r.columns,u=new P(s,i);for(let p=0;p<s;p++)for(let m=0;m<i;m++)u.set(p,m,Math.min(r.get(p,m),n.get(p,m)));return u}static max(r,n){r=this.checkMatrix(r),n=this.checkMatrix(n);let s=r.rows,i=r.columns,u=new this(s,i);for(let p=0;p<s;p++)for(let m=0;m<i;m++)u.set(p,m,Math.max(r.get(p,m),n.get(p,m)));return u}static checkMatrix(r){return le.isMatrix(r)?r:new P(r)}static isMatrix(r){return r!=null&&r.klass==="Matrix"}get size(){return this.rows*this.columns}apply(r){if(typeof r!="function")throw new TypeError("callback must be a function");for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)r.call(this,n,s);return this}to1DArray(){let r=[];for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)r.push(this.get(n,s));return r}to2DArray(){let r=[];for(let n=0;n<this.rows;n++){r.push([]);for(let s=0;s<this.columns;s++)r[n].push(this.get(n,s))}return r}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let r=0;r<this.rows;r++)for(let n=0;n<=r;n++)if(this.get(r,n)!==this.get(n,r))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let r=0;r<this.rows;r++)if(this.get(r,r)!==0)return!1;return!0}isEchelonForm(){let r=0,n=0,s=-1,i=!0,u=!1;for(;r<this.rows&&i;){for(n=0,u=!1;n<this.columns&&u===!1;)this.get(r,n)===0?n++:this.get(r,n)===1&&n>s?(u=!0,s=n):(i=!1,u=!0);r++}return i}isReducedEchelonForm(){let r=0,n=0,s=-1,i=!0,u=!1;for(;r<this.rows&&i;){for(n=0,u=!1;n<this.columns&&u===!1;)this.get(r,n)===0?n++:this.get(r,n)===1&&n>s?(u=!0,s=n):(i=!1,u=!0);for(let p=n+1;p<this.rows;p++)this.get(r,p)!==0&&(i=!1);r++}return i}echelonForm(){let r=this.clone(),n=0,s=0;for(;n<r.rows&&s<r.columns;){let i=n;for(let u=n;u<r.rows;u++)r.get(u,s)>r.get(i,s)&&(i=u);if(r.get(i,s)===0)s++;else{r.swapRows(n,i);let u=r.get(n,s);for(let p=s;p<r.columns;p++)r.set(n,p,r.get(n,p)/u);for(let p=n+1;p<r.rows;p++){let m=r.get(p,s)/r.get(n,s);r.set(p,s,0);for(let w=s+1;w<r.columns;w++)r.set(p,w,r.get(p,w)-r.get(n,w)*m)}n++,s++}}return r}reducedEchelonForm(){let r=this.echelonForm(),n=r.columns,s=r.rows,i=s-1;for(;i>=0;)if(r.maxRow(i)===0)i--;else{let u=0,p=!1;for(;u<s&&p===!1;)r.get(i,u)===1?p=!0:u++;for(let m=0;m<i;m++){let w=r.get(m,u);for(let E=u;E<n;E++){let q=r.get(m,E)-w*r.get(i,E);r.set(m,E,q)}}i--}return r}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{rows:n=1,columns:s=1}=r;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(s)||s<=0)throw new TypeError("columns must be a positive integer");let i=new P(this.rows*n,this.columns*s);for(let u=0;u<n;u++)for(let p=0;p<s;p++)i.setSubMatrix(this,this.rows*u,this.columns*p);return i}fill(r){for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,r);return this}neg(){return this.mulS(-1)}getRow(r){v(this,r);let n=[];for(let s=0;s<this.columns;s++)n.push(this.get(r,s));return n}getRowVector(r){return P.rowVector(this.getRow(r))}setRow(r,n){v(this,r),n=F(this,n);for(let s=0;s<this.columns;s++)this.set(r,s,n[s]);return this}swapRows(r,n){v(this,r),v(this,n);for(let s=0;s<this.columns;s++){let i=this.get(r,s);this.set(r,s,this.get(n,s)),this.set(n,s,i)}return this}getColumn(r){S(this,r);let n=[];for(let s=0;s<this.rows;s++)n.push(this.get(s,r));return n}getColumnVector(r){return P.columnVector(this.getColumn(r))}setColumn(r,n){S(this,r),n=V(this,n);for(let s=0;s<this.rows;s++)this.set(s,r,n[s]);return this}swapColumns(r,n){S(this,r),S(this,n);for(let s=0;s<this.rows;s++){let i=this.get(s,r);this.set(s,r,this.get(s,n)),this.set(s,n,i)}return this}addRowVector(r){r=F(this,r);for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)+r[s]);return this}subRowVector(r){r=F(this,r);for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)-r[s]);return this}mulRowVector(r){r=F(this,r);for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)*r[s]);return this}divRowVector(r){r=F(this,r);for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)/r[s]);return this}addColumnVector(r){r=V(this,r);for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)+r[n]);return this}subColumnVector(r){r=V(this,r);for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)-r[n]);return this}mulColumnVector(r){r=V(this,r);for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)*r[n]);return this}divColumnVector(r){r=V(this,r);for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)/r[n]);return this}mulRow(r,n){v(this,r);for(let s=0;s<this.columns;s++)this.set(r,s,this.get(r,s)*n);return this}mulColumn(r,n){S(this,r);for(let s=0;s<this.rows;s++)this.set(s,r,this.get(s,r)*n);return this}max(r){if(this.isEmpty())return NaN;switch(r){case"row":{const n=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.get(s,i)>n[s]&&(n[s]=this.get(s,i));return n}case"column":{const n=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.get(s,i)>n[i]&&(n[i]=this.get(s,i));return n}case void 0:{let n=this.get(0,0);for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.get(s,i)>n&&(n=this.get(s,i));return n}default:throw new Error(`invalid option: ${r}`)}}maxIndex(){oe(this);let r=this.get(0,0),n=[0,0];for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.get(s,i)>r&&(r=this.get(s,i),n[0]=s,n[1]=i);return n}min(r){if(this.isEmpty())return NaN;switch(r){case"row":{const n=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.get(s,i)<n[s]&&(n[s]=this.get(s,i));return n}case"column":{const n=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.get(s,i)<n[i]&&(n[i]=this.get(s,i));return n}case void 0:{let n=this.get(0,0);for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.get(s,i)<n&&(n=this.get(s,i));return n}default:throw new Error(`invalid option: ${r}`)}}minIndex(){oe(this);let r=this.get(0,0),n=[0,0];for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)this.get(s,i)<r&&(r=this.get(s,i),n[0]=s,n[1]=i);return n}maxRow(r){if(v(this,r),this.isEmpty())return NaN;let n=this.get(r,0);for(let s=1;s<this.columns;s++)this.get(r,s)>n&&(n=this.get(r,s));return n}maxRowIndex(r){v(this,r),oe(this);let n=this.get(r,0),s=[r,0];for(let i=1;i<this.columns;i++)this.get(r,i)>n&&(n=this.get(r,i),s[1]=i);return s}minRow(r){if(v(this,r),this.isEmpty())return NaN;let n=this.get(r,0);for(let s=1;s<this.columns;s++)this.get(r,s)<n&&(n=this.get(r,s));return n}minRowIndex(r){v(this,r),oe(this);let n=this.get(r,0),s=[r,0];for(let i=1;i<this.columns;i++)this.get(r,i)<n&&(n=this.get(r,i),s[1]=i);return s}maxColumn(r){if(S(this,r),this.isEmpty())return NaN;let n=this.get(0,r);for(let s=1;s<this.rows;s++)this.get(s,r)>n&&(n=this.get(s,r));return n}maxColumnIndex(r){S(this,r),oe(this);let n=this.get(0,r),s=[0,r];for(let i=1;i<this.rows;i++)this.get(i,r)>n&&(n=this.get(i,r),s[0]=i);return s}minColumn(r){if(S(this,r),this.isEmpty())return NaN;let n=this.get(0,r);for(let s=1;s<this.rows;s++)this.get(s,r)<n&&(n=this.get(s,r));return n}minColumnIndex(r){S(this,r),oe(this);let n=this.get(0,r),s=[0,r];for(let i=1;i<this.rows;i++)this.get(i,r)<n&&(n=this.get(i,r),s[0]=i);return s}diag(){let r=Math.min(this.rows,this.columns),n=[];for(let s=0;s<r;s++)n.push(this.get(s,s));return n}norm(r="frobenius"){switch(r){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${r}`)}}cumulativeSum(){let r=0;for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)r+=this.get(n,s),this.set(n,s,r);return this}dot(r){le.isMatrix(r)&&(r=r.to1DArray());let n=this.to1DArray();if(n.length!==r.length)throw new RangeError("vectors do not have the same size");let s=0;for(let i=0;i<n.length;i++)s+=n[i]*r[i];return s}mmul(r){r=P.checkMatrix(r);let n=this.rows,s=this.columns,i=r.columns,u=new P(n,i),p=new Float64Array(s);for(let m=0;m<i;m++){for(let w=0;w<s;w++)p[w]=r.get(w,m);for(let w=0;w<n;w++){let E=0;for(let q=0;q<s;q++)E+=this.get(w,q)*p[q];u.set(w,m,E)}}return u}strassen2x2(r){r=P.checkMatrix(r);let n=new P(2,2);const s=this.get(0,0),i=r.get(0,0),u=this.get(0,1),p=r.get(0,1),m=this.get(1,0),w=r.get(1,0),E=this.get(1,1),q=r.get(1,1),b=(s+E)*(i+q),x=(m+E)*i,W=s*(p-q),M=E*(w-i),k=(s+u)*q,$=(m-s)*(i+p),U=(u-E)*(w+q),L=b+M-k+U,te=W+k,he=x+M,ge=b-x+W+$;return n.set(0,0,L),n.set(0,1,te),n.set(1,0,he),n.set(1,1,ge),n}strassen3x3(r){r=P.checkMatrix(r);let n=new P(3,3);const s=this.get(0,0),i=this.get(0,1),u=this.get(0,2),p=this.get(1,0),m=this.get(1,1),w=this.get(1,2),E=this.get(2,0),q=this.get(2,1),b=this.get(2,2),x=r.get(0,0),W=r.get(0,1),M=r.get(0,2),k=r.get(1,0),$=r.get(1,1),U=r.get(1,2),L=r.get(2,0),te=r.get(2,1),he=r.get(2,2),ge=(s+i+u-p-m-q-b)*$,Ke=(s-p)*(-W+$),re=m*(-x+W+k-$-U-L+he),ue=(-s+p+m)*(x-W+$),xe=(p+m)*(-x+W),I=s*x,N=(-s+E+q)*(x-M+U),ee=(-s+E)*(M-U),J=(E+q)*(-x+M),Oe=(s+i+u-m-w-E-q)*U,Ve=q*(-x+M+k-$-U-L+te),Ae=(-u+q+b)*($+L-te),je=(u-b)*($-te),st=u*L,xt=(q+b)*(-L+te),Xe=(-u+m+w)*(U+L-he),Ot=(u-w)*(U-he),Gt=(m+w)*(-L+he),be=i*k,nt=w*te,vt=p*M,St=E*W,ze=b*he,Gr=I+st+be,Br=ge+ue+xe+I+Ae+st+xt,Xr=I+N+J+Oe+st+Xe+Gt,zr=Ke+re+ue+I+st+Xe+Ot,Zr=Ke+ue+xe+I+nt,Hr=st+Xe+Ot+Gt+vt,$r=I+N+ee+Ve+Ae+je+st,el=Ae+je+st+xt+St,tl=I+N+ee+J+ze;return n.set(0,0,Gr),n.set(0,1,Br),n.set(0,2,Xr),n.set(1,0,zr),n.set(1,1,Zr),n.set(1,2,Hr),n.set(2,0,$r),n.set(2,1,el),n.set(2,2,tl),n}mmulStrassen(r){r=P.checkMatrix(r);let n=this.clone(),s=n.rows,i=n.columns,u=r.rows,p=r.columns;i!==u&&console.warn(`Multiplying ${s} x ${i} and ${u} x ${p} matrix: dimensions do not match.`);function m(b,x,W){let M=b.rows,k=b.columns;if(M===x&&k===W)return b;{let $=le.zeros(x,W);return $=$.setSubMatrix(b,0,0),$}}let w=Math.max(s,u),E=Math.max(i,p);n=m(n,w,E),r=m(r,w,E);function q(b,x,W,M){if(W<=512||M<=512)return b.mmul(x);W%2===1&&M%2===1?(b=m(b,W+1,M+1),x=m(x,W+1,M+1)):W%2===1?(b=m(b,W+1,M),x=m(x,W+1,M)):M%2===1&&(b=m(b,W,M+1),x=m(x,W,M+1));let k=parseInt(b.rows/2,10),$=parseInt(b.columns/2,10),U=b.subMatrix(0,k-1,0,$-1),L=x.subMatrix(0,k-1,0,$-1),te=b.subMatrix(0,k-1,$,b.columns-1),he=x.subMatrix(0,k-1,$,x.columns-1),ge=b.subMatrix(k,b.rows-1,0,$-1),Ke=x.subMatrix(k,x.rows-1,0,$-1),re=b.subMatrix(k,b.rows-1,$,b.columns-1),ue=x.subMatrix(k,x.rows-1,$,x.columns-1),xe=q(le.add(U,re),le.add(L,ue),k,$),I=q(le.add(ge,re),L,k,$),N=q(U,le.sub(he,ue),k,$),ee=q(re,le.sub(Ke,L),k,$),J=q(le.add(U,te),ue,k,$),Oe=q(le.sub(ge,U),le.add(L,he),k,$),Ve=q(le.sub(te,re),le.add(Ke,ue),k,$),Ae=le.add(xe,ee);Ae.sub(J),Ae.add(Ve);let je=le.add(N,J),st=le.add(I,ee),xt=le.sub(xe,I);xt.add(N),xt.add(Oe);let Xe=le.zeros(2*Ae.rows,2*Ae.columns);return Xe=Xe.setSubMatrix(Ae,0,0),Xe=Xe.setSubMatrix(je,Ae.rows,0),Xe=Xe.setSubMatrix(st,0,Ae.columns),Xe=Xe.setSubMatrix(xt,Ae.rows,Ae.columns),Xe.subMatrix(0,W-1,0,M-1)}return q(n,r,w,E)}scaleRows(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:n=0,max:s=1}=r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(s))throw new TypeError("max must be a number");if(n>=s)throw new RangeError("min must be smaller than max");let i=new P(this.rows,this.columns);for(let u=0;u<this.rows;u++){const p=this.getRow(u);p.length>0&&t(p,{min:n,max:s,output:p}),i.setRow(u,p)}return i}scaleColumns(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:n=0,max:s=1}=r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(s))throw new TypeError("max must be a number");if(n>=s)throw new RangeError("min must be smaller than max");let i=new P(this.rows,this.columns);for(let u=0;u<this.columns;u++){const p=this.getColumn(u);p.length&&t(p,{min:n,max:s,output:p}),i.setColumn(u,p)}return i}flipRows(){const r=Math.ceil(this.columns/2);for(let n=0;n<this.rows;n++)for(let s=0;s<r;s++){let i=this.get(n,s),u=this.get(n,this.columns-1-s);this.set(n,s,u),this.set(n,this.columns-1-s,i)}return this}flipColumns(){const r=Math.ceil(this.rows/2);for(let n=0;n<this.columns;n++)for(let s=0;s<r;s++){let i=this.get(s,n),u=this.get(this.rows-1-s,n);this.set(s,n,u),this.set(this.rows-1-s,n,i)}return this}kroneckerProduct(r){r=P.checkMatrix(r);let n=this.rows,s=this.columns,i=r.rows,u=r.columns,p=new P(n*i,s*u);for(let m=0;m<n;m++)for(let w=0;w<s;w++)for(let E=0;E<i;E++)for(let q=0;q<u;q++)p.set(i*m+E,u*w+q,this.get(m,w)*r.get(E,q));return p}kroneckerSum(r){if(r=P.checkMatrix(r),!this.isSquare()||!r.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let n=this.rows,s=r.rows,i=this.kroneckerProduct(P.eye(s,s)),u=P.eye(n,n).kroneckerProduct(r);return i.add(u)}transpose(){let r=new P(this.columns,this.rows);for(let n=0;n<this.rows;n++)for(let s=0;s<this.columns;s++)r.set(s,n,this.get(n,s));return r}sortRows(r=Ue){for(let n=0;n<this.rows;n++)this.setRow(n,this.getRow(n).sort(r));return this}sortColumns(r=Ue){for(let n=0;n<this.columns;n++)this.setColumn(n,this.getColumn(n).sort(r));return this}subMatrix(r,n,s,i){H(this,r,n,s,i);let u=new P(n-r+1,i-s+1);for(let p=r;p<=n;p++)for(let m=s;m<=i;m++)u.set(p-r,m-s,this.get(p,m));return u}subMatrixRow(r,n,s){if(n===void 0&&(n=0),s===void 0&&(s=this.columns-1),n>s||n<0||n>=this.columns||s<0||s>=this.columns)throw new RangeError("Argument out of range");let i=new P(r.length,s-n+1);for(let u=0;u<r.length;u++)for(let p=n;p<=s;p++){if(r[u]<0||r[u]>=this.rows)throw new RangeError(`Row index out of range: ${r[u]}`);i.set(u,p-n,this.get(r[u],p))}return i}subMatrixColumn(r,n,s){if(n===void 0&&(n=0),s===void 0&&(s=this.rows-1),n>s||n<0||n>=this.rows||s<0||s>=this.rows)throw new RangeError("Argument out of range");let i=new P(s-n+1,r.length);for(let u=0;u<r.length;u++)for(let p=n;p<=s;p++){if(r[u]<0||r[u]>=this.columns)throw new RangeError(`Column index out of range: ${r[u]}`);i.set(p-n,u,this.get(p,r[u]))}return i}setSubMatrix(r,n,s){if(r=P.checkMatrix(r),r.isEmpty())return this;let i=n+r.rows-1,u=s+r.columns-1;H(this,n,i,s,u);for(let p=0;p<r.rows;p++)for(let m=0;m<r.columns;m++)this.set(n+p,s+m,r.get(p,m));return this}selection(r,n){C(this,r),O(this,n);let s=new P(r.length,n.length);for(let i=0;i<r.length;i++){let u=r[i];for(let p=0;p<n.length;p++){let m=n[p];s.set(i,p,this.get(u,m))}}return s}trace(){let r=Math.min(this.rows,this.columns),n=0;for(let s=0;s<r;s++)n+=this.get(s,s);return n}clone(){return this.constructor.copy(this,new P(this.rows,this.columns))}static copy(r,n){for(const[s,i,u]of r.entries())n.set(s,i,u);return n}sum(r){switch(r){case"row":return G(this);case"column":return ne(this);case void 0:return ye(this);default:throw new Error(`invalid option: ${r}`)}}product(r){switch(r){case"row":return Fe(this);case"column":return de(this);case void 0:return we(this);default:throw new Error(`invalid option: ${r}`)}}mean(r){const n=this.sum(r);switch(r){case"row":{for(let s=0;s<this.rows;s++)n[s]/=this.columns;return n}case"column":{for(let s=0;s<this.columns;s++)n[s]/=this.rows;return n}case void 0:return n/this.size;default:throw new Error(`invalid option: ${r}`)}}variance(r,n={}){if(typeof r=="object"&&(n=r,r=void 0),typeof n!="object")throw new TypeError("options must be an object");const{unbiased:s=!0,mean:i=this.mean(r)}=n;if(typeof s!="boolean")throw new TypeError("unbiased must be a boolean");switch(r){case"row":{if(!e.isAnyArray(i))throw new TypeError("mean must be an array");return Ne(this,s,i)}case"column":{if(!e.isAnyArray(i))throw new TypeError("mean must be an array");return tt(this,s,i)}case void 0:{if(typeof i!="number")throw new TypeError("mean must be a number");return ot(this,s,i)}default:throw new Error(`invalid option: ${r}`)}}standardDeviation(r,n){typeof r=="object"&&(n=r,r=void 0);const s=this.variance(r,n);if(r===void 0)return Math.sqrt(s);for(let i=0;i<s.length;i++)s[i]=Math.sqrt(s[i]);return s}center(r,n={}){if(typeof r=="object"&&(n=r,r=void 0),typeof n!="object")throw new TypeError("options must be an object");const{center:s=this.mean(r)}=n;switch(r){case"row":{if(!e.isAnyArray(s))throw new TypeError("center must be an array");return wt(this,s),this}case"column":{if(!e.isAnyArray(s))throw new TypeError("center must be an array");return Vt(this,s),this}case void 0:{if(typeof s!="number")throw new TypeError("center must be a number");return At(this,s),this}default:throw new Error(`invalid option: ${r}`)}}scale(r,n={}){if(typeof r=="object"&&(n=r,r=void 0),typeof n!="object")throw new TypeError("options must be an object");let s=n.scale;switch(r){case"row":{if(s===void 0)s=Ce(this);else if(!e.isAnyArray(s))throw new TypeError("scale must be an array");return Ee(this,s),this}case"column":{if(s===void 0)s=_e(this);else if(!e.isAnyArray(s))throw new TypeError("scale must be an array");return _t(this,s),this}case void 0:{if(s===void 0)s=Yt(this);else if(typeof s!="number")throw new TypeError("scale must be a number");return It(this,s),this}default:throw new Error(`invalid option: ${r}`)}}toString(r){return a(this,r)}[Symbol.iterator](){return this.entries()}*entries(){for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)yield[r,n,this.get(r,n)]}*values(){for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)yield this.get(r,n)}}le.prototype.klass="Matrix",typeof Symbol<"u"&&(le.prototype[Symbol.for("nodejs.util.inspect.custom")]=c);function Ue(d,r){return d-r}function Et(d){return d.every(r=>typeof r=="number")}le.random=le.rand,le.randomInt=le.randInt,le.diagonal=le.diag,le.prototype.diagonal=le.prototype.diag,le.identity=le.eye,le.prototype.negate=le.prototype.neg,le.prototype.tensorProduct=le.prototype.kroneckerProduct;const on=class on extends le{constructor(n,s){super();Qn(this,Vs);Ms(this,"data");if(on.isMatrix(n))Ln(this,Vs,wo).call(this,n.rows,n.columns),on.copy(n,this);else if(Number.isInteger(n)&&n>=0)Ln(this,Vs,wo).call(this,n,s);else if(e.isAnyArray(n)){const i=n;if(n=i.length,s=n?i[0].length:0,typeof s!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let u=0;u<n;u++){if(i[u].length!==s)throw new RangeError("Inconsistent array dimensions");if(!Et(i[u]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(i[u]))}this.rows=n,this.columns=s}else throw new TypeError("First argument must be a positive number or an array")}set(n,s,i){return this.data[n][s]=i,this}get(n,s){return this.data[n][s]}removeRow(n){return v(this,n),this.data.splice(n,1),this.rows-=1,this}addRow(n,s){return s===void 0&&(s=n,n=this.rows),v(this,n,!0),s=Float64Array.from(F(this,s)),this.data.splice(n,0,s),this.rows+=1,this}removeColumn(n){S(this,n);for(let s=0;s<this.rows;s++){const i=new Float64Array(this.columns-1);for(let u=0;u<n;u++)i[u]=this.data[s][u];for(let u=n+1;u<this.columns;u++)i[u-1]=this.data[s][u];this.data[s]=i}return this.columns-=1,this}addColumn(n,s){typeof s>"u"&&(s=n,n=this.columns),S(this,n,!0),s=V(this,s);for(let i=0;i<this.rows;i++){const u=new Float64Array(this.columns+1);let p=0;for(;p<n;p++)u[p]=this.data[i][p];for(u[p++]=s[i];p<this.columns+1;p++)u[p]=this.data[i][p-1];this.data[i]=u}return this.columns+=1,this}};Vs=new WeakSet,wo=function(n,s){if(this.data=[],Number.isInteger(s)&&s>=0)for(let i=0;i<n;i++)this.data.push(new Float64Array(s));else throw new TypeError("nColumns must be a positive integer");this.rows=n,this.columns=s};let P=on;y(le,P);const rn=class rn extends le{constructor(n){super();Qn(this,it);if(P.isMatrix(n)){if(!n.isSymmetric())throw new TypeError("not symmetric data");ln(this,it,P.copy(n,new P(n.rows,n.rows)))}else if(Number.isInteger(n)&&n>=0)ln(this,it,new P(n,n));else if(ln(this,it,new P(n)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return Tt(this,it).size}get rows(){return Tt(this,it).rows}get columns(){return Tt(this,it).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(n){return P.isMatrix(n)&&n.klassType==="SymmetricMatrix"}static zeros(n){return new this(n)}static ones(n){return new this(n).fill(1)}clone(){const n=new rn(this.diagonalSize);for(const[s,i,u]of this.upperRightEntries())n.set(s,i,u);return n}toMatrix(){return new P(this)}get(n,s){return Tt(this,it).get(n,s)}set(n,s,i){return Tt(this,it).set(n,s,i),Tt(this,it).set(s,n,i),this}removeCross(n){return Tt(this,it).removeRow(n),Tt(this,it).removeColumn(n),this}addCross(n,s){s===void 0&&(s=n,n=this.diagonalSize);const i=s.slice();return i.splice(n,1),Tt(this,it).addRow(n,i),Tt(this,it).addColumn(n,s),this}applyMask(n){if(n.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const s=[];for(const[i,u]of n.entries())u||s.push(i);s.reverse();for(const i of s)this.removeCross(i);return this}toCompact(){const{diagonalSize:n}=this,s=new Array(n*(n+1)/2);for(let i=0,u=0,p=0;p<s.length;p++)s[p]=this.get(u,i),++i>=n&&(i=++u);return s}static fromCompact(n){const s=n.length,i=(Math.sqrt(8*s+1)-1)/2;if(!Number.isInteger(i))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(n)}`);const u=new rn(i);for(let p=0,m=0,w=0;w<s;w++)u.set(p,m,n[w]),++p>=i&&(p=++m);return u}*upperRightEntries(){for(let n=0,s=0;n<this.diagonalSize;void 0){const i=this.get(n,s);yield[n,s,i],++s>=this.diagonalSize&&(s=++n)}}*upperRightValues(){for(let n=0,s=0;n<this.diagonalSize;void 0)yield this.get(n,s),++s>=this.diagonalSize&&(s=++n)}};it=new WeakMap;let Ye=rn;Ye.prototype.klassType="SymmetricMatrix";class ut extends Ye{static isDistanceMatrix(r){return Ye.isSymmetricMatrix(r)&&r.klassSubType==="DistanceMatrix"}constructor(r){if(super(r),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(r,n,s){return r===n&&(s=0),super.set(r,n,s)}addCross(r,n){return n===void 0&&(n=r,r=this.diagonalSize),n=n.slice(),n[r]=0,super.addCross(r,n)}toSymmetricMatrix(){return new Ye(this)}clone(){const r=new ut(this.diagonalSize);for(const[n,s,i]of this.upperRightEntries())n!==s&&r.set(n,s,i);return r}toCompact(){const{diagonalSize:r}=this,n=(r-1)*r/2,s=new Array(n);for(let i=1,u=0,p=0;p<s.length;p++)s[p]=this.get(u,i),++i>=r&&(i=++u+1);return s}static fromCompact(r){const n=r.length;if(n===0)return new this(0);const s=(Math.sqrt(8*n+1)+1)/2;if(!Number.isInteger(s))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(r)}`);const i=new this(s);for(let u=1,p=0,m=0;m<n;m++)i.set(u,p,r[m]),++u>=s&&(u=++p+1);return i}}ut.prototype.klassSubType="DistanceMatrix";class De extends le{constructor(r,n,s){super(),this.matrix=r,this.rows=n,this.columns=s}}class Mt extends De{constructor(r,n){S(r,n),super(r,r.rows,1),this.column=n}set(r,n,s){return this.matrix.set(r,this.column,s),this}get(r){return this.matrix.get(r,this.column)}}class Kt extends De{constructor(r,n){O(r,n),super(r,r.rows,n.length),this.columnIndices=n}set(r,n,s){return this.matrix.set(r,this.columnIndices[n],s),this}get(r,n){return this.matrix.get(r,this.columnIndices[n])}}class $s extends De{constructor(r){super(r,r.rows,r.columns)}set(r,n,s){return this.matrix.set(r,this.columns-n-1,s),this}get(r,n){return this.matrix.get(r,this.columns-n-1)}}class en extends De{constructor(r){super(r,r.rows,r.columns)}set(r,n,s){return this.matrix.set(this.rows-r-1,n,s),this}get(r,n){return this.matrix.get(this.rows-r-1,n)}}class R extends De{constructor(r,n){v(r,n),super(r,1,r.columns),this.row=n}set(r,n,s){return this.matrix.set(this.row,n,s),this}get(r,n){return this.matrix.get(this.row,n)}}class _ extends De{constructor(r,n){C(r,n),super(r,n.length,r.columns),this.rowIndices=n}set(r,n,s){return this.matrix.set(this.rowIndices[r],n,s),this}get(r,n){return this.matrix.get(this.rowIndices[r],n)}}class T extends De{constructor(r,n,s){C(r,n),O(r,s),super(r,n.length,s.length),this.rowIndices=n,this.columnIndices=s}set(r,n,s){return this.matrix.set(this.rowIndices[r],this.columnIndices[n],s),this}get(r,n){return this.matrix.get(this.rowIndices[r],this.columnIndices[n])}}class Q extends De{constructor(r,n,s,i,u){H(r,n,s,i,u),super(r,s-n+1,u-i+1),this.startRow=n,this.startColumn=i}set(r,n,s){return this.matrix.set(this.startRow+r,this.startColumn+n,s),this}get(r,n){return this.matrix.get(this.startRow+r,this.startColumn+n)}}class A extends De{constructor(r){super(r,r.columns,r.rows)}set(r,n,s){return this.matrix.set(n,r,s),this}get(r,n){return this.matrix.get(n,r)}}class j extends le{constructor(r,n={}){const{rows:s=1}=n;if(r.length%s!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=s,this.columns=r.length/s,this.data=r}set(r,n,s){let i=this._calculateIndex(r,n);return this.data[i]=s,this}get(r,n){let s=this._calculateIndex(r,n);return this.data[s]}_calculateIndex(r,n){return r*this.columns+n}}class D extends le{constructor(r){super(),this.data=r,this.rows=r.length,this.columns=r[0].length}set(r,n,s){return this.data[r][n]=s,this}get(r,n){return this.data[r][n]}}function B(d,r){if(e.isAnyArray(d))return d[0]&&e.isAnyArray(d[0])?new D(d):new j(d,r);throw new Error("the argument is not an array")}class Y{constructor(r){r=D.checkMatrix(r);let n=r.clone(),s=n.rows,i=n.columns,u=new Float64Array(s),p=1,m,w,E,q,b,x,W,M,k;for(m=0;m<s;m++)u[m]=m;for(M=new Float64Array(s),w=0;w<i;w++){for(m=0;m<s;m++)M[m]=n.get(m,w);for(m=0;m<s;m++){for(k=Math.min(m,w),b=0,E=0;E<k;E++)b+=n.get(m,E)*M[E];M[m]-=b,n.set(m,w,M[m])}for(q=w,m=w+1;m<s;m++)Math.abs(M[m])>Math.abs(M[q])&&(q=m);if(q!==w){for(E=0;E<i;E++)x=n.get(q,E),n.set(q,E,n.get(w,E)),n.set(w,E,x);W=u[q],u[q]=u[w],u[w]=W,p=-p}if(w<s&&n.get(w,w)!==0)for(m=w+1;m<s;m++)n.set(m,w,n.get(m,w)/n.get(w,w))}this.LU=n,this.pivotVector=u,this.pivotSign=p}isSingular(){let r=this.LU,n=r.columns;for(let s=0;s<n;s++)if(r.get(s,s)===0)return!0;return!1}solve(r){r=P.checkMatrix(r);let n=this.LU;if(n.rows!==r.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let i=r.columns,u=r.subMatrixRow(this.pivotVector,0,i-1),p=n.columns,m,w,E;for(E=0;E<p;E++)for(m=E+1;m<p;m++)for(w=0;w<i;w++)u.set(m,w,u.get(m,w)-u.get(E,w)*n.get(m,E));for(E=p-1;E>=0;E--){for(w=0;w<i;w++)u.set(E,w,u.get(E,w)/n.get(E,E));for(m=0;m<E;m++)for(w=0;w<i;w++)u.set(m,w,u.get(m,w)-u.get(E,w)*n.get(m,E))}return u}get determinant(){let r=this.LU;if(!r.isSquare())throw new Error("Matrix must be square");let n=this.pivotSign,s=r.columns;for(let i=0;i<s;i++)n*=r.get(i,i);return n}get lowerTriangularMatrix(){let r=this.LU,n=r.rows,s=r.columns,i=new P(n,s);for(let u=0;u<n;u++)for(let p=0;p<s;p++)u>p?i.set(u,p,r.get(u,p)):u===p?i.set(u,p,1):i.set(u,p,0);return i}get upperTriangularMatrix(){let r=this.LU,n=r.rows,s=r.columns,i=new P(n,s);for(let u=0;u<n;u++)for(let p=0;p<s;p++)u<=p?i.set(u,p,r.get(u,p)):i.set(u,p,0);return i}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function K(d,r){let n=0;return Math.abs(d)>Math.abs(r)?(n=r/d,Math.abs(d)*Math.sqrt(1+n*n)):r!==0?(n=d/r,Math.abs(r)*Math.sqrt(1+n*n)):0}class ce{constructor(r){r=D.checkMatrix(r);let n=r.clone(),s=r.rows,i=r.columns,u=new Float64Array(i),p,m,w,E;for(w=0;w<i;w++){let q=0;for(p=w;p<s;p++)q=K(q,n.get(p,w));if(q!==0){for(n.get(w,w)<0&&(q=-q),p=w;p<s;p++)n.set(p,w,n.get(p,w)/q);for(n.set(w,w,n.get(w,w)+1),m=w+1;m<i;m++){for(E=0,p=w;p<s;p++)E+=n.get(p,w)*n.get(p,m);for(E=-E/n.get(w,w),p=w;p<s;p++)n.set(p,m,n.get(p,m)+E*n.get(p,w))}}u[w]=-q}this.QR=n,this.Rdiag=u}solve(r){r=P.checkMatrix(r);let n=this.QR,s=n.rows;if(r.rows!==s)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let i=r.columns,u=r.clone(),p=n.columns,m,w,E,q;for(E=0;E<p;E++)for(w=0;w<i;w++){for(q=0,m=E;m<s;m++)q+=n.get(m,E)*u.get(m,w);for(q=-q/n.get(E,E),m=E;m<s;m++)u.set(m,w,u.get(m,w)+q*n.get(m,E))}for(E=p-1;E>=0;E--){for(w=0;w<i;w++)u.set(E,w,u.get(E,w)/this.Rdiag[E]);for(m=0;m<E;m++)for(w=0;w<i;w++)u.set(m,w,u.get(m,w)-u.get(E,w)*n.get(m,E))}return u.subMatrix(0,p-1,0,i-1)}isFullRank(){let r=this.QR.columns;for(let n=0;n<r;n++)if(this.Rdiag[n]===0)return!1;return!0}get upperTriangularMatrix(){let r=this.QR,n=r.columns,s=new P(n,n),i,u;for(i=0;i<n;i++)for(u=0;u<n;u++)i<u?s.set(i,u,r.get(i,u)):i===u?s.set(i,u,this.Rdiag[i]):s.set(i,u,0);return s}get orthogonalMatrix(){let r=this.QR,n=r.rows,s=r.columns,i=new P(n,s),u,p,m,w;for(m=s-1;m>=0;m--){for(u=0;u<n;u++)i.set(u,m,0);for(i.set(m,m,1),p=m;p<s;p++)if(r.get(m,m)!==0){for(w=0,u=m;u<n;u++)w+=r.get(u,m)*i.get(u,p);for(w=-w/r.get(m,m),u=m;u<n;u++)i.set(u,p,i.get(u,p)+w*r.get(u,m))}}return i}}class Z{constructor(r,n={}){if(r=D.checkMatrix(r),r.isEmpty())throw new Error("Matrix must be non-empty");let s=r.rows,i=r.columns;const{computeLeftSingularVectors:u=!0,computeRightSingularVectors:p=!0,autoTranspose:m=!1}=n;let w=!!u,E=!!p,q=!1,b;if(s<i)if(!m)b=r.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{b=r.transpose(),s=b.rows,i=b.columns,q=!0;let I=w;w=E,E=I}else b=r.clone();let x=Math.min(s,i),W=Math.min(s+1,i),M=new Float64Array(W),k=new P(s,x),$=new P(i,i),U=new Float64Array(i),L=new Float64Array(s),te=new Float64Array(W);for(let I=0;I<W;I++)te[I]=I;let he=Math.min(s-1,i),ge=Math.max(0,Math.min(i-2,s)),Ke=Math.max(he,ge);for(let I=0;I<Ke;I++){if(I<he){M[I]=0;for(let N=I;N<s;N++)M[I]=K(M[I],b.get(N,I));if(M[I]!==0){b.get(I,I)<0&&(M[I]=-M[I]);for(let N=I;N<s;N++)b.set(N,I,b.get(N,I)/M[I]);b.set(I,I,b.get(I,I)+1)}M[I]=-M[I]}for(let N=I+1;N<i;N++){if(I<he&&M[I]!==0){let ee=0;for(let J=I;J<s;J++)ee+=b.get(J,I)*b.get(J,N);ee=-ee/b.get(I,I);for(let J=I;J<s;J++)b.set(J,N,b.get(J,N)+ee*b.get(J,I))}U[N]=b.get(I,N)}if(w&&I<he)for(let N=I;N<s;N++)k.set(N,I,b.get(N,I));if(I<ge){U[I]=0;for(let N=I+1;N<i;N++)U[I]=K(U[I],U[N]);if(U[I]!==0){U[I+1]<0&&(U[I]=0-U[I]);for(let N=I+1;N<i;N++)U[N]/=U[I];U[I+1]+=1}if(U[I]=-U[I],I+1<s&&U[I]!==0){for(let N=I+1;N<s;N++)L[N]=0;for(let N=I+1;N<s;N++)for(let ee=I+1;ee<i;ee++)L[N]+=U[ee]*b.get(N,ee);for(let N=I+1;N<i;N++){let ee=-U[N]/U[I+1];for(let J=I+1;J<s;J++)b.set(J,N,b.get(J,N)+ee*L[J])}}if(E)for(let N=I+1;N<i;N++)$.set(N,I,U[N])}}let re=Math.min(i,s+1);if(he<i&&(M[he]=b.get(he,he)),s<re&&(M[re-1]=0),ge+1<re&&(U[ge]=b.get(ge,re-1)),U[re-1]=0,w){for(let I=he;I<x;I++){for(let N=0;N<s;N++)k.set(N,I,0);k.set(I,I,1)}for(let I=he-1;I>=0;I--)if(M[I]!==0){for(let N=I+1;N<x;N++){let ee=0;for(let J=I;J<s;J++)ee+=k.get(J,I)*k.get(J,N);ee=-ee/k.get(I,I);for(let J=I;J<s;J++)k.set(J,N,k.get(J,N)+ee*k.get(J,I))}for(let N=I;N<s;N++)k.set(N,I,-k.get(N,I));k.set(I,I,1+k.get(I,I));for(let N=0;N<I-1;N++)k.set(N,I,0)}else{for(let N=0;N<s;N++)k.set(N,I,0);k.set(I,I,1)}}if(E)for(let I=i-1;I>=0;I--){if(I<ge&&U[I]!==0)for(let N=I+1;N<i;N++){let ee=0;for(let J=I+1;J<i;J++)ee+=$.get(J,I)*$.get(J,N);ee=-ee/$.get(I+1,I);for(let J=I+1;J<i;J++)$.set(J,N,$.get(J,N)+ee*$.get(J,I))}for(let N=0;N<i;N++)$.set(N,I,0);$.set(I,I,1)}let ue=re-1,xe=Number.EPSILON;for(;re>0;){let I,N;for(I=re-2;I>=-1&&I!==-1;I--){const ee=Number.MIN_VALUE+xe*Math.abs(M[I]+Math.abs(M[I+1]));if(Math.abs(U[I])<=ee||Number.isNaN(U[I])){U[I]=0;break}}if(I===re-2)N=4;else{let ee;for(ee=re-1;ee>=I&&ee!==I;ee--){let J=(ee!==re?Math.abs(U[ee]):0)+(ee!==I+1?Math.abs(U[ee-1]):0);if(Math.abs(M[ee])<=xe*J){M[ee]=0;break}}ee===I?N=3:ee===re-1?N=1:(N=2,I=ee)}switch(I++,N){case 1:{let ee=U[re-2];U[re-2]=0;for(let J=re-2;J>=I;J--){let Oe=K(M[J],ee),Ve=M[J]/Oe,Ae=ee/Oe;if(M[J]=Oe,J!==I&&(ee=-Ae*U[J-1],U[J-1]=Ve*U[J-1]),E)for(let je=0;je<i;je++)Oe=Ve*$.get(je,J)+Ae*$.get(je,re-1),$.set(je,re-1,-Ae*$.get(je,J)+Ve*$.get(je,re-1)),$.set(je,J,Oe)}break}case 2:{let ee=U[I-1];U[I-1]=0;for(let J=I;J<re;J++){let Oe=K(M[J],ee),Ve=M[J]/Oe,Ae=ee/Oe;if(M[J]=Oe,ee=-Ae*U[J],U[J]=Ve*U[J],w)for(let je=0;je<s;je++)Oe=Ve*k.get(je,J)+Ae*k.get(je,I-1),k.set(je,I-1,-Ae*k.get(je,J)+Ve*k.get(je,I-1)),k.set(je,J,Oe)}break}case 3:{const ee=Math.max(Math.abs(M[re-1]),Math.abs(M[re-2]),Math.abs(U[re-2]),Math.abs(M[I]),Math.abs(U[I])),J=M[re-1]/ee,Oe=M[re-2]/ee,Ve=U[re-2]/ee,Ae=M[I]/ee,je=U[I]/ee,st=((Oe+J)*(Oe-J)+Ve*Ve)/2,xt=J*Ve*(J*Ve);let Xe=0;(st!==0||xt!==0)&&(st<0?Xe=0-Math.sqrt(st*st+xt):Xe=Math.sqrt(st*st+xt),Xe=xt/(st+Xe));let Ot=(Ae+J)*(Ae-J)+Xe,Gt=Ae*je;for(let be=I;be<re-1;be++){let nt=K(Ot,Gt);nt===0&&(nt=Number.MIN_VALUE);let vt=Ot/nt,St=Gt/nt;if(be!==I&&(U[be-1]=nt),Ot=vt*M[be]+St*U[be],U[be]=vt*U[be]-St*M[be],Gt=St*M[be+1],M[be+1]=vt*M[be+1],E)for(let ze=0;ze<i;ze++)nt=vt*$.get(ze,be)+St*$.get(ze,be+1),$.set(ze,be+1,-St*$.get(ze,be)+vt*$.get(ze,be+1)),$.set(ze,be,nt);if(nt=K(Ot,Gt),nt===0&&(nt=Number.MIN_VALUE),vt=Ot/nt,St=Gt/nt,M[be]=nt,Ot=vt*U[be]+St*M[be+1],M[be+1]=-St*U[be]+vt*M[be+1],Gt=St*U[be+1],U[be+1]=vt*U[be+1],w&&be<s-1)for(let ze=0;ze<s;ze++)nt=vt*k.get(ze,be)+St*k.get(ze,be+1),k.set(ze,be+1,-St*k.get(ze,be)+vt*k.get(ze,be+1)),k.set(ze,be,nt)}U[re-2]=Ot;break}case 4:{if(M[I]<=0&&(M[I]=M[I]<0?-M[I]:0,E))for(let ee=0;ee<=ue;ee++)$.set(ee,I,-$.get(ee,I));for(;I<ue&&!(M[I]>=M[I+1]);){let ee=M[I];if(M[I]=M[I+1],M[I+1]=ee,E&&I<i-1)for(let J=0;J<i;J++)ee=$.get(J,I+1),$.set(J,I+1,$.get(J,I)),$.set(J,I,ee);if(w&&I<s-1)for(let J=0;J<s;J++)ee=k.get(J,I+1),k.set(J,I+1,k.get(J,I)),k.set(J,I,ee);I++}re--;break}}}if(q){let I=$;$=k,k=I}this.m=s,this.n=i,this.s=M,this.U=k,this.V=$}solve(r){let n=r,s=this.threshold,i=this.s.length,u=P.zeros(i,i);for(let x=0;x<i;x++)Math.abs(this.s[x])<=s?u.set(x,x,0):u.set(x,x,1/this.s[x]);let p=this.U,m=this.rightSingularVectors,w=m.mmul(u),E=m.rows,q=p.rows,b=P.zeros(E,q);for(let x=0;x<E;x++)for(let W=0;W<q;W++){let M=0;for(let k=0;k<i;k++)M+=w.get(x,k)*p.get(W,k);b.set(x,W,M)}return b.mmul(n)}solveForDiagonal(r){return this.solve(P.diag(r))}inverse(){let r=this.V,n=this.threshold,s=r.rows,i=r.columns,u=new P(s,this.s.length);for(let q=0;q<s;q++)for(let b=0;b<i;b++)Math.abs(this.s[b])>n&&u.set(q,b,r.get(q,b)/this.s[b]);let p=this.U,m=p.rows,w=p.columns,E=new P(s,m);for(let q=0;q<s;q++)for(let b=0;b<m;b++){let x=0;for(let W=0;W<w;W++)x+=u.get(q,W)*p.get(b,W);E.set(q,b,x)}return E}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let r=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,n=0,s=this.s;for(let i=0,u=s.length;i<u;i++)s[i]>r&&n++;return n}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return P.diag(this.s)}}function ie(d,r=!1){return d=D.checkMatrix(d),r?new Z(d).inverse():fe(d,P.eye(d.rows))}function fe(d,r,n=!1){return d=D.checkMatrix(d),r=D.checkMatrix(r),n?new Z(d).solve(r):d.isSquare()?new Y(d).solve(r):new ce(d).solve(r)}function ve(d){if(d=P.checkMatrix(d),d.isSquare()){if(d.columns===0)return 1;let r,n,s,i;if(d.columns===2)return r=d.get(0,0),n=d.get(0,1),s=d.get(1,0),i=d.get(1,1),r*i-n*s;if(d.columns===3){let u,p,m;return u=new T(d,[1,2],[1,2]),p=new T(d,[1,2],[0,2]),m=new T(d,[1,2],[0,1]),r=d.get(0,0),n=d.get(0,1),s=d.get(0,2),r*ve(u)-n*ve(p)+s*ve(m)}else return new Y(d).determinant}else throw Error("determinant can only be calculated for a square matrix")}function Me(d,r){let n=[];for(let s=0;s<d;s++)s!==r&&n.push(s);return n}function Ie(d,r,n,s=1e-9,i=1e-9){if(d>i)return new Array(r.rows+1).fill(0);{let u=r.addRow(n,[0]);for(let p=0;p<u.rows;p++)Math.abs(u.get(p,0))<s&&u.set(p,0,0);return u.to1DArray()}}function at(d,r={}){const{thresholdValue:n=1e-9,thresholdError:s=1e-9}=r;d=P.checkMatrix(d);let i=d.rows,u=new P(i,i);for(let p=0;p<i;p++){let m=P.columnVector(d.getRow(p)),w=d.subMatrixRow(Me(i,p)).transpose(),q=new Z(w).solve(m),b=P.sub(m,w.mmul(q)).abs().max();u.setRow(p,Ie(b,q,p,n,s))}return u}function He(d,r=Number.EPSILON){if(d=P.checkMatrix(d),d.isEmpty())return d.transpose();let n=new Z(d,{autoTranspose:!0}),s=n.leftSingularVectors,i=n.rightSingularVectors,u=n.diagonal;for(let p=0;p<u.length;p++)Math.abs(u[p])>r?u[p]=1/u[p]:u[p]=0;return i.mmul(P.diag(u).mmul(s.transpose()))}function yt(d,r=d,n={}){d=new P(d);let s=!1;if(typeof r=="object"&&!P.isMatrix(r)&&!e.isAnyArray(r)?(n=r,r=d,s=!0):r=new P(r),d.rows!==r.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:i=!0}=n;i&&(d=d.center("column"),s||(r=r.center("column")));const u=d.transpose().mmul(r);for(let p=0;p<u.rows;p++)for(let m=0;m<u.columns;m++)u.set(p,m,u.get(p,m)*(1/(d.rows-1)));return u}function ft(d,r=d,n={}){d=new P(d);let s=!1;if(typeof r=="object"&&!P.isMatrix(r)&&!e.isAnyArray(r)?(n=r,r=d,s=!0):r=new P(r),d.rows!==r.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:i=!0,scale:u=!0}=n;i&&(d.center("column"),s||r.center("column")),u&&(d.scale("column"),s||r.scale("column"));const p=d.standardDeviation("column",{unbiased:!0}),m=s?p:r.standardDeviation("column",{unbiased:!0}),w=d.transpose().mmul(r);for(let E=0;E<w.rows;E++)for(let q=0;q<w.columns;q++)w.set(E,q,w.get(E,q)*(1/(p[E]*m[q]))*(1/(d.rows-1)));return w}class ts{constructor(r,n={}){const{assumeSymmetric:s=!1}=n;if(r=D.checkMatrix(r),!r.isSquare())throw new Error("Matrix is not a square matrix");if(r.isEmpty())throw new Error("Matrix must be non-empty");let i=r.columns,u=new P(i,i),p=new Float64Array(i),m=new Float64Array(i),w=r,E,q,b=!1;if(s?b=!0:b=r.isSymmetric(),b){for(E=0;E<i;E++)for(q=0;q<i;q++)u.set(E,q,w.get(E,q));tn(i,m,p,u),ht(i,m,p,u)}else{let x=new P(i,i),W=new Float64Array(i);for(q=0;q<i;q++)for(E=0;E<i;E++)x.set(E,q,w.get(E,q));qt(i,x,W,u),sn(i,m,p,u,x)}this.n=i,this.e=m,this.d=p,this.V=u}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let r=this.n,n=this.e,s=this.d,i=new P(r,r),u,p;for(u=0;u<r;u++){for(p=0;p<r;p++)i.set(u,p,0);i.set(u,u,s[u]),n[u]>0?i.set(u,u+1,n[u]):n[u]<0&&i.set(u,u-1,n[u])}return i}}function tn(d,r,n,s){let i,u,p,m,w,E,q,b;for(w=0;w<d;w++)n[w]=s.get(d-1,w);for(m=d-1;m>0;m--){for(b=0,p=0,E=0;E<m;E++)b=b+Math.abs(n[E]);if(b===0)for(r[m]=n[m-1],w=0;w<m;w++)n[w]=s.get(m-1,w),s.set(m,w,0),s.set(w,m,0);else{for(E=0;E<m;E++)n[E]/=b,p+=n[E]*n[E];for(i=n[m-1],u=Math.sqrt(p),i>0&&(u=-u),r[m]=b*u,p=p-i*u,n[m-1]=i-u,w=0;w<m;w++)r[w]=0;for(w=0;w<m;w++){for(i=n[w],s.set(w,m,i),u=r[w]+s.get(w,w)*i,E=w+1;E<=m-1;E++)u+=s.get(E,w)*n[E],r[E]+=s.get(E,w)*i;r[w]=u}for(i=0,w=0;w<m;w++)r[w]/=p,i+=r[w]*n[w];for(q=i/(p+p),w=0;w<m;w++)r[w]-=q*n[w];for(w=0;w<m;w++){for(i=n[w],u=r[w],E=w;E<=m-1;E++)s.set(E,w,s.get(E,w)-(i*r[E]+u*n[E]));n[w]=s.get(m-1,w),s.set(m,w,0)}}n[m]=p}for(m=0;m<d-1;m++){if(s.set(d-1,m,s.get(m,m)),s.set(m,m,1),p=n[m+1],p!==0){for(E=0;E<=m;E++)n[E]=s.get(E,m+1)/p;for(w=0;w<=m;w++){for(u=0,E=0;E<=m;E++)u+=s.get(E,m+1)*s.get(E,w);for(E=0;E<=m;E++)s.set(E,w,s.get(E,w)-u*n[E])}}for(E=0;E<=m;E++)s.set(E,m+1,0)}for(w=0;w<d;w++)n[w]=s.get(d-1,w),s.set(d-1,w,0);s.set(d-1,d-1,1),r[0]=0}function ht(d,r,n,s){let i,u,p,m,w,E,q,b,x,W,M,k,$,U,L,te;for(p=1;p<d;p++)r[p-1]=r[p];r[d-1]=0;let he=0,ge=0,Ke=Number.EPSILON;for(E=0;E<d;E++){for(ge=Math.max(ge,Math.abs(n[E])+Math.abs(r[E])),q=E;q<d&&!(Math.abs(r[q])<=Ke*ge);)q++;if(q>E)do{for(i=n[E],b=(n[E+1]-i)/(2*r[E]),x=K(b,1),b<0&&(x=-x),n[E]=r[E]/(b+x),n[E+1]=r[E]*(b+x),W=n[E+1],u=i-n[E],p=E+2;p<d;p++)n[p]-=u;for(he=he+u,b=n[q],M=1,k=M,$=M,U=r[E+1],L=0,te=0,p=q-1;p>=E;p--)for($=k,k=M,te=L,i=M*r[p],u=M*b,x=K(b,r[p]),r[p+1]=L*x,L=r[p]/x,M=b/x,b=M*n[p]-L*i,n[p+1]=u+L*(M*i+L*n[p]),w=0;w<d;w++)u=s.get(w,p+1),s.set(w,p+1,L*s.get(w,p)+M*u),s.set(w,p,M*s.get(w,p)-L*u);b=-L*te*$*U*r[E]/W,r[E]=L*b,n[E]=M*b}while(Math.abs(r[E])>Ke*ge);n[E]=n[E]+he,r[E]=0}for(p=0;p<d-1;p++){for(w=p,b=n[p],m=p+1;m<d;m++)n[m]<b&&(w=m,b=n[m]);if(w!==p)for(n[w]=n[p],n[p]=b,m=0;m<d;m++)b=s.get(m,p),s.set(m,p,s.get(m,w)),s.set(m,w,b)}}function qt(d,r,n,s){let i=0,u=d-1,p,m,w,E,q,b,x;for(b=i+1;b<=u-1;b++){for(x=0,E=b;E<=u;E++)x=x+Math.abs(r.get(E,b-1));if(x!==0){for(w=0,E=u;E>=b;E--)n[E]=r.get(E,b-1)/x,w+=n[E]*n[E];for(m=Math.sqrt(w),n[b]>0&&(m=-m),w=w-n[b]*m,n[b]=n[b]-m,q=b;q<d;q++){for(p=0,E=u;E>=b;E--)p+=n[E]*r.get(E,q);for(p=p/w,E=b;E<=u;E++)r.set(E,q,r.get(E,q)-p*n[E])}for(E=0;E<=u;E++){for(p=0,q=u;q>=b;q--)p+=n[q]*r.get(E,q);for(p=p/w,q=b;q<=u;q++)r.set(E,q,r.get(E,q)-p*n[q])}n[b]=x*n[b],r.set(b,b-1,x*m)}}for(E=0;E<d;E++)for(q=0;q<d;q++)s.set(E,q,E===q?1:0);for(b=u-1;b>=i+1;b--)if(r.get(b,b-1)!==0){for(E=b+1;E<=u;E++)n[E]=r.get(E,b-1);for(q=b;q<=u;q++){for(m=0,E=b;E<=u;E++)m+=n[E]*s.get(E,q);for(m=m/n[b]/r.get(b,b-1),E=b;E<=u;E++)s.set(E,q,s.get(E,q)+m*n[E])}}}function sn(d,r,n,s,i){let u=d-1,p=0,m=d-1,w=Number.EPSILON,E=0,q=0,b=0,x=0,W=0,M=0,k=0,$=0,U,L,te,he,ge,Ke,re,ue,xe,I,N,ee,J,Oe,Ve;for(U=0;U<d;U++)for((U<p||U>m)&&(n[U]=i.get(U,U),r[U]=0),L=Math.max(U-1,0);L<d;L++)q=q+Math.abs(i.get(U,L));for(;u>=p;){for(he=u;he>p&&(M=Math.abs(i.get(he-1,he-1))+Math.abs(i.get(he,he)),M===0&&(M=q),!(Math.abs(i.get(he,he-1))<w*M));)he--;if(he===u)i.set(u,u,i.get(u,u)+E),n[u]=i.get(u,u),r[u]=0,u--,$=0;else if(he===u-1){if(re=i.get(u,u-1)*i.get(u-1,u),b=(i.get(u-1,u-1)-i.get(u,u))/2,x=b*b+re,k=Math.sqrt(Math.abs(x)),i.set(u,u,i.get(u,u)+E),i.set(u-1,u-1,i.get(u-1,u-1)+E),ue=i.get(u,u),x>=0){for(k=b>=0?b+k:b-k,n[u-1]=ue+k,n[u]=n[u-1],k!==0&&(n[u]=ue-re/k),r[u-1]=0,r[u]=0,ue=i.get(u,u-1),M=Math.abs(ue)+Math.abs(k),b=ue/M,x=k/M,W=Math.sqrt(b*b+x*x),b=b/W,x=x/W,L=u-1;L<d;L++)k=i.get(u-1,L),i.set(u-1,L,x*k+b*i.get(u,L)),i.set(u,L,x*i.get(u,L)-b*k);for(U=0;U<=u;U++)k=i.get(U,u-1),i.set(U,u-1,x*k+b*i.get(U,u)),i.set(U,u,x*i.get(U,u)-b*k);for(U=p;U<=m;U++)k=s.get(U,u-1),s.set(U,u-1,x*k+b*s.get(U,u)),s.set(U,u,x*s.get(U,u)-b*k)}else n[u-1]=ue+b,n[u]=ue+b,r[u-1]=k,r[u]=-k;u=u-2,$=0}else{if(ue=i.get(u,u),xe=0,re=0,he<u&&(xe=i.get(u-1,u-1),re=i.get(u,u-1)*i.get(u-1,u)),$===10){for(E+=ue,U=p;U<=u;U++)i.set(U,U,i.get(U,U)-ue);M=Math.abs(i.get(u,u-1))+Math.abs(i.get(u-1,u-2)),ue=xe=.75*M,re=-.4375*M*M}if($===30&&(M=(xe-ue)/2,M=M*M+re,M>0)){for(M=Math.sqrt(M),xe<ue&&(M=-M),M=ue-re/((xe-ue)/2+M),U=p;U<=u;U++)i.set(U,U,i.get(U,U)-M);E+=M,ue=xe=re=.964}for($=$+1,ge=u-2;ge>=he&&(k=i.get(ge,ge),W=ue-k,M=xe-k,b=(W*M-re)/i.get(ge+1,ge)+i.get(ge,ge+1),x=i.get(ge+1,ge+1)-k-W-M,W=i.get(ge+2,ge+1),M=Math.abs(b)+Math.abs(x)+Math.abs(W),b=b/M,x=x/M,W=W/M,!(ge===he||Math.abs(i.get(ge,ge-1))*(Math.abs(x)+Math.abs(W))<w*(Math.abs(b)*(Math.abs(i.get(ge-1,ge-1))+Math.abs(k)+Math.abs(i.get(ge+1,ge+1))))));)ge--;for(U=ge+2;U<=u;U++)i.set(U,U-2,0),U>ge+2&&i.set(U,U-3,0);for(te=ge;te<=u-1&&(Oe=te!==u-1,te!==ge&&(b=i.get(te,te-1),x=i.get(te+1,te-1),W=Oe?i.get(te+2,te-1):0,ue=Math.abs(b)+Math.abs(x)+Math.abs(W),ue!==0&&(b=b/ue,x=x/ue,W=W/ue)),ue!==0);te++)if(M=Math.sqrt(b*b+x*x+W*W),b<0&&(M=-M),M!==0){for(te!==ge?i.set(te,te-1,-M*ue):he!==ge&&i.set(te,te-1,-i.get(te,te-1)),b=b+M,ue=b/M,xe=x/M,k=W/M,x=x/b,W=W/b,L=te;L<d;L++)b=i.get(te,L)+x*i.get(te+1,L),Oe&&(b=b+W*i.get(te+2,L),i.set(te+2,L,i.get(te+2,L)-b*k)),i.set(te,L,i.get(te,L)-b*ue),i.set(te+1,L,i.get(te+1,L)-b*xe);for(U=0;U<=Math.min(u,te+3);U++)b=ue*i.get(U,te)+xe*i.get(U,te+1),Oe&&(b=b+k*i.get(U,te+2),i.set(U,te+2,i.get(U,te+2)-b*W)),i.set(U,te,i.get(U,te)-b),i.set(U,te+1,i.get(U,te+1)-b*x);for(U=p;U<=m;U++)b=ue*s.get(U,te)+xe*s.get(U,te+1),Oe&&(b=b+k*s.get(U,te+2),s.set(U,te+2,s.get(U,te+2)-b*W)),s.set(U,te,s.get(U,te)-b),s.set(U,te+1,s.get(U,te+1)-b*x)}}}if(q!==0){for(u=d-1;u>=0;u--)if(b=n[u],x=r[u],x===0)for(he=u,i.set(u,u,1),U=u-1;U>=0;U--){for(re=i.get(U,U)-b,W=0,L=he;L<=u;L++)W=W+i.get(U,L)*i.get(L,u);if(r[U]<0)k=re,M=W;else if(he=U,r[U]===0?i.set(U,u,re!==0?-W/re:-W/(w*q)):(ue=i.get(U,U+1),xe=i.get(U+1,U),x=(n[U]-b)*(n[U]-b)+r[U]*r[U],Ke=(ue*M-k*W)/x,i.set(U,u,Ke),i.set(U+1,u,Math.abs(ue)>Math.abs(k)?(-W-re*Ke)/ue:(-M-xe*Ke)/k)),Ke=Math.abs(i.get(U,u)),w*Ke*Ke>1)for(L=U;L<=u;L++)i.set(L,u,i.get(L,u)/Ke)}else if(x<0)for(he=u-1,Math.abs(i.get(u,u-1))>Math.abs(i.get(u-1,u))?(i.set(u-1,u-1,x/i.get(u,u-1)),i.set(u-1,u,-(i.get(u,u)-b)/i.get(u,u-1))):(Ve=nn(0,-i.get(u-1,u),i.get(u-1,u-1)-b,x),i.set(u-1,u-1,Ve[0]),i.set(u-1,u,Ve[1])),i.set(u,u-1,0),i.set(u,u,1),U=u-2;U>=0;U--){for(I=0,N=0,L=he;L<=u;L++)I=I+i.get(U,L)*i.get(L,u-1),N=N+i.get(U,L)*i.get(L,u);if(re=i.get(U,U)-b,r[U]<0)k=re,W=I,M=N;else if(he=U,r[U]===0?(Ve=nn(-I,-N,re,x),i.set(U,u-1,Ve[0]),i.set(U,u,Ve[1])):(ue=i.get(U,U+1),xe=i.get(U+1,U),ee=(n[U]-b)*(n[U]-b)+r[U]*r[U]-x*x,J=(n[U]-b)*2*x,ee===0&&J===0&&(ee=w*q*(Math.abs(re)+Math.abs(x)+Math.abs(ue)+Math.abs(xe)+Math.abs(k))),Ve=nn(ue*W-k*I+x*N,ue*M-k*N-x*I,ee,J),i.set(U,u-1,Ve[0]),i.set(U,u,Ve[1]),Math.abs(ue)>Math.abs(k)+Math.abs(x)?(i.set(U+1,u-1,(-I-re*i.get(U,u-1)+x*i.get(U,u))/ue),i.set(U+1,u,(-N-re*i.get(U,u)-x*i.get(U,u-1))/ue)):(Ve=nn(-W-xe*i.get(U,u-1),-M-xe*i.get(U,u),k,x),i.set(U+1,u-1,Ve[0]),i.set(U+1,u,Ve[1]))),Ke=Math.max(Math.abs(i.get(U,u-1)),Math.abs(i.get(U,u))),w*Ke*Ke>1)for(L=U;L<=u;L++)i.set(L,u-1,i.get(L,u-1)/Ke),i.set(L,u,i.get(L,u)/Ke)}for(U=0;U<d;U++)if(U<p||U>m)for(L=U;L<d;L++)s.set(U,L,i.get(U,L));for(L=d-1;L>=p;L--)for(U=p;U<=m;U++){for(k=0,te=p;te<=Math.min(L,m);te++)k=k+s.get(U,te)*i.get(te,L);s.set(U,L,k)}}}function nn(d,r,n,s){let i,u;return Math.abs(n)>Math.abs(s)?(i=s/n,u=n+i*s,[(d+i*r)/u,(r-i*d)/u]):(i=n/s,u=s+i*n,[(i*d+r)/u,(i*r-d)/u])}class jo{constructor(r){if(r=D.checkMatrix(r),!r.isSymmetric())throw new Error("Matrix is not symmetric");let n=r,s=n.rows,i=new P(s,s),u=!0,p,m,w;for(m=0;m<s;m++){let E=0;for(w=0;w<m;w++){let q=0;for(p=0;p<w;p++)q+=i.get(w,p)*i.get(m,p);q=(n.get(m,w)-q)/i.get(w,w),i.set(m,w,q),E=E+q*q}for(E=n.get(m,m)-E,u&=E>0,i.set(m,m,Math.sqrt(Math.max(E,0))),w=m+1;w<s;w++)i.set(m,w,0)}this.L=i,this.positiveDefinite=!!u}isPositiveDefinite(){return this.positiveDefinite}solve(r){r=D.checkMatrix(r);let n=this.L,s=n.rows;if(r.rows!==s)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let i=r.columns,u=r.clone(),p,m,w;for(w=0;w<s;w++)for(m=0;m<i;m++){for(p=0;p<w;p++)u.set(w,m,u.get(w,m)-u.get(p,m)*n.get(w,p));u.set(w,m,u.get(w,m)/n.get(w,w))}for(w=s-1;w>=0;w--)for(m=0;m<i;m++){for(p=w+1;p<s;p++)u.set(w,m,u.get(w,m)-u.get(p,m)*n.get(p,w));u.set(w,m,u.get(w,m)/n.get(w,w))}return u}get lowerTriangularMatrix(){return this.L}}class Jo{constructor(r,n={}){r=D.checkMatrix(r);let{Y:s}=n;const{scaleScores:i=!1,maxIterations:u=1e3,terminationCriteria:p=1e-10}=n;let m;if(s){if(e.isAnyArray(s)&&typeof s[0]=="number"?s=P.columnVector(s):s=D.checkMatrix(s),s.rows!==r.rows)throw new Error("Y should have the same number of rows as X");m=s.getColumnVector(0)}else m=r.getColumnVector(0);let w=1,E,q,b,x;for(let W=0;W<u&&w>p;W++)b=r.transpose().mmul(m).div(m.transpose().mmul(m).get(0,0)),b=b.div(b.norm()),E=r.mmul(b).div(b.transpose().mmul(b).get(0,0)),W>0&&(w=E.clone().sub(x).pow(2).sum()),x=E.clone(),s?(q=s.transpose().mmul(E).div(E.transpose().mmul(E).get(0,0)),q=q.div(q.norm()),m=s.mmul(q).div(q.transpose().mmul(q).get(0,0))):m=E;if(s){let W=r.transpose().mmul(E).div(E.transpose().mmul(E).get(0,0));W=W.div(W.norm());let M=r.clone().sub(E.clone().mmul(W.transpose())),k=m.transpose().mmul(E).div(E.transpose().mmul(E).get(0,0)),$=s.clone().sub(E.clone().mulS(k.get(0,0)).mmul(q.transpose()));this.t=E,this.p=W.transpose(),this.w=b.transpose(),this.q=q,this.u=m,this.s=E.transpose().mmul(E),this.xResidual=M,this.yResidual=$,this.betas=k}else this.w=b.transpose(),this.s=E.transpose().mmul(E).sqrt(),i?this.t=E.clone().div(this.s.get(0,0)):this.t=E,this.xResidual=r.sub(E.mmul(b.transpose()))}}return Se.AbstractMatrix=le,Se.CHO=jo,Se.CholeskyDecomposition=jo,Se.DistanceMatrix=ut,Se.EVD=ts,Se.EigenvalueDecomposition=ts,Se.LU=Y,Se.LuDecomposition=Y,Se.Matrix=P,Se.MatrixColumnSelectionView=Kt,Se.MatrixColumnView=Mt,Se.MatrixFlipColumnView=$s,Se.MatrixFlipRowView=en,Se.MatrixRowSelectionView=_,Se.MatrixRowView=R,Se.MatrixSelectionView=T,Se.MatrixSubView=Q,Se.MatrixTransposeView=A,Se.NIPALS=Jo,Se.Nipals=Jo,Se.QR=ce,Se.QrDecomposition=ce,Se.SVD=Z,Se.SingularValueDecomposition=Z,Se.SymmetricMatrix=Ye,Se.WrapperMatrix1D=j,Se.WrapperMatrix2D=D,Se.correlation=ft,Se.covariance=yt,Se.default=P,Se.determinant=ve,Se.inverse=ie,Se.linearDependencies=at,Se.pseudoInverse=He,Se.solve=fe,Se.wrap=B,Se}var Ko=Da();const _i=Aa(Ko),Us=Ko.Matrix;_i.Matrix?_i.Matrix:Ko.Matrix;const Ii=8,Ya=1/16777216,Ga=15,Ba=18,Xa=11;function za(e,t){e>>>=0,t>>>=0;const o=e&65535;return((e-o)*t>>>0)+o*t>>>0}class Za{constructor(t=Date.now()){this.state=new Uint32Array(4),this.init(t),this.random=this.getFloat.bind(this)}getUint32(){return this.nextState(),this.state[3]+this.state[2]>>>0}getFloat(){return(this.getUint32()>>>8)*Ya}init(t){if(!Number.isInteger(t))throw new TypeError("seed must be an integer");this.state[0]=t,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(let o=1;o<Ii;o++)this.state[o&3]^=o+za(1812433253,this.state[o-1&3]^this.state[o-1&3]>>>30>>>0)>>>0;this.periodCertification();for(let o=0;o<Ii;o++)this.nextState()}periodCertification(){this.state[0]===0&&this.state[1]===0&&this.state[2]===0&&this.state[3]===0&&(this.state[0]=88,this.state[1]=83,this.state[2]=65,this.state[3]=68)}nextState(){let t=this.state[0];t^=t<<Ga,t^=t>>>Ba,t^=this.state[3]<<Xa,this.state[0]=this.state[1],this.state[1]=this.state[2],this.state[2]=this.state[3],this.state[3]=t}}const Ha=1e-8;function qi(e,t={},o=Math.random){const{size:l=1,replace:c=!1,probabilities:a}=t;let f,h;if(typeof e=="number"?f=$a(e):f=e.slice(),a){if(!c)throw new Error("choice with probabilities and no replacement is not implemented");if(a.length!==f.length)throw new Error("the length of probabilities option should be equal to the number of choices");h=[a[0]];for(let y=1;y<a.length;y++)h[y]=h[y-1]+a[y];if(Math.abs(1-h[h.length-1])>Ha)throw new Error(`probabilities should sum to 1, but instead sums to ${h[h.length-1]}`)}if(c===!1&&l>f.length)throw new Error("size option is too large");const g=[];for(let y=0;y<l;y++){const v=ef(f.length,o,h);g.push(f[v]),c||f.splice(v,1)}return g}function $a(e){const t=[];for(let o=0;o<e;o++)t.push(o);return t}function ef(e,t,o){const l=t();if(o){let c=0;for(;l>o[c];)c++;return c}else return Math.floor(l*e)}class Oo{constructor(t=Math.random){if(typeof t=="number"){const o=new Za(t);this.randomGenerator=o.random}else this.randomGenerator=t}choice(t,o){return typeof t=="number"?qi(t,o,this.randomGenerator):qi(t,o,this.randomGenerator)}random(){return this.randomGenerator()}randInt(t,o){return o===void 0&&(o=t,t=0),t+Math.floor(this.randomGenerator()*(o-t))}randomSample(t){const o=[];for(let l=0;l<t;l++)o.push(this.random());return o}}function tf(e,t,o){return new Oo(o).choice(e,{size:t})}function sf(e,t,o,l){const c=new Oo(l);let a=new Array(t);if(a[0]=Math.floor(c.random()*e.length),t>1){let f={dist:-1,index:-1};for(let h=0;h<e.length;++h)o[a[0]][h]>f.dist&&(f.dist=o[a[0]][h],f.index=h);if(a[1]=f.index,t>2)for(let h=2;h<t;++h){let g={dist:-1,index:-1};for(let y=0;y<e.length;++y){let v={dist:Number.MAX_VALUE,index:-1};for(let S=0;S<h;++S)o[S][y]<v.dist&&!a.includes(y)&&(v={dist:o[S][y],index:y});v.dist!==Number.MAX_VALUE&&v.dist>g.dist&&(g={...v})}a[h]=g.index}}return a.map(f=>e[f])}function nf(e,t,o={}){const l=new Us(e),c=l.rows,a=new Oo(o.seed),f=[],h=o.localTrials||2+Math.floor(Math.log(t)),g=a.randInt(c);f.push(l.getRow(g));let y=new Us(1,l.rows);for(let V=0;V<l.rows;V++)y.set(0,V,jn(l.getRow(V),f[0]));let v=[Fi(y.getRow(0))];const S=1/v[0][c-1];let F=Us.mul(y,S);for(let V=1;V<t;V++){const C=a.choice(c,{replace:!0,size:h,probabilities:F.getRow(0)}),O=l.selection(C,rf(l.columns)),H=of(O,l);let z=1/0,X=1/0,oe=y;for(let G=0;G<h;G++){const ne=Us.min(y,[H.getRow(G)]),ye=ne.sum();ye<X&&(z=C[G],X=ye,oe=ne)}f[V]=l.getRow(z),y=oe,v=[Fi(y.getRow(0))],F=Us.mul(y,1/v[0][c-1])}return f}function of(e,t){const o=new Us(e.rows,t.rows);for(let l=0;l<e.rows;l++)for(let c=0;c<t.rows;c++)o.set(l,c,jn(e.getRow(l),t.getRow(c)));return o}function rf(e){let t=[];for(let o=0;o<e;o++)t.push(o);return t}function Fi(e){let t=[e[0]];for(let o=1;o<e.length;o++)t[o]=t[o-1]+e[o];return t}const lf={maxIterations:100,tolerance:1e-6,initialization:"kmeans++",distanceFunction:jn};function cf(e,t,o,l,c,a){o=Wr(t,e,o,c.distanceFunction);let f=xa(e,t,o,l),h=Ta(f,e,c.distanceFunction,c.tolerance);return new Ca(o,f,h,a,c.distanceFunction)}function Vi(e,t,o){const l=af(o);Na(e,t);let c=uf(e,t,l);l.maxIterations===0&&(l.maxIterations=Number.MAX_VALUE);let a=new Array(e.length),f=!1,h=0,g;for(;!f&&h<l.maxIterations;)g=cf(c,e,a,t,l,++h),f=g.converged,c=g.centroids;if(!g)throw new Error("unreachable: no kmeans step executed");return g}function uf(e,t,o){let l;if(Array.isArray(o.initialization)){if(o.initialization.length!==t)throw new Error("The initial centers should have the same length as K");l=o.initialization}else switch(o.initialization){case"kmeans++":l=nf(e,t,o);break;case"random":l=tf(e,t,o.seed);break;case"mostDistant":l=sf(e,t,Ma(e,o.distanceFunction),o.seed);break;default:ka(o.initialization,"Unknown initialization method")}return l}function af(e){return{...lf,...e}}const mt={EXPAND_RATIO_W:.055,EXPAND_RATIO_H:.06,BOTTOM_OFFSET_RATIO:.013,STANDARD_BOARD_RATIO:1.08,RATIO_ADJUSTMENT_FACTORS:{EXPAND_H:-.008,BOTTOM:.004},HEIGHT_VARIATION_RATIO:.0175,GAUSSIAN_BLUR_SIZE:5,CANNY_THRESHOLD1:50,CANNY_THRESHOLD2:150,HOUGH_THRESHOLD:80,MIN_LINE_LENGTH:100,MAX_LINE_GAP:50,HORIZONTAL_ANGLE_THRESHOLD:10,VERTICAL_ANGLE_THRESHOLD:80};function ff(e,t){const o=t/e,l=mt.STANDARD_BOARD_RATIO;let c=mt.EXPAND_RATIO_H,a=mt.BOTTOM_OFFSET_RATIO;return o>l&&(c+=mt.RATIO_ADJUSTMENT_FACTORS.EXPAND_H,a+=mt.RATIO_ADJUSTMENT_FACTORS.BOTTOM),{expandRatioH:c,bottomOffsetRatio:a}}function hf(e){const t=cv.imread(e),o=new cv.Mat;cv.cvtColor(t,o,cv.COLOR_RGBA2GRAY);const l=new cv.Mat;cv.GaussianBlur(o,l,new cv.Size(mt.GAUSSIAN_BLUR_SIZE,mt.GAUSSIAN_BLUR_SIZE),0);const c=new cv.Mat;cv.Canny(l,c,mt.CANNY_THRESHOLD1,mt.CANNY_THRESHOLD2);const a=cv.Mat.ones(3,3,cv.CV_8U),f=new cv.Mat;cv.dilate(c,f,a,new cv.Point(-1,-1),3);const h=new cv.Mat;cv.erode(f,h,a,new cv.Point(-1,-1),1);const g=new cv.MatVector,y=new cv.Mat;if(cv.findContours(h,g,y,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE),g.size()===0)return console.log("未检测到任何轮廓。"),{gridCells:[],chessboardRect:{x:NaN,y:NaN,width:NaN,height:NaN},gridHeights:[]};let v=0,S=0;for(let G=0;G<g.size();G++){const ne=cv.contourArea(g.get(G));ne>S&&(S=ne,v=G)}const F=g.get(v),V=cv.boundingRect(F),C=t.roi(V),{expandRatioH:O,bottomOffsetRatio:H}=ff(V.width,V.height),{gridCells:z,expandedRect:X,gridHeights:oe}=gf(C,mt.EXPAND_RATIO_W,O,H);return t.delete(),o.delete(),l.delete(),c.delete(),a.delete(),f.delete(),h.delete(),g.delete(),y.delete(),C.delete(),{gridCells:z,chessboardRect:{x:V.x+X.x,y:V.y+X.y,width:X.width,height:X.height},gridHeights:oe}}function df(e){const o=Math.floor(e/10),l=o*mt.HEIGHT_VARIATION_RATIO,c=[];for(let h=0;h<10;h++){const g=h/9,y=1+g*g*l/o;c.push(Math.floor(o*y))}const a=c.reduce((h,g)=>h+g,0),f=e/a;return c.map(h=>Math.floor(h*f))}function gf(e,t,o,l){const c=new cv.Mat;cv.cvtColor(e,c,cv.COLOR_RGBA2GRAY);const a=new cv.Mat;cv.GaussianBlur(c,a,new cv.Size(mt.GAUSSIAN_BLUR_SIZE,mt.GAUSSIAN_BLUR_SIZE),0);const f=new cv.Mat;cv.Canny(a,f,mt.CANNY_THRESHOLD1,mt.CANNY_THRESHOLD2);const h=new cv.Mat;if(cv.HoughLinesP(f,h,1,Math.PI/180,80,100,50),h.rows===0)return console.log("无法检测到棋盘线条。"),{gridCells:[],expandedRect:{x:0,y:0,width:0,height:0},gridHeights:[]};const g=[],y=[];for(let Ue=0;Ue<h.rows;Ue++){const[Et,P,Ye,ut]=h.data32S.slice(Ue*4,(Ue+1)*4),De=Math.atan2(ut-P,Ye-Et)*180/Math.PI;Math.abs(De)<10?g.push([Et,P,Ye,ut]):Math.abs(De)>80&&y.push([Et,P,Ye,ut])}if(g.length<10||y.length<9)return console.log("线条不足，无法进行 KMeans 聚类。"),{gridCells:[],expandedRect:{x:0,y:0,width:0,height:0},gridHeights:[]};const v=g.flatMap(Ue=>[Ue[1],Ue[3]]),S=y.flatMap(Ue=>[Ue[0],Ue[2]]),F=Vi(v.map(Ue=>[Ue]),10,{maxIterations:100}),V=Vi(S.map(Ue=>[Ue]),9,{maxIterations:100}),C=F.centroids.map(Ue=>Ue[0]).sort((Ue,Et)=>Ue-Et),O=V.centroids.map(Ue=>Ue[0]).sort((Ue,Et)=>Ue-Et),H=Math.floor(C[0]),z=Math.ceil(C[C.length-1]),X=Math.floor(O[0]),oe=Math.ceil(O[O.length-1]),G=z-H,ne=Math.floor(G*l),ye=z-ne,Fe=e.roi(new cv.Rect(X,H,oe-X,ye-H)),de=oe-X,we=ye-H,Ne=Math.floor(de*t),tt=Math.floor(we*o),ot=Math.max(0,X-Ne),wt=Math.max(0,H-tt),Vt=Math.min(e.cols-ot,de+2*Ne),At=Math.min(e.rows-wt,we+2*tt),Ce=e.roi(new cv.Rect(ot,wt,Vt,At)),Ee=10,_e=9,_t=Math.floor(Vt/_e),Yt=df(At),It=[];let le=0;for(let Ue=0;Ue<Ee;Ue++){const Et=Yt[Ue];for(let P=0;P<_e;P++){const Ye=P*_t,ut=(P+1)*_t,De=Ce.roi(new cv.Rect(Ye,le,ut-Ye,Et)),Mt=document.createElement("canvas");Mt.width=De.cols,Mt.height=De.rows,cv.imshow(Mt,De);const Kt=Mt.getContext("2d");Kt&&It.push(Kt.getImageData(0,0,Mt.width,Mt.height)),De.delete()}le+=Et}return c.delete(),a.delete(),f.delete(),h.delete(),Fe.delete(),Ce.delete(),{gridCells:It,expandedRect:{x:ot,y:wt,width:Vt,height:At},gridHeights:Yt}}function pf(e,t){const{gridCells:o,chessboardRect:l,gridHeights:c}=hf(e),a={x:Math.max(0,l.x),y:Math.max(0,l.y),width:Math.min(l.width,e.width-l.x),height:Math.min(l.height,e.height-l.y)},f=[],h=[];for(let y=0;y<o.length;y++){const v=o[y];if(va(v)){const F=Sa(v);if(F!=="unknown"){const V=Math.floor(y/9),C=y%9,O=ba(v,F),H=cv.matFromImageData(O),z=fa(H,t,F);H.delete();const X={position:[V,C],color:F,type:z,cell:v};z==="none"?h.push(X):f.push(X)}}}const g=qa(e,a,c,[...f,...h]);return{adjustedChessboardRect:a,detectedPieces:f,unidentifiedPieces:h,overlayCanvas:g}}const mf={帥:"k",將:"k",仕:"a",士:"a",相:"b",象:"b",馬:"n",車:"r",炮:"c",砲:"c",兵:"p",卒:"p"},wf=async()=>{const e=document.createElement("canvas");return!e||!e.getContext?!1:e.toDataURL("image/webp").indexOf("data:image/webp")===0};async function Ef(e,t=128){const o=document.createElement("canvas");let l=e.width,c=e.height;(l>t||c>t)&&(l>c?(c=Math.round(c*t/l),l=t):(l=Math.round(l*t/c),c=t)),o.width=l,o.height=c;const a=o.getContext("2d");if(!a)throw new Error("无法创建 canvas context");const f=document.createElement("canvas");f.width=e.width,f.height=e.height;const h=f.getContext("2d");if(!h)throw new Error("无法创建临时 canvas context");h.putImageData(e,0,0),a.drawImage(f,0,0,l,c);const g=await wf();return new Promise(y=>{g?o.toBlob(v=>y(v),"image/webp",.8):o.toBlob(v=>y(v),"image/jpeg",.8)})}async function yf(e){var f,h,g;if(e.length>10)throw new Error("未识别棋子过多（超过10个），请检查图片质量或重新截图");const t=await Promise.all(e.map(y=>Ef(y.cell))),o=new FormData;t.forEach(y=>o.append("image",y));const l=await fetch("https://workers.nicesprite.com/api/stepfun/",{method:"POST",body:o});if(!l.ok)throw new Error("StepFun API 请求失败");const c=await l.json();if(!((g=(h=(f=c.choices)==null?void 0:f[0])==null?void 0:h.message)!=null&&g.content))throw new Error("StepFun API 返回格式错误");return[c.choices[0].message.content.split(/，|,/).map(y=>y.trim()).filter(Boolean)]}function vf(e){const t=es();return{processUploadedImage:async l=>{if(!e.value){t.setError("模板未加载");return}console.log("[ImageProcessing] 开始处理图片"),t.isProcessing=!0,t.resetHistory(),t.originalImageSize={width:l.width,height:l.height};try{const{adjustedChessboardRect:c,detectedPieces:a,unidentifiedPieces:f,overlayCanvas:h}=pf(l,e.value);if(t.chessboardRect=c,t.overlayImageSrc=h.toDataURL(),f.length>0){console.log(`[ImageProcessing] 开始识别 ${f.length} 个未知棋子`);try{const v=await yf(f);console.log("[ImageProcessing] StepFun API 返回结果:",v),v.forEach((S,F)=>{const V=F*10;S.forEach((C,O)=>{const H=f[V+O];if(H){const z=mf[C];z&&(console.log(`[ImageProcessing] 识别成功: [${H.position}] = ${C} (${z})`),H.type=z,a.push(H))}})})}catch(v){console.error("[ImageProcessing] StepFun API 识别失败:",v),t.setError(`部分棋子类型识别失败: ${v.message}`)}}console.log("[ImageProcessing] 生成 FEN 码");const g=Array.from({length:10},()=>Array(9).fill("none"));a.forEach(v=>{const[S,F]=v.position;v.type!=="none"&&(g[S][F]=`${v.color}_${v.type}`)});const y=da(g,"red");console.log("[ImageProcessing] 设置 FEN 码:",y),t.setFenCode(y)}catch(c){console.error("[ImageProcessing] 处理失败:",c),t.setError(`处理图像失败: ${c.message}`)}finally{console.log("[ImageProcessing] 处理完成"),t.isProcessing=!1}}}}const Sf={class:"upload-container"},bf=Dt({__name:"ImageUploader",props:{onImageUpload:{type:Function}},setup(e){const t=e,o=Le(null),l=a=>{var h;const f=(h=a.target.files)==null?void 0:h[0];if(f){const g=new FileReader;g.onload=y=>{var S;const v=new Image;v.onload=async()=>{await t.onImageUpload(v)},v.src=(S=y.target)==null?void 0:S.result},g.readAsDataURL(f)}},c=()=>{var a;(a=o.value)==null||a.click()};return(a,f)=>(Pe(),We("section",Sf,[f[0]||(f[0]=ae("h2",null,"上传图片",-1)),ae("input",{ref_key:"fileInputRef",ref:o,type:"file",onChange:l,accept:"image/*",class:"file-input"},null,544),ae("button",{onClick:c},"选择图片")]))}}),Nt=(e,t)=>{const o=e.__vccOpts||e;for(const[l,c]of t)o[l]=c;return o},Rf=Nt(bf,[["__scopeId","data-v-8af8ee0e"]]),Uf={class:"section"},_f=["src"],If=360,hn=15,qf=Dt({__name:"BoardResult",setup(e){const t=es(),{overlayImageSrc:o,chessboardRect:l,originalImageSize:c}=Hs(t),a=$e(()=>{var O;return Math.max(0,(((O=l.value)==null?void 0:O.x)||0)-hn)}),f=$e(()=>{var O;return Math.max(0,(((O=l.value)==null?void 0:O.y)||0)-hn)}),h=$e(()=>{var O,H;return Math.min((((O=c.value)==null?void 0:O.width)||0)-a.value,(((H=l.value)==null?void 0:H.width)||0)+2*hn)}),g=$e(()=>{var O,H;return Math.min((((O=c.value)==null?void 0:O.height)||0)-f.value,(((H=l.value)==null?void 0:H.height)||0)+2*hn)}),y=$e(()=>Math.min(1,If/Math.max(h.value,g.value))),v=$e(()=>{var O;return(((O=c.value)==null?void 0:O.width)||0)/h.value}),S=$e(()=>h.value*y.value),F=$e(()=>g.value*y.value),V=$e(()=>S.value*v.value),C=$e(()=>(S.value-V.value)/2);return(O,H)=>{var z;return Pe(),We("section",Uf,[H[0]||(H[0]=ae("h2",null,"棋盘识别结果",-1)),ae("div",{class:"image-container",style:Ls({width:`${S.value}px`,paddingBottom:`${F.value}px`})},[Ge(o)?(Pe(),We("img",{key:0,src:Ge(o),alt:"棋盘识别结果",class:"overlay-image",style:Ls({left:`${C.value}px`,width:`${V.value}px`,height:`${(((z=Ge(c))==null?void 0:z.height)||0)*y.value}px`,marginTop:`${-f.value*y.value}px`})},null,12,_f)):ds("",!0)],4)])}}}),Ff=Nt(qf,[["__scopeId","data-v-afcb1773"]]),Vf={class:"section"},Mf={class:"fen-container"},xf=["value"],Tf=Dt({__name:"FENDisplay",setup(e){const t=es(),{fenCode:o}=Hs(t),l=()=>{navigator.clipboard.writeText(o.value)};return(c,a)=>(Pe(),We("section",Vf,[a[0]||(a[0]=ae("h2",null,"FEN代码",-1)),ae("div",Mf,[ae("input",{type:"text",value:Ge(o),readonly:""},null,8,xf),ae("button",{onClick:l},"复制")])]))}}),Cf=Nt(Tf,[["__scopeId","data-v-03305d7e"]]),kf="/xiangqi-analysis/assets/LiSu-BT8uMcwJ.woff2",se=40;function Nf(e,t,o){const l=se/2,c=8*se+2*l,a=9*se+2*l;e.width=c*o,e.height=a*o,e.style.width=`${c*o/window.devicePixelRatio}px`,e.style.height=`${a*o/window.devicePixelRatio}px`,t.scale(o,o),t.fillStyle="#f0d9b5",t.fillRect(0,0,e.width,e.height),t.strokeStyle="#000",t.lineWidth=1;for(let g=0;g<=9;g++)t.beginPath(),t.moveTo(l,g*se+l),t.lineTo(c-l,g*se+l),t.stroke();for(let g=0;g<=8;g++)t.beginPath(),t.moveTo(g*se+l,l),t.lineTo(g*se+l,4*se+l),t.stroke(),t.beginPath(),t.moveTo(g*se+l,5*se+l),t.lineTo(g*se+l,a-l),t.stroke();t.beginPath(),t.moveTo(l,4*se+l),t.lineTo(l,5*se+l),t.stroke(),t.beginPath(),t.moveTo(c-l,4*se+l),t.lineTo(c-l,5*se+l),t.stroke(),t.font='20px "LiSu", sans-serif',t.fillStyle="rgba(0, 0, 0, 0.3)",t.textAlign="center",t.textBaseline="middle",t.fillText("楚  河",2*se+l,4.6*se+l),t.fillText("汉  界",6*se+l,4.6*se+l),t.beginPath(),t.moveTo(3*se+l,l),t.lineTo(5*se+l,2*se+l),t.moveTo(5*se+l,l),t.lineTo(3*se+l,2*se+l),t.moveTo(3*se+l,7*se+l),t.lineTo(5*se+l,9*se+l),t.moveTo(5*se+l,7*se+l),t.lineTo(3*se+l,9*se+l),t.stroke();function f(g,y,v=!1){if(!t)return;const S=se*.15,F=-se*.23;t.strokeStyle="rgba(0, 0, 0, 0.4)",t.lineWidth=1,(!v||g<c/2)&&(t.beginPath(),t.moveTo(g-S-F,y-F),t.lineTo(g-S-F,y-S-F),t.lineTo(g-F,y-S-F),t.stroke(),t.beginPath(),t.moveTo(g-S-F,y+F),t.lineTo(g-S-F,y+S+F),t.lineTo(g-F,y+S+F),t.stroke()),(!v||g>c/2)&&(t.beginPath(),t.moveTo(g+S+F,y-F),t.lineTo(g+S+F,y-S-F),t.lineTo(g+F,y-S-F),t.stroke(),t.beginPath(),t.moveTo(g+S+F,y+F),t.lineTo(g+S+F,y+S+F),t.lineTo(g+F,y+S+F),t.stroke())}f(1*se+l,2*se+l),f(7*se+l,2*se+l),f(1*se+l,7*se+l),f(7*se+l,7*se+l);for(let g=0;g<5;g++){const y=g===0||g===4;f(2*g*se+l,3*se+l,y),f(2*g*se+l,6*se+l,y)}t.font="11px Arial",t.textAlign="center",t.textBaseline="middle",t.fillStyle="rgba(0, 0, 0, 0.4)";const h=["一","二","三","四","五","六","七","八","九"];for(let g=0;g<9;g++)t.fillText(h[g],(8-g)*se+l,a-l/2);for(let g=0;g<9;g++)t.fillText((9-g).toString(),(8-g)*se+l,l/2)}function Af(e,t,o,l,c){const a=se/2,[f,h]=o,g=h*se+a,y=f*se+a,v=se*.4;e.beginPath(),e.arc(g+2,y+2,v,0,Math.PI*2),e.fillStyle="rgba(0, 0, 0, 0.3)",e.fill(),e.beginPath(),e.arc(g,y,v,0,Math.PI*2),e.fillStyle=t.color==="red"?"#ffcccc":"#e0e0e0",e.fill(),e.strokeStyle=t.color==="red"?"#c00000":"#000000",e.lineWidth=2,e.stroke(),e.fillStyle=t.color==="red"?"#c00000":"#000000",e.font='22px "LiSu", sans-serif';const S=t.type.toUpperCase(),F=t.color==="red"?Si[S]:Si[S.toLowerCase()];if(e.save(),e.setTransform(l,0,0,1.3*l,g*l,y*l),e.textAlign="center",e.textBaseline="bottom",e.fillText(F,v*.05,v*.9),e.restore(),c){const V=se*.9,C=V*.25;e.strokeStyle="rgba(0, 220, 75, 0.9)",e.lineWidth=2,e.beginPath(),e.moveTo(g-V/2,y-V/2+C),e.lineTo(g-V/2,y-V/2),e.lineTo(g-V/2+C,y-V/2),e.stroke(),e.beginPath(),e.moveTo(g+V/2-C,y-V/2),e.lineTo(g+V/2,y-V/2),e.lineTo(g+V/2,y-V/2+C),e.stroke(),e.beginPath(),e.moveTo(g-V/2,y+V/2-C),e.lineTo(g-V/2,y+V/2),e.lineTo(g-V/2+C,y+V/2),e.stroke(),e.beginPath(),e.moveTo(g+V/2-C,y+V/2),e.lineTo(g+V/2,y+V/2),e.lineTo(g+V/2,y+V/2-C),e.stroke()}}function Kf(e,t){const o=se/2,[l,c]=t.match(/.{2}/g)||[];if(!l||!c)return;const a=l.charCodeAt(0)-97,f=9-parseInt(l[1]),h=c.charCodeAt(0)-97,g=9-parseInt(c[1]),y=a*se+o,v=f*se+o,S=h*se+o,F=g*se+o,V=15,C=Math.atan2(F-v,S-y),O=S-V*Math.cos(C)*.86,H=F-V*Math.sin(C)*.86;e.beginPath(),e.moveTo(y,v),e.lineTo(O,H),e.strokeStyle="rgba(0, 0, 255, 0.6)",e.lineWidth=3,e.stroke(),e.beginPath(),e.moveTo(S,F),e.lineTo(S-V*Math.cos(C-Math.PI/6),F-V*Math.sin(C-Math.PI/6)),e.lineTo(S-V*Math.cos(C+Math.PI/6),F-V*Math.sin(C+Math.PI/6)),e.closePath(),e.fillStyle="rgba(0, 0, 255, 0.6)",e.fill()}const Of={style:{width:"100%",display:"flex","justify-content":"center"}},jf=Dt({__name:"ChessboardDisplay",setup(e){const t=es(),o=Le(null),l=Le([]),c=Le(h()),a=Le(!1),f=Le(null);function h(){const v=window.innerWidth*.8,S=8*se+se,F=window.devicePixelRatio;return Math.min(1,v/S)*F}zs(()=>{var F;const v=new FontFace("LiSu",`url(${kf})`);v.load().then(()=>(document.fonts.add(v),document.fonts.ready)).then(()=>{a.value=!0}).catch(V=>{t.setError(`加载字体失败: ${V.message}`)});try{l.value=vi(t.fenCode)}catch(V){t.setError(`解析 FEN 码失败: ${V.message}`)}const S=()=>{o.value&&(c.value=h())};window.addEventListener("resize",S),(F=o.value)==null||F.addEventListener("click",g),ms(()=>t.fenCode,V=>{try{l.value=vi(V)}catch(C){t.setError(`解析 FEN 码失败: ${C.message}`)}}),ms([l,()=>t.bestMove,c,a,f],()=>{Mo(()=>{o.value&&y(o.value)})}),gr(()=>{var V;window.removeEventListener("resize",S),(V=o.value)==null||V.removeEventListener("click",g)})});const g=v=>{const S=o.value;if(!S)return;const F=S.getBoundingClientRect(),V=S.width/F.width,C=S.height/F.height,O=(v.clientX-F.left)*V,H=(v.clientY-F.top)*C,z=se/2*c.value,X=Math.round((O-z)/(se*c.value)),oe=Math.round((H-z)/(se*c.value));if(X>=0&&X<=8&&oe>=0&&oe<=9)if(f.value){const[G,ne]=f.value,ye=`${String.fromCharCode(97+ne)}${9-G}`,Fe=`${String.fromCharCode(97+X)}${9-oe}`,de=`${ye}${Fe}`;try{const we=Pr(t.fenCode,de);t.setFenCode(we),f.value=null}catch(we){t.setError(`更新 FEN 码失败: ${we.message}`)}}else f.value=[oe,X]};function y(v){const S=v.getContext("2d");S&&(S.clearRect(0,0,v.width,v.height),Nf(v,S,c.value),l.value.forEach((F,V)=>{F.forEach((C,O)=>{if(C){const H=f.value&&f.value[0]===V&&f.value[1]===O;Af(S,C,[V,O],c.value,!!H)}})}),t.bestMove&&Kf(S,t.bestMove))}return(v,S)=>(Pe(),We("div",Of,[ae("canvas",{ref_key:"canvasRef",ref:o,class:"chessboard",style:{"max-width":"80vw",height:"auto"}},null,512)]))}}),Jf=Nt(jf,[["__scopeId","data-v-bb5ff191"]]),Qf={class:"section"},Lf={class:"chessboard-display"},Pf={class:"solution-controls"},Wf=["disabled"],Df=["disabled"],Yf={class:"solution-debug"},Gf={key:0},Bf={key:1,style:{color:"red"}},Xf={key:2},zf={key:3,style:{fontWeight:"bold",color:"green"}},Zf={class:"move-list"},Hf=Dt({__name:"SolutionDisplay",setup(e){const t=es(),{bestMove:o,isCalculating:l,error:c,moveHistory:a,fenCode:f,fenHistory:h}=Hs(t),g=()=>{t.handleNextMove()},y=()=>{t.handlePreviousMove()},v=H=>{t.setFenCode(H)},S=$e(()=>a.value.length%2===0?"红方":"黑方"),F=$e(()=>a.value.length+1),V=$e(()=>a.value.map((H,z)=>{if(z>=h.value.length)return console.error("历史记录不同步:",{moveIndex:z,fenHistoryLength:h.value.length,moveHistoryLength:a.value.length,fenHistory:h.value,moveHistory:a.value}),"未知走法";try{return yi(h.value[z],H)}catch(X){return console.error("转换走法出错:",X),"未知走法"}})),C=$e(()=>o.value==="red_wins"||o.value==="black_wins"),O=$e(()=>o.value==="red_wins"?"红方胜":o.value==="black_wins"?"黑方胜":"");return(H,z)=>(Pe(),We("section",Qf,[z[0]||(z[0]=ae("h2",null,"解法展示",-1)),ae("div",Lf,[Ze(Jf,{fen:Ge(f),bestMove:C.value?"":Ge(o),onFenUpdate:v},null,8,["fen","bestMove"])]),ae("div",Pf,[ae("button",{onClick:y,disabled:Ge(a).length===0}," 上一步 ",8,Wf),ae("button",{onClick:g,disabled:Ge(l)||!Ge(o)||C.value}," 下一步 ",8,Df)]),ae("div",Yf,[Ge(l)?(Pe(),We("p",Gf,"正在计算最佳走法...")):ds("",!0),Ge(c)?(Pe(),We("p",Bf,Qt(Ge(c)),1)):ds("",!0),!C.value&&Ge(o)?(Pe(),We("p",Xf,Qt(S.value)+"最佳走法： "+Qt(Ge(yi)(Ge(f),Ge(o)))+" （第 "+Qt(F.value)+" 步） ",1)):ds("",!0),C.value?(Pe(),We("p",zf,Qt(O.value),1)):ds("",!0)]),ae("div",Zf,[(Pe(!0),We(Ct,null,pr(V.value,(X,oe)=>(Pe(),We("span",{key:oe,class:"move-item"},Qt(X),1))),128))])]))}}),$f=Nt(Hf,[["__scopeId","data-v-09d53783"]]),eh={class:"section"},th={class:"depth-slider-container"},sh={for:"depth-slider"},nh=Dt({__name:"DepthControl",setup(e){const t=es(),{depth:o}=Hs(t);return(l,c)=>(Pe(),We("section",eh,[c[1]||(c[1]=ae("h2",null,"搜索深度控制",-1)),ae("div",th,[ae("label",sh,"当前深度: "+Qt(Ge(o)),1),Zl(ae("input",{id:"depth-slider",type:"range",min:"10",max:"30","onUpdate:modelValue":c[0]||(c[0]=a=>Je(o)?o.value=a:null)},null,512),[[Su,Ge(o),void 0,{number:!0}]])])]))}}),oh=Nt(nh,[["__scopeId","data-v-bab9fde6"]]),ih=`<h3>2024-11-29</h3>
<ul>
<li>使用大模型 StepFun 分析未识别的棋子</li>
<li>删除关闭行棋提示的提醒</li>
</ul>
<h3>2024-11-11</h3>
<ul>
<li>增加示例部分</li>
</ul>
<h3>2024-11-01</h3>
<ul>
<li>优化 OpenCV.js 加载完成的判断条件</li>
<li>优化全局样式，使用 scoped 样式</li>
</ul>
<h3>2024-10-15</h3>
<ul>
<li>使用 Vue 3 重构</li>
<li>改用 <code>pinia</code> 管理状态</li>
<li>优化代码结构</li>
</ul>
<h3>2024-10-08</h3>
<ul>
<li>增加 更新日志 显示</li>
<li>棋盘显示优化
<ul>
<li>棋子字体使用隶书</li>
<li>提升高清屏渲染质量</li>
</ul>
</li>
<li>支持棋子任意移动，黑方可不走最佳走法</li>
</ul>
<h3>2024-10-07</h3>
<ul>
<li>优化 <strong>OpenCV.js</strong> 库加载、使用 <code>cdn.jsdmirror.com</code> 替换 <code>jsdelivr.net</code></li>
<li><strong>Pikafish</strong> 使用 <code>xiangqiai.com</code> 的 wasm 版本</li>
<li>优化黑棋子识别</li>
<li>新增欢迎提示和加载界面</li>
</ul>
`,rh={class:"changelog"},lh={class:"changelog-arrow"},ch=["innerHTML"],uh=Dt({__name:"Changelog",setup(e){const t=Le(!1),o=()=>{t.value=!t.value},l=ih;return(c,a)=>(Pe(),We("div",rh,[ae("h3",{onClick:o,class:"changelog-title"},[ae("span",lh,Qt(t.value?"▼":"▶"),1),a[0]||(a[0]=bn(" 更新日志 "))]),t.value?(Pe(),We("div",{key:0,class:"changelog-content markdown-content",innerHTML:Ge(l)},null,8,ch)):ds("",!0)]))}}),ah=Nt(uh,[["__scopeId","data-v-046a9ede"]]),fh={key:0,class:"modal-overlay"},hh={open:"",class:"welcome-modal"},dh={class:"welcome-modal-content"},gh={class:"button-group"},ph=Dt({__name:"WelcomeModal",setup(e){const t="bf2677c1",o=Le(!1);zs(()=>{const c=localStorage.getItem("lastSeenVersion");(!(localStorage.getItem("skipFutureModals")==="true")||c!==t)&&(o.value=!0)});const l=c=>{o.value=!1,localStorage.setItem("lastSeenVersion",t),c?localStorage.setItem("skipFutureModals","true"):localStorage.removeItem("skipFutureModals")};return(c,a)=>o.value?(Pe(),We("div",fh,[ae("dialog",hh,[ae("div",dh,[a[2]||(a[2]=ae("h2",null,"欢迎使用",-1)),a[3]||(a[3]=ae("p",null,"该应用正在开发完善中",-1)),a[4]||(a[4]=ae("p",null,"目前在 JJ象棋 残局截图上进行了测试",-1)),Ze(ah),ae("div",gh,[ae("button",{onClick:a[0]||(a[0]=f=>l(!1)),class:"primary-button"}," 我知道了 "),ae("button",{onClick:a[1]||(a[1]=f=>l(!0)),class:"secondary-button"}," 不再提示 ")])])])])):ds("",!0)}}),mh=Nt(ph,[["__scopeId","data-v-b05a7d36"]]),wh={},Eh={class:"spinner"};function yh(e,t){return Pe(),We("div",Eh)}const vh=Nt(wh,[["render",yh],["__scopeId","data-v-dd5449e5"]]),Sh={class:"section"},bh={class:"demo-images-grid"},Rh=["onClick"],Uh=["src","alt"],_h={class:"demo-image-description"},Ih=Dt({__name:"LoadDemo",emits:["selectDemo"],setup(e,{emit:t}){const o=[{url:new URL("/xiangqi-analysis/assets/example1-C4jyedU1.jpg",import.meta.url).href,description:"示例1"},{url:new URL("/xiangqi-analysis/assets/example2-wME4h_Eg.jpg",import.meta.url).href,description:"示例2"},{url:new URL("/xiangqi-analysis/assets/example3-A9YVSqiV.jpg",import.meta.url).href,description:"示例3"}],l=t,c=a=>{const f=new Image;f.src=a.url,f.onload=async()=>{await l("selectDemo",f)}};return(a,f)=>(Pe(),We("section",Sh,[f[0]||(f[0]=ae("h2",null,"示例",-1)),ae("div",bh,[(Pe(),We(Ct,null,pr(o,(h,g)=>ae("div",{key:g,class:"demo-image-item",onClick:()=>c(h)},[ae("img",{src:h.url,alt:h.description},null,8,Uh),ae("span",_h,Qt(h.description),1)],8,Rh)),64))])]))}}),qh=Nt(Ih,[["__scopeId","data-v-47a99afe"]]),Fh={key:0,class:"loading-overlay"},Vh={key:1},Mh={class:"app-container"},xh={class:"content-wrapper"},Th={class:"left-column"},Ch={class:"right-column"},kh={class:"result-group"},Nh=Dt({__name:"App",setup(e){const{templates:t}=ga(),{fetchBestMove:o,isEngineReady:l}=ya(),c=$e(()=>{const y=!!t.value;return!l.value||!y}),a=es();ms(()=>[a.fenCode,a.depth,a.isProcessing],([y,v,S],[F])=>{console.log("[App] 状态变化:",{oldFen:F,newFen:y,isProcessing:S,bestMove:a.bestMove}),y&&!S&&y!==F?(console.log("[App] 触发引擎分析"),o(y,v)):console.log("[App] 跳过引擎分析:",{hasFen:!!y,isProcessing:S,fenChanged:y!==F})});const{processUploadedImage:f}=vf(t),h=async y=>{console.log("[App] 开始处理新图片"),await f(y),console.log("[App] 图片处理完成")},g=async y=>{var S;const v=(S=y.clipboardData)==null?void 0:S.items;if(v)for(const F of v){if(F.type.indexOf("image")===-1)continue;const V=F.getAsFile();if(!V)continue;const C=new Image;C.onload=()=>{h(C)},C.src=URL.createObjectURL(V),y.preventDefault();break}};return zs(()=>{document.addEventListener("paste",g)}),kn(()=>{document.removeEventListener("paste",g)}),(y,v)=>(Pe(),We("div",null,[c.value?(Pe(),We("div",Fh,[Ze(vh),v[0]||(v[0]=ae("p",null,"正在加载必要组件，请稍候...",-1)),v[1]||(v[1]=ae("p",null,"如果加载时间过长，请刷新页面重试。",-1))])):(Pe(),We("div",Vh,[v[2]||(v[2]=ae("header",null,[ae("h1",null,"象棋棋盘识别与分析")],-1)),ae("main",Mh,[Ze(mh),ae("div",xh,[ae("div",Th,[Ze(Rf,{onImageUpload:h}),Ze($f)]),ae("div",Ch,[ae("div",kh,[Ze(Ff),Ze(qh,{onSelectDemo:h}),Ze(Cf),Ze(oh)])])])]),v[3]||(v[3]=ae("footer",null,[ae("p",null,[bn(" 2024 象棋棋盘识别与分析系统 | Powered by "),ae("a",{href:"https://github.com/official-pikafish/Pikafish"},"Pikafish"),bn(" |  "),ae("a",{href:"https://github.com/iFwu/xiangqi-analysis"},"GitHub 源码仓库")])],-1))]))]))}}),Ah=Nt(Nh,[["__scopeId","data-v-f952f2b0"]]),Yr=Uu(Ah),Kh=Fu();Yr.use(Kh);Yr.mount("#app");
